{"id":"vanilla_audio","script":"//* TITLE Vanilla Audio **//\n//* VERSION 0.2.1 **//\n//* DESCRIPTION\tAdds an alternative audio player to audio posts. **//\n//* DETAILS This extension adds a native HTML5 audio player to every audio post, with an option for the default volume and the ability to loop the audio. **//\n//* DEVELOPER akunohomu **//\n//* FRAME false **//\n//* BETA true **//\n\nXKit.extensions.vanilla_audio = new Object({\n\n\trunning: false,\n\n\tpreferences: {\n\t\t\"default_volume\": {\n\t\t\ttext: \"Default volume\",\n\t\t\tdefault: 1.0,\n\t\t\tvalue: 1.0,\n\t\t\ttype: \"combo\",\n\t\t\tvalues: [\n\t\t\t\t\"100%\", 1.0,\n\t\t\t\t\"75%\", 0.75,\n\t\t\t\t\"50%\", 0.50,\n\t\t\t\t\"25%\", 0.25\n\t\t\t],\n\t\t\tdesktop_only: true\n\t\t}\n\t},\n\n\trun: function() {\n\t\t\"use strict\";\n\t\tthis.running = true;\n\t\tXKit.post_listener.add(\"vanilla_audio\", this.add_audio);\n\t\tthis.add_audio();\n\t},\n\n\tadd_audio: function() {\n\t\t\"use strict\";\n\t\t$(\".native-audio-container\").not(\".xkit-audio-added\").each(function(index) {\n\t\t\tvar $this = $(this);\n\t\t\t$this.addClass(\"xkit-audio-added\");\n\t\t\tvar url = $this.attr(\"data-stream-url\");\n\t\t\tvar key = $this.attr(\"data-post-key\");\n\t\t\tif (url && key) {\n\t\t\t\tvar player = $(\"<audio class='xkit-audio-player' src='\" + url + \"?play_key=\" + key +\n\t\t\t\t\t\"' preload='none' style='width:100%;margin-top:8px;' controls><p>No audio support detected</p></audio>\");\n\t\t\t\tplayer.prop(\"volume\", XKit.extensions.vanilla_audio.preferences.default_volume.value);\n\t\t\t\t$this.parent().after(player);\n\t\t\t}\n\t\t});\n\t},\n\n\tdestroy: function() {\n\t\t\"use strict\";\n\t\tXKit.post_listener.remove(\"vanilla_audio\");\n\t\t$(\".xkit-audio-added\").removeClass(\"xkit-audio-added\");\n\t\t$(\".xkit-audio-player\").remove();\n\t\tthis.running = false;\n\t}\n\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC+lBMVEUAAABaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpaWlpzhTbLAAAA/XRSTlMA/gL7AQb2/QT5DO8J8xAZFOt4FS+iDVQj5rP1oGXjIdbuZ4/k2EIXHjzh1OwgPu3FtHoWMKPKkeUkfgdEu4A126roKNCZEUzCComyHwXEdo1AyLZ8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\n","title":"Vanilla Audio","description":"Adds an alternative audio player to audio posts.","developer":"akunohomu","version":"0.2.1","details":"This extension adds a native HTML5 audio player to every audio post, with an option for the default volume and the ability to loop the audio.","frame":"false","beta":"true","slow":"false"}