{"id":"elevator","script":"//* TITLE Elevator **//\n//* VERSION 0.0.3 **//\n//* DESCRIPTION Scroll to top the old-fashioned way **//\n//* DETAILS Makes the scroll to top button scroll slowly and play elevator music. **//\n//* DEVELOPER hobinjk **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.elevator = {\n\trunning: false,\n\tpreferences: {\n\t\tsep0: {\n\t\t\ttext: \"Options\",\n\t\t\ttype: \"separator\"\n\t\t},\n\t\tplay_music: {\n\t\t\ttext: \"Jazz up the experience with music\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t}\n\t},\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tthis.element = document.querySelector(\".elevator\");\n\t\tthis.elevate = this.elevate.bind(this);\n\n\t\tthis.element.addEventListener(\"click\", this.elevate, true);\n\t},\n\n\televate: function(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tvar options = {};\n\t\tif (this.preferences.play_music.value) {\n\t\t\toptions = {\n\t\t\t\tmainAudio: \"https://hobinjk.github.io/elevator.js/demo/music/elevator.mp3\",\n\t\t\t\tendAudio: \"https://hobinjk.github.io/elevator.js/demo/music/ding.mp3\"\n\t\t\t};\n\t\t}\n\n\t\tvar elevator = new Elevator(options);\n\t\televator.elevate();\n\t},\n\n\tdestroy: function() {\n\t\tif (!this.running) {\n\t\t\treturn;\n\t\t}\n\t\tthis.running = false;\n\t\tif (this.element) {\n\t\t\tthis.element.removeEventListener(\"click\", this.elevate, true);\n\t\t}\n\t}\n};\n\n/** Elevator.min.js from https://github.com/tholman/elevator.js */\n// eslint-disable-next-line\nvar Elevator=function(n){\"use strict\";function o(n,o,e,t){return n/=t/2,1>n?e/2*n*n+o:(n--,-e/2*(n*(n-2)-1)+o)}function e(n,o){for(var e in o){var t=void 0===n[e]&&\"function\"!=typeof e;t&&(n[e]=o[e])}return n}function t(n){w||(w=n);var e=n-w,i=o(e,f,-f,p);window.scrollTo(0,i),p>e?A=requestAnimationFrame(t):r()}function i(){return window.requestAnimationFrame&&window.Audio&&window.addEventListener}function u(){w=null,f=null,E=!1}function r(){u(),c&&(c.pause(),c.currentTime=0),m&&m.play()}function d(){E&&(cancelAnimationFrame(A),u(),c&&(c.pause(),c.currentTime=0),window.scrollTo(0,0))}function l(n){n.addEventListener?n.addEventListener(\"click\",T.elevate,!1):n.attachEvent(\"onclick\",function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,window.scroll(0,0)})}function a(n){s=document.body;var o={duration:void 0,mainAudio:!1,endAudio:!1,preloadAudio:!0,loopAudio:!0};n=e(n,o),n.element&&l(n.element),i()&&(n.duration&&(v=!0,p=n.duration),window.addEventListener(\"blur\",d,!1),n.mainAudio&&(c=new Audio(n.mainAudio),c.setAttribute(\"preload\",n.preloadAudio),c.setAttribute(\"loop\",n.loopAudio)),n.endAudio&&(m=new Audio(n.endAudio),m.setAttribute(\"preload\",\"true\")))}var c,m,s=null,A=null,p=null,v=!1,w=null,f=null,E=!1,T=this;this.elevate=function(){E||(E=!0,f=document.documentElement.scrollTop||s.scrollTop,v||(p=1.5*f),requestAnimationFrame(t),c&&c.play())},a(n)};\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABRFJREFUeAHtnU1OFUEUhRuBgRIjiRpWoMaZU+PcgQvALWjeRJyxAhahixCHxpluwpjoHOZo/MnT80glQF7X7Z+q7qpzTyUvDdz+qXu+r7sf0sLGYrFYNhpuE7jmtnM1vkpAAjgXQQJIAOcJOG9fVwAJ4DwB5+3rCuBcgC2r/6OjI2sV1QtO4PDwMDo7XQGi8fAXJQA/42iHEiAaD39RAvAzjnYoAaLx8BclAD/jaIcSIBoPf1EC8DOOdigBovHwFyUAP+NohxIgGg9/UQLwM452KAGi8fAXJQA/42iHEiAaD39RAvAzjnYoAaLx8BclAD/jaIcSIBoPf1EC8DOOduhagD/LXw1enodbAf4ufzfvT183xycHriVwKQDgH58eNN9+fGq+//zsWgJ3AlyEHy79niVwJcA6+N4lcCNADL5nCVwIAPjvTl6t7vkBdtsy3A6wjYdBL0A48wG261hJ8P9NogcJqAUI8PFuv+/ANvhOgV0CWgHGwA+yeJCAUoAU8L1IQCdASvgeJKASIAd8dgloBMgJn1kCCgGmgM8qQfUCTAmfUYKqBZgDPpsE1QowJ3wmCaoUoAT4LBJUJ0BJ8BkkqEoAPL8XnuQJ4ZeyDP9sXNszhtUIgGDxDN+QH+xMJQnmhjnWJEEVAtQAP0hWmwTFCwD4eHI3x5l/d/t+g1fqgbnW8rRx0QKEM7/PwxxdYd7Zvtfs771ZvfBx6oE513A7KFaAAD/HmQ/gz/feNtc3d1cvfJxDghpuB0UKkPOyfxF+OOshQk4JSr4dFCdAgJ/rsh/O/AA/LHNKsHrGsND/gVSUAHPB9yxBMQLkhI93+m1nfoAfluFKkOO7gxKvBEUIkBs+3u0DbNeBdbGNBwlmF6A0+EESLxLMKkCp8D1JMJsApcP3IsEsAtQC34MEkwtQG3x2CSYVoFb4zBJMJkDt8FklmEQAFviMEmQXgA0+mwRZBWCFzyRBNgHY4bNIkEUAL/AZJEgugDf4tUuQVACv8GuWIJkA3uHXKkESAQQ/4D9f1vSj5NECCP5l+OGzWiQYJYDgB9zrlzVIMFgAwV8P/epXS5dgkACCfxVz/POSJegtgODHYbdVS5WgtwBfzz6u/spGW6NDv44ncPs+vTv0WHNtl1sCsOk7egvwcOdZ8/jWi77Hia7vAX4IIJcEYAI2fUdvAXCAJ7svk0ngCX6Ak1oCwAeTIWOQADhQCgk8wg+QUkkwBj7mMlgAbDxGAs/wkR3GWAnGwsccRgmAHQyRQPCR3PkYKkEK+JjBaAGwkz4SCD4Suzz6SpAKPmaRRADsqIsEgo+k1o+uEqSEj5kkEwA7i0kg+EgoPiwJUsPHbJIKgB2uk0DwkUy30SZBDviYUXIBsNOLEgg+Euk3rkqQCz5mtdVvat3XhgQ7m7ebBzee9vrlDN2PwL1mkODL2Yfm0c39bM1mEwAzzjnxbIkUtGNIkDvDLLeAgjLUVIwEJIAREHtZArATNvqTAEZA7GUJwE7Y6E8CGAGxlyUAO2GjPwlgBMRelgDshI3+JIAREHtZArATNvqTAEZA7GUJwE7Y6E8CGAGxlyUAO2GjPwlgBMRelgDshI3+JIAREHtZArATNvqTAEZA7GUJwE7Y6E8CGAGxlyUAO2GjPwlgBMRelgDshI3+JIAREHt5Y7FYLNmbVH/tCegK0J6Ni4oEcIG5vUkJ0J6Ni4oEcIG5vUkJ0J6Ni4oEcIG5vUkJ0J6Ni8o/DqOq7GwiBCsAAAAASUVORK5CYII=\n","title":"Elevator","description":"Scroll to top the old-fashioned way","developer":"hobinjk","version":"0.0.3","details":"Makes the scroll to top button scroll slowly and play elevator music.","frame":"false","beta":"false","slow":"false"}