{"id":"xkit_patches","script":"//* TITLE XKit Patches **//\n//* VERSION 7.1.1 **//\n//* DESCRIPTION Patches framework **//\n//* DEVELOPER new-xkit **//\n\nXKit.extensions.xkit_patches = new Object({\n\n\trunning: false,\n\n\tpreferences: {\n\t\tdebug_mode: {\n\t\t\ttext: \"XKit Developer Mode\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t}\n\t},\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tvar to_run = [];\n\t\tfor (var i in this.patches) {\n\t\t\tto_run.unshift(i);\n\t\t\tif (i === XKit.version) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (var x in to_run) {\n\t\t\tthis.patches[to_run[x]]();\n\t\t}\n\n\t\t// Identify retina screen displays. Unused anywhere else\n\t\ttry {\n\t\t\tXKit.retina = window.devicePixelRatio > 1;\n\t\t} catch (e) { }\n\n\t\tif (XKit.frame_mode === true) {\n\t\t\t// from xkit.js\n\t\t\t/* globals xkit_check_storage */\n\t\t\txkit_check_storage();\n\n\t\t\t// console.log(\"XKit Patches determined that it's in frame mode, resizing stuff!\");\n\n\t\t\t$(\"#iframe_controls,#dashboard_iframe\").css(\"width\", \"auto\");\n\n\t\t\tvar m_url = $(\"#tumblelog_name\").attr('data-tumblelog-name');\n\n\t\t\tif (m_url === \"undefined\") { return; }\n\n\t\t}\n\n\t\t// Increasing storage for extensions from 50kb to 150kb.\n\t\tif (XKit.storage.unlimited_storage === true) {\n\t\t\t// If we have unlimited storage, make it 10 mb.\n\t\t\tXKit.storage.max_area_size = 10485760;\n\t\t} else {\n\t\t\tXKit.storage.max_area_size = 153600;\n\t\t}\n\n\t\twindow.addEventListener(\"message\", XKit.blog_listener.eventHandler);\n\n\t\tXKit.tools.add_function(function() {\n\t\t\tvar blogs = [];\n\t\t\ttry {\n\t\t\t\tvar models = Tumblr.dashboardControls.allTumblelogs;\n\t\t\t\tmodels.filter(function(model) {\n\t\t\t\t\treturn model.attributes.hasOwnProperty(\"is_current\");\n\t\t\t\t}).forEach(function(model) {\n\t\t\t\t\tblogs.push(model.attributes.name);\n\t\t\t\t});\n\t\t\t} catch (e) {} finally {\n\t\t\t\twindow.postMessage({\n\t\t\t\t\txkit_blogs: blogs\n\t\t\t\t}, window.location.protocol + \"//\" + window.location.host);\n\t\t\t}\n\t\t}, true);\n\n\t\tXKit.tools.add_function(function fix_autoplaying_yanked_videos() {\n\n\t\t\tif (!window._ || !window.jQuery) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* globals _ */\n\n\t\t\tif (_.get(window, \"Tumblr.Prima.CrtPlayer\")) {\n\t\t\t\twindow.Tumblr.Prima.CrtPlayer.prototype.onLoadedMetadata =\n\t\t\t\t_.wrap(window.Tumblr.Prima.CrtPlayer.prototype.onLoadedMetadata,\n\t\t\t\t\tfunction(wrapped, _event) {\n\t\t\t\t\t\tif (!this.$el.is(\":visible\") || !jQuery.contains(document, this.$el[0])) {\n\t\t\t\t\t\t\tif (!this.$el.find('video[src^=\"blob:\"]').length) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn wrapped.call(this, _event);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t// unfortunately we're not fast enought to catch some\n\t\t\t// CRT instances that are currently instantiated, so handle those differently\n\t\t\tjQuery('video').parent().each(function() {\n\t\t\t\tthis.addEventListener('loadedmetadata', function(event) {\n\t\t\t\t\tvar $target = jQuery(event.target);\n\t\t\t\t\tif (!$target.is(\":visible\") || !jQuery.contains(document, event.target)) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}, true); // uses .parent() and capturing to preempt tumblr's js\n\t\t\t});\n\t\t}, true, {});\n\n\t\tXKit.tools.add_function(function fix_jk_scrolling() {\n\t\t\tif (!window._ || !window.jQuery) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_.get(window, \"Tumblr.KeyCommands.update_post_positions\")) {\n\t\t\t\tTumblr.KeyCommands.update_post_positions = _.wrap(Tumblr.KeyCommands.update_post_positions,\n\t\t\t\t\tfunction(wrapped, _event) {\n\t\t\t\t\t\twrapped.call(this);\n\t\t\t\t\t\tthis.post_positions = _.pick(this.post_positions,\n\t\t\t\t\t\t\tfunction(scroll_pos, element_id) {\n\t\t\t\t\t\t\t\tvar element = jQuery(\"[data-pageable='\" + element_id + \"']\");\n\t\t\t\t\t\t\t\treturn element.is(\":visible\") && element.height() > 0;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, true, {});\n\n\t\tsetTimeout(function() {\n\n\t\t\tvar form_key_to_save = $('meta[name=tumblr-form-key]').attr(\"content\");\n\n\t\t\tif (typeof form_key_to_save !== \"undefined\" && form_key_to_save !== \"\") {\n\t\t\t\tXKit.storage.set(\"xkit_patches\", \"last_stored_form_key\", window.btoa(form_key_to_save));\n\t\t\t}\n\n\t\t}, 1000);\n\t},\n\n\tpatches: {\n\t\t\"7.9.0\": function() {\n\n\t\t\tXKit.blog_listener = {\n\t\t\t\tcallbacks: {},\n\t\t\t\tdone: false,\n\t\t\t\tadd: function(extension, func) {\n\t\t\t\t\tif (this.done) {\n\t\t\t\t\t\tfunc.call(XKit.extensions[extension], XKit.tools.get_blogs());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tXKit.blog_listener.callbacks[extension] = func;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\teventHandler: function(e) {\n\t\t\t\t\tif (e.origin == window.location.protocol + \"//\" + window.location.host && e.data.hasOwnProperty(\"xkit_blogs\")) {\n\t\t\t\t\t\twindow.removeEventListener(\"message\", XKit.blog_listener.eventHandler);\n\n\t\t\t\t\t\tif (e.data.xkit_blogs.length) {\n\t\t\t\t\t\t\tXKit.blogs_from_tumblr = e.data.xkit_blogs.map(XKit.tools.escape_html);\n\t\t\t\t\t\t\tXKit.tools.set_setting('xkit_cached_blogs', XKit.blogs_from_tumblr.join(';'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tXKit.blog_listener.done = true;\n\t\t\t\t\t\tvar callbacks = XKit.blog_listener.callbacks, blogs = XKit.tools.get_blogs();\n\t\t\t\t\t\tfor (var extension in callbacks) {\n\t\t\t\t\t\t\tcallbacks[extension].call(XKit.extensions[extension], blogs);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tXKit.tools.Nx_XHR = function(details) {\n\t\t\t\tdetails.timestamp = new Date().getTime() + Math.random();\n\n\t\t\t\tXKit.tools.add_function(function() {\n\t\t\t\t\tvar request = add_tag;\n\t\t\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\t\t\txhr.open(request.method, request.url, request.async || true);\n\n\t\t\t\t\tif (request.json === true) {\n\t\t\t\t\t\txhr.setRequestHeader(\"Content-type\", \"application/json\");\n\t\t\t\t\t}\n\t\t\t\t\tfor (var header in request.headers) {\n\t\t\t\t\t\txhr.setRequestHeader(header, request.headers[header]);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction callback(result) {\n\t\t\t\t\t\tvar bare_headers = xhr.getAllResponseHeaders().split(\"\\r\\n\");\n\t\t\t\t\t\tvar cur_headers = {}, splitter;\n\t\t\t\t\t\tfor (var x in bare_headers) {\n\t\t\t\t\t\t\tsplitter = bare_headers[x].indexOf(\":\");\n\t\t\t\t\t\t\tif (splitter === -1) { continue; }\n\t\t\t\t\t\t\tcur_headers[bare_headers[x].substring(0, splitter).trim().toLowerCase()] = bare_headers[x].substring(splitter + 1).trim();\n\t\t\t\t\t\t}\n\t\t\t\t\t\twindow.postMessage({\n\t\t\t\t\t\t\tresponse: {\n\t\t\t\t\t\t\t\tstatus: xhr.status,\n\t\t\t\t\t\t\t\tresponseText: xhr.response,\n\t\t\t\t\t\t\t\theaders: cur_headers\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttimestamp: \"xkit_\" + request.timestamp,\n\t\t\t\t\t\t\tsuccess: result\n\t\t\t\t\t\t}, window.location.protocol + \"//\" + window.location.host);\n\t\t\t\t\t}\n\n\t\t\t\t\txhr.onerror = function() { callback(false); };\n\t\t\t\t\txhr.onload = function() { callback(true); };\n\n\t\t\t\t\tif (typeof request.data !== \"undefined\") {\n\t\t\t\t\t\txhr.send(request.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\txhr.send();\n\t\t\t\t\t}\n\t\t\t\t}, true, details);\n\n\t\t\t\tfunction handler(e) {\n\t\t\t\t\tif (e.origin === window.location.protocol + \"//\" + window.location.host && e.data.timestamp === \"xkit_\" + details.timestamp) {\n\t\t\t\t\t\twindow.removeEventListener(\"message\", handler);\n\n\t\t\t\t\t\tif (typeof e.data.response.headers[\"x-tumblr-kittens\"] !== \"undefined\") {\n\t\t\t\t\t\t\tXKit.interface.kitty.set(e.data.response.headers[\"x-tumblr-kittens\"]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (e.data.success) {\n\t\t\t\t\t\t\tdetails.onload(e.data.response);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdetails.onerror(e.data.response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twindow.addEventListener(\"message\", handler);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Get the posts on the screen without the given tag\n\t\t\t * @param {String} without_tag - Class that the posts should not have\n\t\t\t * @param {Boolean} mine - Whether the posts must be the user's\n\t\t\t * @param {Boolean} can_edit - Whether the posts must be editable\n\t\t\t * @return {Array<Object>} The posts\n\t\t\t */\n\t\t\tXKit.interface.get_posts = function(without_tag, mine, can_edit) {\n\t\t\t\tvar posts = [];\n\n\t\t\t\tvar selector = \".post\";\n\t\t\t\tvar where = XKit.interface.where();\n\n\t\t\t\tif (mine && !where.channel && !where.drafts && !where.queue) {\n\t\t\t\t\tselector = \".post.is_mine\";\n\t\t\t\t}\n\n\t\t\t\tvar selection = $(selector);\n\n\t\t\t\tvar exclusions = [\".radar\", \".new_post_buttons\", \".post_micro\"];\n\n\t\t\t\tif (typeof without_tag !== \"undefined\") {\n\t\t\t\t\texclusions.push(\".\" + without_tag);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < exclusions.length; i++) {\n\t\t\t\t\tselection = selection.not(exclusions[i]);\n\t\t\t\t}\n\n\t\t\t\tselection.each(function() {\n\t\t\t\t\t// If can_edit is requested and we don't have an edit post control,\n\t\t\t\t\t// don't push the post\n\t\t\t\t\tif (can_edit && $(this).find(\".edit\").length === 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tposts.push($(this));\n\t\t\t\t});\n\t\t\t\treturn posts;\n\t\t\t};\n\t\t},\n\t\t\"7.8.2\": function() {\n\t\t\tXKit.api_key = \"kZSI0VnPBJom8cpIeTFw4huEh9gGbq4KfWKY7z5QECutAAki6D\";\n\n\t\t\tXKit.tools.init_css(\"xkit_patches\");\n\n\t\t\t/**\n\t\t\t * Get the user's currently selected blog.\n\t\t\t * @return {String} blog id, e.g. new-xkit-extension.\n\t\t\t */\n\t\t\tXKit.tools.get_current_blog = function() {\n\t\t\t\tvar avatar = $(\"#post_controls_avatar\");\n\t\t\t\tif (avatar.length > 0) {\n\t\t\t\t\tvar image = avatar.find(\".post_avatar_image\");\n\t\t\t\t\tif (image.length > 0) {\n\t\t\t\t\t\treturn image.attr(\"alt\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log('XKit.tools.get_current_blog: Warning, fell back to main blog');\n\t\t\t\treturn XKit.tools.get_blogs()[0];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Parse an XKit extension version string of form X.Y.Z or X.Y REV Z\n\t\t\t * @param {String} versionString\n\t\t\t * @return {Object} version descriptor with keys major, minor, and patch\n\t\t\t */\n\t\t\tXKit.tools.parse_version = function(versionString) {\n\t\t\t\tif (typeof(versionString) === \"undefined\" || versionString === \"\") {\n\t\t\t\t\treturn {major: 0, minor: 0, patch: 0};\n\t\t\t\t}\n\t\t\t\tvar version = {};\n\t\t\t\tvar versionSplit = versionString.split(\".\");\n\t\t\t\tif (versionSplit.length < 3) {\n\t\t\t\t\tvar revisionString = versionSplit[1].toLowerCase().split(\"rev\");\n\t\t\t\t\tversion.major = parseInt(versionSplit[0]);\n\t\t\t\t\tversion.minor = parseInt(revisionString[0].trim());\n\t\t\t\t\tif (typeof(revisionString[1]) === \"undefined\") {\n\t\t\t\t\t\tversion.patch = 0;\n\t\t\t\t\t} else {\n\t\t\t\t// No need for toLowerCase here since we already do that when we split versionSplit above\n\t\t\t\t\t\tversion.patch = revisionString[1].trim().charCodeAt(0) - \"a\".charCodeAt(0);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tversion.major = parseInt(versionSplit[0]);\n\t\t\t\t\tversion.minor = parseInt(versionSplit[1]);\n\t\t\t\t\tversion.patch = parseInt(versionSplit[2]);\n\t\t\t\t}\n\t\t\t\treturn version;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * @return {Array<String>} user's blogs' IDs\n\t\t\t */\n\t\t\tXKit.tools.get_blogs = function() {\n\t\t\t\tvar m_blogs = [];\n\n\t\t\t\t// Approach 1: Scrape the tumblelog models for ones we control\n\t\t\t\t// code is above\n\n\t\t\t\tif (XKit.blogs_from_tumblr) {\n\t\t\t\t\tm_blogs = XKit.blogs_from_tumblr;\n\t\t\t\t\tXKit.tools.set_setting('xkit_cached_blogs', m_blogs.join(';'));\n\t\t\t\t\treturn m_blogs;\n\t\t\t\t}\n\n\t\t\t\t// Approach 2: Scrape from the dynamically-created popover element.\n\n\t\t\t\tvar blog_menu_items = $(\"[data-js-channel-list] .popover_menu_item_blog\");\n\t\t\t\tif (blog_menu_items.length) {\n\n\t\t\t\t\tblog_menu_items.each(function() {\n\t\t\t\t\t\tvar blog_url = this.id.split(\"--\")[1];\n\t\t\t\t\t\tif (blog_url) {\n\t\t\t\t\t\t\tm_blogs.push(blog_url);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (m_blogs.length) {\n\t\t\t\t\t\tXKit.tools.set_setting('xkit_cached_blogs', m_blogs.join(';'));\n\t\t\t\t\t\treturn m_blogs;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Approach 3: Use the last good cached data that we saved in settings\n\t\t\t\tm_blogs = XKit.tools.get_setting(\"xkit_cached_blogs\", \"\");\n\t\t\t\tif (m_blogs !== \"\") {\n\t\t\t\t\treturn m_blogs.split(\";\");\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tXKit.tools.make_file = function(filename, data, options) {\n\t\t\t\ttry {\n\n\t\t\t\t\tif (!Array.isArray(data)) {\n\t\t\t\t\t\tdata = [data];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar blob = new Blob(data, options || { type: \"text/plain\" });\n\t\t\t\t\tvar fakelink = document.createElement(\"a\");\n\t\t\t\t\tvar url = window.URL.createObjectURL(blob);\n\n\t\t\t\t\tfakelink.style.display = \"none\";\n\t\t\t\t\tfakelink.href = url;\n\t\t\t\t\tfakelink.download = filename || true;\n\n\t\t\t\t\tdocument.body.appendChild(fakelink);\n\t\t\t\t\tfakelink.click();\n\t\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t\t\treturn true;\n\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e.message);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Creates a link to a github issue with error text and template\n\t\t\t * @param {String} title - the title of the github issue--should be unique and useful\n\t\t\t * @param {Object?} data - Key-value pairs to list at the top of the issue.\n\t\t\t * @param {Error?} error - An exception to serialize, if availible\n\t\t\t * @return {String} The url to link the user to\n\t\t\t */\n\t\t\tXKit.tools.github_issue = function(title, data, error) {\n\n\t\t\t\tif (!data) {\n\t\t\t\t\tdata = {};\n\t\t\t\t}\n\n\t\t\t\tdata['User Agent'] = window.navigator.userAgent;\n\t\t\t\tdata['XKit Version'] = XKit.version;\n\t\t\t\tdata['Patches Version'] = XKit.installed.get(\"xkit_patches\").version;\n\t\t\t\tdata['Extensions'] = XKit.installed.list().join(\", \");\n\t\t\t\tdata['URL'] = window.location.toString();\n\n\t\t\t\tvar body = \"\\xA0\\n*Please describe what actions we can take to reproduce the bug you found, \" +\n\t\t\t\t  \"including any links or screenshots that might help us figure out what's going on.*\\n\\n\\n\" +\n\t\t\t   \"-----------\\n\\n\";\n\n\t\t\t\tif (error) {\n\t\t\t\t\tbody += \"```\\n\" +\n\t\t\t\t\terror.stack +\n\t\t\t\t\t\"\\n```\\n\\n\";\n\t\t\t\t}\n\n\t\t\t\tbody += \"System Data | \\xA0 \\n\";\n\t\t\t\tbody += \"----------- | -----------\\n\";\n\t\t\t\t$.each(data, function(key, value) {\n\t\t\t\t\tbody += key + \" | \" + value + \"\\n\";\n\t\t\t\t});\n\n\t\t\t\treturn \"https://github.com/new-xkit/XKit/issues/new?\" + $.param({body: body, title: title});\n\t\t\t};\n\n\n\t\t\t/**\n\t\t\t * Quick-and-dirty function debouncing.\n\t\t\t * Debounced functions will only occur 'delay' milliseconds after their last call.\n\t\t\t * Multiple calls before the function is executed resets the timer.\n\t\t\t * @param {Function} func - Function to wrap. Will be executed with\n\t\t\t\t\t\t\t\t\t\tthe *last* passed 'this' values and arguments\n\t\t\t * @param {Number} wait - Milliseconds to pass to setTimeout. Delay that occurs after the last function call\n\t\t\t * @return {Function} The wrapped, debounced function.\n\t\t\t */\n\t\t\tXKit.tools.debounce = function(func, wait) {\n\t\t\t\tvar timeout_id;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar last_context = this;\n\t\t\t\t\tvar last_args = arguments;\n\n\t\t\t\t\tvar exec = function() {\n\t\t\t\t\t\ttimeout_id = null;\n\t\t\t\t\t\tfunc.apply(last_context, last_args);\n\t\t\t\t\t};\n\t\t\t\t\tclearTimeout(timeout_id);\n\t\t\t\t\ttimeout_id = setTimeout(exec, wait);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Cached nonce for use in script injection to overcome CSP\n\t\t\t */\n\t\t\tXKit.tools.add_function_nonce = \"\";\n\n\t\t\t/**\n\t\t\t * Copies a function from the addon context into the page context. This\n\t\t\t * function will be serialized to a string, and then injected as a script tag\n\t\t\t * into the page.\n\t\t\t * @param {Function} func\n\t\t\t * @param {boolean} exec - Whether to execute the function immediately\n\t\t\t * @param {Object} addt - The desired contents of the global variable\n\t\t\t *                        `add_tag`. Only useful if `exec` is true\n\t\t\t */\n\t\t\tXKit.tools.add_function = function(func, exec, addt) {\n\t\t\t\tif (!XKit.tools.add_function_nonce) {\n\t\t\t\t\tvar scripts = document.querySelectorAll('script');\n\t\t\t\t\tfor (var i = 0; i < scripts.length; i++) {\n\t\t\t\t\t\tvar nonce = scripts[i].getAttribute('nonce');\n\t\t\t\t\t\tif (nonce) {\n\t\t\t\t\t\t\tXKit.tools.add_function_nonce = nonce;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar script = document.createElement(\"script\");\n\t\t\t\t\tscript.textContent = \"var add_tag = \" + JSON.stringify(addt) + \";\";\n\t\t\t\t\tscript.textContent = script.textContent + (exec ? \"(\" : \"\") + func.toString() + (exec ? \")();\" : \"\");\n\t\t\t\t\tif (XKit.tools.add_function_nonce) {\n\t\t\t\t\t\tscript.setAttribute('nonce', XKit.tools.add_function_nonce);\n\t\t\t\t\t}\n\t\t\t\t\tdocument.body.appendChild(script);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tXKit.window.show(\"Error\",\n\t\t\t\t\t\t\"XKit failed to inject a script. Details:\" +\n\t\t\t\t\t\t\"<p>\" + e.message + \"</p>\",\n\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t'<div class=\"xkit-button default\" id=\"xkit-close-message\">OK</div>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Scrape Tumblr's data object now that we can run add_function\n\t\t\tXKit.tools.add_function(function() {\n\t\t\t\tvar blogs = [];\n\t\t\t\ttry {\n\t\t\t\t\tvar models = Tumblr.dashboardControls.allTumblelogs;\n\t\t\t\t\tmodels.filter(function(model) {\n\t\t\t\t\t\treturn model.attributes.hasOwnProperty(\"is_current\");\n\t\t\t\t\t}).forEach(function(model) {\n\t\t\t\t\t\tblogs.push(model.attributes.name);\n\t\t\t\t\t});\n\t\t\t\t\tif (blogs.length) {\n\t\t\t\t\t\twindow.postMessage({\n\t\t\t\t\t\t\txkit_blogs: blogs,\n\t\t\t\t\t\t}, window.location.protocol + \"//\" + window.location.host);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}, true);\n\n\t\t\t/**\n\t\t\t * @return {Object} The elements of XKit's storage as a map from setting key to\n\t\t\t *                  setting value\n\t\t\t */\n\t\t\tXKit.tools.dump_config = function() {\n\t\t\t\tif (XKit.browser().safari) {\n\t\t\t\t\tvar obj = XBridge.storage_area;\n\t\t\t\t\tfor (var x in obj) {\n\t\t\t\t\t\tobj[x] = XBridge.storage.read(x);\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t} else {\n\t\t\t\t\t// from WebExtension/bridge.js\n\t\t\t\t\t/* globals xkit_storage */\n\t\t\t\t\treturn xkit_storage;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * @param {String} text - the text to be escaped\n\t\t\t * @return {String} Will return the passed text, with all potentially\n\t\t\t *                  dangerous-for-HTML characters escaped\n\t\t\t *\n\t\t\t * see also https://www.owasp.org/index.php/XSS_%28Cross_Site_Scripting%29_Prevention_Cheat_Sheet#XSS_Prevention_Rules\n\t\t\t * for the source of the list of escaping rules in this function.\n\t\t\t *\n\t\t\t * Under no circumstances should the output of this function be injected into\n\t\t\t * an unquoted element attribute, as there are many ways to escape from an\n\t\t\t * unquoted attribute that aren't covered here. Don't use unquoted attributes\n\t\t\t */\n\t\t\tXKit.tools.escape_html = function(text) {\n\t\t\t\treturn String(text)\n\t\t\t.replace(/&/g, \"&amp;\")\n\t\t\t.replace(/</g, \"&lt;\")\n\t\t\t.replace(/>/g, \"&gt;\")\n\t\t\t.replace(/\"/g, \"&quot;\")\n\t\t\t.replace(/'/g, \"&#039;\")\n\t\t\t.replace(/\\//g, \"&#x2F;\");\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * @param {String} name - Name of URL parameter to retrieve\n\t\t\t * @return {String} Value of parameter or \"\"\n\t\t\t */\n\t\t\tXKit.tools.getParameterByName = function(name) {\n\t\t\t\t// http://stackoverflow.com/a/901144/2073440\n\t\t\t\tname = encodeURIComponent(name);\n\t\t\t\tvar regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n\t\t\t\t\tresults = regex.exec(location.search);\n\t\t\t\tif (results === null) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t} else {\n\t\t\t\t\tvar parameter = results[1];\n\t\t\t\t\treturn decodeURIComponent(parameter.replace(/\\+/g, \" \"));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * @return {Object} An overview of the browser's information:\n\t\t\t *\tname: \"Google Chrome\" | \"Mozilla Firefox\" | \"Apple Safari\" - The browser's human-readable name\n\t\t\t *\tspoofed: boolean - Whether XKit suspects the user of spoofing an IE user agent.\n\t\t\t *\tchrome: boolean - Whether the browser is Chrome\n\t\t\t *\tfirefox: boolean - Whether the browser is Firefox\n\t\t\t *\tsafari: boolean - Whether the browser is Safari\n\t\t\t *\topera: boolean - Whether the browser is Opera (Always false as implemented currently)\n\t\t\t *\tversion: number - The numerical representation of the browser's version or 0 if unknown\n\t\t\t *\tmobile: boolean - Whether Tumblr is serving the mobile version of the site\n\t\t\t */\n\t\t\tXKit.browser = function() {\n\n\t\t\t\tvar to_return = {};\n\n\t\t\t\tto_return.name = \"UNKNOWN\";\n\t\t\t\tto_return.spoofed = false;\n\t\t\t\tto_return.chrome = false;\n\t\t\t\tto_return.firefox = false;\n\t\t\t\tto_return.safari = false;\n\t\t\t\tto_return.opera = false;\n\t\t\t\tto_return.version = 0;\n\t\t\t\tto_return.mobile = false;\n\n\t\t\t\t// First, let's check if it's chrome.\n\t\t\t\tif (window.chrome) {\n\t\t\t\t\tto_return.chrome = true;\n\t\t\t\t} else {\n\t\t\t\t\t// it can still be chrome?\n\t\t\t\t\tvar is_chrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n\t\t\t\t\tto_return.chrome = is_chrome;\n\t\t\t\t}\n\n\t\t\t\tfunction get_ua_version(user_agent) {\n\t\t\t\t\tvar index = navigator.userAgent.toLowerCase().indexOf(user_agent);\n\t\t\t\t\tvar real_version = parseFloat(navigator.userAgent.toLowerCase().substring(index + (user_agent.length)));\n\t\t\t\t\treturn real_version;\n\t\t\t\t}\n\n\t\t\t\tif (to_return.chrome === true) {\n\t\t\t\t\t// Get version.\n\t\t\t\t\tto_return.name = \"Google Chrome\";\n\t\t\t\t\tto_return.version = get_ua_version(\"chrome/\");\n\t\t\t\t}\n\n\t\t\t\t// Then, let's check if it's firefox.\n\t\t\t\tif (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n\t\t\t\t\tto_return.name = \"Mozilla Firefox\";\n\t\t\t\t\tto_return.firefox = true;\n\t\t\t\t\tto_return.version = get_ua_version(\"firefox/\");\n\t\t\t\t}\n\n\t\t\t\t// Blahblah Safari blah.\n\t\t\t\tif (/Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor)) {\n\t\t\t\t\tto_return.name = \"Apple Safari\";\n\t\t\t\t\tto_return.safari = true;\n\t\t\t\t\tto_return.firefox = false;\n\t\t\t\t\tto_return.version = get_ua_version(\"safari/\");\n\t\t\t\t}\n\n\t\t\t\tto_return.ug = navigator.userAgent.toLowerCase();\n\n\t\t\t\t// Check if there is spoofing!\n\t\t\t\t// A lot of people now switch to IE.\n\t\t\t\tif (navigator.userAgent.indexOf('MSIE') > -1) {\n\t\t\t\t\tto_return.spoofed = true;\n\t\t\t\t}\n\n\t\t\t\t// Check if you're viewing the mobile version\n\t\t\t\tif ($('.is_mobile').length > 0) {\n\t\t\t\t\tto_return.mobile = true;\n\t\t\t\t}\n\n\t\t\t\treturn to_return;\n\n\t\t\t};\n\n\t\t\tXKit.iframe = {\n\n\t\t\t\t/**\n\t\t\t\t * @return {String} Id of blog which the iframe refers to (usually\n\t\t\t\t *                  the blog in which the iframe is embedded)\n\t\t\t\t */\n\t\t\t\tget_tumblelog: function() {\n\t\t\t\t\tvar new_channel_id = document.location.href.match(/[&?]tumblelogName=([\\w-]+)/);\n\t\t\t\t\tvar archive_channel_id = document.location.href.match(/[&?]name=([\\w-]+)/);\n\t\t\t\t\tvar old_channel_id = $(\"#tumblelog_name\").attr('data-tumblelog-name');\n\t\t\t\t\treturn (new_channel_id && new_channel_id[1]) || (archive_channel_id && archive_channel_id[1]) || old_channel_id;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {String} Post to which this iframe refers\n\t\t\t\t */\n\t\t\t\tsingle_post_id: function() {\n\t\t\t\t\tvar all_post_ids = document.location.href.match(/[&?](singlePostId|pid|postId)=(\\d+)/);\n\t\t\t\t\treturn all_post_ids[2];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {String} Form key of the iframe (the data to use in a\n\t\t\t\t *                  reblog or other API request)\n\t\t\t\t */\n\t\t\t\tform_key: function() {\n\t\t\t\t\tvar new_form_key = $(\"meta[name=tumblr-form-key]\").attr(\"content\");\n\t\t\t\t\tvar old_form_key = $(\".btn.reblog\").attr('data-form-key');\n\t\t\t\t\treturn new_form_key || old_form_key;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Hide the text of a button in the iframe.\n\t\t\t\t * @param {JQuery} button\n\t\t\t\t */\n\t\t\t\thide_button: function(button) {\n\t\t\t\t\tbutton.addClass(\"no_label\");\n\t\t\t\t\tbutton.addClass(\"no-text\").contents()\n\t\t\t\t\t\t.filter(function() {\n\t\t\t\t\t\t\treturn this.nodeType === 3;\n\t\t\t\t\t\t}).wrap('<span class=\"hidden\">');\n\n\t\t\t\t\tbutton.children(\".button-label\").hide();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @param  {String} name: the css class name of the button\n\t\t\t\t * @return {JQuery} the element for that css class name\n\t\t\t\t */\n\t\t\t\ttx_button_selector: function(name) {\n\t\t\t\t\treturn $(`.tx-button.${name}-button, .tx-icon-button.${name}-button`);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {JQuery} The follow button in the iframe\n\t\t\t\t */\n\t\t\t\tfollow_button: function() {\n\t\t\t\t\treturn this.tx_button_selector(\"follow\");\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {JQuery} The unfollow button in the iframe\n\t\t\t\t */\n\t\t\t\tunfollow_button: function() {\n\t\t\t\t\treturn this.tx_button_selector(\"unfollow\");\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {JQuery} The delete button in the iframe\n\t\t\t\t */\n\t\t\t\tdelete_button: function() {\n\t\t\t\t\treturn this.tx_button_selector(\"delete\");\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {JQuery} The reblog button in the iframe\n\t\t\t\t */\n\t\t\t\treblog_button: function() {\n\t\t\t\t\treturn this.tx_button_selector(\"reblog\");\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {JQuery} The dashboard button in the iframe\n\t\t\t\t */\n\t\t\t\tdashboard_button: function() {\n\t\t\t\t\treturn this.tx_button_selector(\"dashboard\");\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Uses tumblr's built-in RPC functionality to resize the in-blog iframe.\n\t\t\t\t * The iframe will be resized to the maximum of the current body size or\n\t\t\t\t * the iframe-controls-container size.\n\t\t\t\t *\n\t\t\t\t * This is the same postMessage call that happens when you click on the\n\t\t\t\t * profile menu, without the body classes arguments. (Tumblr also allows\n\t\t\t\t * for the code to set classes on the iframe element and the body of the page)\n\t\t\t\t */\n\t\t\t\tsize_frame_to_fit: function() {\n\t\t\t\t\tvar button_container = $(\".iframe-controls-container\")[0] || {};\n\n\t\t\t\t\tvar width = Math.max(\n\t\t\t\t\t\tbutton_container.scrollWidth || -Infinity,\n\t\t\t\t\t\tdocument.body.scrollWidth);\n\n\t\t\t\t\tvar height = Math.max(\n\t\t\t\t\t\tbutton_container.scrollHeight || -Infinity,\n\t\t\t\t\t\tdocument.body.scrollHeight);\n\n\t\t\t\t\tvar payload = {\n\t\t\t\t\t\tmethod: \"tumblr-unified-controls:IframeControls:size\",\n\t\t\t\t\t\targs: [{\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height\n\t\t\t\t\t\t}]\n\t\t\t\t\t};\n\n\t\t\t\t\twindow.top.postMessage(JSON.stringify(payload), \"*\");\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Close the current XKit alert window. Counterpart to `XKit.window.show`\n\t\t\t */\n\t\t\tXKit.window.close = function() {\n\n\t\t\t\t$(\"#xkit-window-shadow\").fadeOut('fast');\n\t\t\t\t$(\"#xkit-window-old\").fadeOut('fast');\n\t\t\t\t$(\"#tiptip_holder\").css(\"z-index\", \"99999\");\n\t\t\t\t$(\"#xkit-window\").fadeOut('fast', function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t\t$(\"#xkit-window-shadow\").remove();\n\t\t\t\t\t$(\"#xkit-window-old\").remove();\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Show an XKit alert window\n\t\t\t * @param {String} title - Text for alert window's title bar\n\t\t\t * @param {String} msg - Text for body of window, can be HTML\n\t\t\t * @param {\"error\"|\"warning\"|\"question\"|\"info\"} icon - Window's\n\t\t\t *   icon type, determined by CSS class `icon`.\n\t\t\t *   See also xkit_patches.css.\n\t\t\t * @param {String} buttons - The HTML to be used in the button area of the window.\n\t\t\t *                           Usually divs with class \"xkit-button\".\n\t\t\t * @param {boolean} wide - Whether the XKit window should be wide.\n\t\t\t */\n\t\t\tXKit.window.show = function(title, msg, icon, buttons, wide) {\n\n\t\t\t\tif (typeof icon === \"undefined\") {\n\t\t\t\t\ticon = \"\";\n\t\t\t\t}\n\n\t\t\t\tvar additional_classes = \"\";\n\n\t\t\t\tif (wide) {\n\t\t\t\t\tadditional_classes = \"xkit-wide-window\";\n\t\t\t\t}\n\n\t\t\t\tif ($(\"#xkit-window\").length > 0) {\n\t\t\t\t\t$(\"#xkit-window\").attr('id', \"xkit-window-old\");\n\t\t\t\t\t$(\"#xkit-window-old\").fadeOut('fast', function() {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar m_html = \"<div id=\\\"xkit-window\\\" class=\\\"\" + icon + \" \" + additional_classes + \"\\\" style=\\\"display: none;\\\">\" +\n\t\t\t\t\t\t\t\t\t\"<div class=\\\"xkit-window-title\\\">\" + title + \"</div>\" +\n\t\t\t\t\t\t\t\t\t\"<div class=\\\"xkit-window-msg\\\">\" + msg + \"</div>\";\n\n\t\t\t\tif (typeof buttons !== \"undefined\") {\n\t\t\t\t\tm_html = m_html + \"<div class=\\\"xkit-window-buttons\\\">\" + buttons + \"</div>\";\n\t\t\t\t}\n\n\t\t\t\tif ($(\"#xkit-window-shadow\").length === 0) {\n\t\t\t\t\tm_html = m_html + \"</div><div id=\\\"xkit-window-shadow\\\"></div>\";\n\t\t\t\t}\n\n\t\t\t\t$(\"body\").prepend(m_html);\n\n\t\t\t\t$(\"#tiptip_holder\").css(\"z-index\", \"99000000\");\n\n\t\t\t\t// from xkit.js\n\t\t\t\t/* globals centerIt */\n\t\t\t\tcenterIt($(\"#xkit-window\"));\n\t\t\t\t$(\"#xkit-window\").fadeIn('fast');\n\n\t\t\t\t$(\"#xkit-close-message\").click(function() {\n\t\t\t\t\t$(\"#xkit-window-shadow\").fadeOut('fast', function() {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t});\n\t\t\t\t\t$(\"#xkit-window\").fadeOut('fast', function() {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tXKit.interface = new Object({\n\n\t\t\t\trevision: 2,\n\n\t\t\t\tadded_icon: [],\n\t\t\t\tadded_icon_icon: [],\n\t\t\t\tadded_icon_text: [],\n\n\t\t\t\tpost_window_listener_id: [],\n\t\t\t\tpost_window_listener_func: [],\n\t\t\t\tpost_window_listener_running: false,\n\t\t\t\tpost_window_listener_window_id: 0,\n\n\t\t\t\t/**\n\t\t\t\t * Interface for tracking the secure_form_key used in Tumblr API\n\t\t\t\t * requests.\n\t\t\t\t */\n\t\t\t\tkitty: {\n\n\t\t\t\t\tstored: \"\",\n\t\t\t\t\tstore_time: 0,\n\t\t\t\t\texpire_time: 600000,\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @param {String} kitty - The new secure_form_key value.\n\t\t\t\t\t */\n\t\t\t\t\tset: function(kitty) {\n\n\t\t\t\t\t\tif (typeof kitty === \"undefined\") { kitty = \"\"; }\n\t\t\t\t\t\t//// console.log(\"XKitty: Setting kitty to \\\"\" + kitty + \"\\\"\");\n\t\t\t\t\t\tXKit.interface.kitty.stored = kitty;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Get the secure_form_key through a request using the current form_key\n\t\t\t\t\t * @param {Function} callback invoked with `{errors: boolean, kitten: String}`\n\t\t\t\t\t */\n\t\t\t\t\tget: function(callback) {\n\n\t\t\t\t\t\tvar m_object = {};\n\t\t\t\t\t\tm_object.errors = false;\n\t\t\t\t\t\tm_object.kitten = \"\";\n\n\t\t\t\t\t\tvar current_ms = new Date().getTime();\n\t\t\t\t\t\tvar kitty_diff = current_ms - XKit.interface.kitty.store_time;\n\n\t\t\t\t\t\tif (XKit.interface.kitty.stored !== \"\") {\n\t\t\t\t\t\t\tif (kitty_diff >= XKit.interface.kitty.expire_time || kitty_diff < 0) {\n\t\t\t\t\t\t\t\t//// console.log(\"XKitty: Kitty expired? Let's try again.\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//// console.log(\"XKitty: Kitty already received, passing: \" + XKit.interface.kitty.stored);\n\t\t\t\t\t\t\t\tm_object.kitten = XKit.interface.kitty.stored;\n\t\t\t\t\t\t\t\tcallback(m_object);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//// console.log(\"XKitty: Kitty blank / expired, requesting new feline.\");\n\n\t\t\t\t\t\tXKit.tools.Nx_XHR({\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\turl: \"https://www.tumblr.com/svc/secure_form_key\",\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\"X-tumblr-form-key\": XKit.interface.form_key(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonload: function(response) {\n\t\t\t\t\t\t\t\t//// console.log(\"XKitty: YAY! Kitty request complete!\");\n\t\t\t\t\t\t\t\tXKit.interface.kitty.store_time = new Date().getTime();\n\t\t\t\t\t\t\t\tvar kitty_text = response.headers[\"x-tumblr-secure-form-key\"];\n\t\t\t\t\t\t\t\tXKit.interface.kitty.stored = kitty_text;\n\t\t\t\t\t\t\t\tm_object.kitten = XKit.interface.kitty.stored;\n\t\t\t\t\t\t\t\tm_object.response = response;\n\t\t\t\t\t\t\t\tcallback(m_object);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonerror: function(response) {\n\t\t\t\t\t\t\t\t//// console.log(\"XKitty: DAMN IT! Kitty request FAILED!\");\n\t\t\t\t\t\t\t\tm_object.errors = true;\n\t\t\t\t\t\t\t\tm_object.kitten = \"\";\n\t\t\t\t\t\t\t\tm_object.response = response;\n\t\t\t\t\t\t\t\tXKit.interface.kitty.stored = \"\";\n\t\t\t\t\t\t\t\tcallback(m_object);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t},\n\n\n\t\t\t\t},\n\n\t\t\t\tpost_window: {\n\n\t\t\t\t\tadded_icon: [],\n\t\t\t\t\tadded_icon_icon: [],\n\t\t\t\t\tadded_icon_text: [],\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a specification for a control button that can be added to\n\t\t\t\t\t * future posts using `XKit.post_window.add_control_button`.\n\t\t\t\t\t * @param {String} class_name - CSS class of the button to be created\n\t\t\t\t\t * @param {String} icon - URL of the button's icon\n\t\t\t\t\t * @param {String} text - Hover text of the button\n\t\t\t\t\t * @param {EventListener} func - Function called on click of control button\n\t\t\t\t\t */\n\t\t\t\t\tcreate_control_button: function(class_name, icon, text, func) {\n\n\t\t\t\t\t\tXKit.interface.post_window.added_icon.push(class_name);\n\t\t\t\t\t\tXKit.interface.post_window.added_icon_icon.push(icon);\n\t\t\t\t\t\tXKit.interface.post_window.added_icon_text.push(text);\n\n\t\t\t\t\t\tXKit.tools.add_css(\".\" + class_name + \" {\" +\n\t\t\t\t\t\t\t\t\" background-image: url('\" + icon + \"') !important;\" +\n\t\t\t\t\t\t\t\t\" background-size: auto auto !important;\" +\n\t\t\t\t\t\t\t\t\"}\", \"xkit_interface_post_window_icon___\" + class_name);\n\n\t\t\t\t\t\t$(document).on('click', '.' + class_name, function() {\n\t\t\t\t\t\t\tif ($(this).hasClass(\"xkit-interface-working\") || $(this).hasClass(\"xkit-interface-disabled\")) { return; }\n\t\t\t\t\t\t\tif (typeof func === \"function\") { func.call(this, event); }\n\t\t\t\t\t\t});\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Instantiate and add a previously \"created\" button to the\n\t\t\t\t\t * current post window.\n\t\t\t\t\t * @param {String} class_name - CSS class of the button to be added\n\t\t\t\t\t * @param {String?} additional - String inserted into the button's div tag\n\t\t\t\t\t */\n\t\t\t\t\tadd_control_button: function(class_name, additional) {\n\n\t\t\t\t\t\tif (typeof additional == \"undefined\") {additional = \"\"; }\n\n\t\t\t\t\t\tif (XKit.interface.post_window.added_icon.indexOf(class_name) === -1) {\n\t\t\t\t\t\t\t// console.log(\"Interface -> Can't add icon, button not created, use create_control_button.\");\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar m_text = XKit.interface.post_window.added_icon_text[XKit.interface.post_window.added_icon.indexOf(class_name)];\n\t\t\t\t\t\tvar m_html = \"<div title=\\\"\" + m_text + \"\\\" class=\\\"xkit-interface-control-button \" + class_name + \"\\\" \" + additional + \"></div>\";\n\n\t\t\t\t\t\t// Add to area above controls\n\t\t\t\t\t\tvar control_area = $(\".post-form--controls\");\n\t\t\t\t\t\tif (control_area.length > 0) {\n\t\t\t\t\t\t\tvar xkit_area = control_area.find(\"#xkit-interface-buttons\");\n\t\t\t\t\t\t\tif (xkit_area.length > 0) {\n\t\t\t\t\t\t\t\txkit_area.prepend(m_html);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontrol_area.prepend(\"<div id=\\\"xkit-interface-buttons\\\">\" + m_html + \"</div>\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {String} HTML content of the current post window\n\t\t\t\t\t */\n\t\t\t\t\tget_content_html: function() {\n\t\t\t\t\t\tif ($(\".html-field\").css(\"display\") === \"none\") {\n\t\t\t\t\t\t\t//rich text editor\n\t\t\t\t\t\t\tvar content_editor = $('.post-form--form').find('.editor.editor-richtext');\n\t\t\t\t\t\t\tif (content_editor.length === 0) {\n\t\t\t\t\t\t\t\tconsole.error('ERROR: unable to get content html');\n\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn content_editor.html();\n\t\t\t\t\t\t} else if ($('.chat-field').length > 0 && $('.chat-field').css(\"display\") !== \"none\") {\n\t\t\t\t\t\t\t//chat post editor\n\t\t\t\t\t\t\treturn $('editor-plaintext').html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar html_or_markdown = $(\".tab-label[data-js-srclabel]\").text();\n\t\t\t\t\t\t\tif (html_or_markdown === 'HTML') {\n\t\t\t\t\t\t\t\tvar text = $('.ace_editor .ace_text-layer').text();\n\t\t\t\t\t\t\t\t// replace nonebreaking spaces with normal ones\n\t\t\t\t\t\t\t\ttext = text.replace(/\\xa0/g, ' ');\n\t\t\t\t\t\t\t\treturn text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthrow \"Invalid editor type.\";\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Sets the content of the post window.\n\t\t\t\t\t * @param {String} new_content\n\t\t\t\t\t */\n\t\t\t\t\tset_content_html: function(new_content) {\n\t\t\t\t\t\tif ($(\".html-field\").css(\"display\") === \"none\") {\n\t\t\t\t\t\t\tvar content_editor = $('.post-form--form').find('.editor.editor-richtext');\n\t\t\t\t\t\t\tif (content_editor.length === 0) {\n\t\t\t\t\t\t\t\tconsole.error('unable to set content html');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontent_editor.focus();\n\t\t\t\t\t\t\tcontent_editor.html(new_content);\n\t\t\t\t\t\t\tcontent_editor.addClass(\"editor-richtext-has-text\");\n\t\t\t\t\t\t\tcontent_editor.blur();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar html_or_markdown = $(\".tab-label[data-js-srclabel]\").text();\n\t\t\t\t\t\tXKit.tools.add_function(function() {\n\t\t\t\t\t\t\t/* globals require */\n\t\t\t\t\t\t\t/* eslint-disable no-shadow */\n\t\t\t\t\t\t\tvar new_content = add_tag[0];\n\t\t\t\t\t\t\tvar html_or_markdown = add_tag[1];\n\t\t\t\t\t\t\t/* eslint-enable no-shadow */\n\t\t\t\t\t\t\tvar editor_div = document.getElementsByClassName(\"ace_editor\");\n\t\t\t\t\t\t\tif (html_or_markdown === \"Markdown\") {\n\t\t\t\t\t\t\t\tnew_content = require('to-markdown').toMarkdown(new_content);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (editor_div.length === 1) {\n\t\t\t\t\t\t\t\tvar editor = window.ace.edit(editor_div[0]);\n\t\t\t\t\t\t\t\teditor.setValue(new_content);\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tjQuery(\".ace_marker-layer\").empty();\n\t\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, true, [new_content, html_or_markdown]);\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Adds tags to the post window.\n\t\t\t\t\t * @param {String|Array<String>} tag_or_tags\n\t\t\t\t\t */\n\t\t\t\t\tadd_tag: function(tag_or_tags) {\n\t\t\t\t\t\tvar tag_editor = $(\".post-form--tag-editor\").find(\".editor-plaintext\");\n\t\t\t\t\t\tfunction add_single_tag(tag) {\n\t\t\t\t\t\t\ttag_editor.focus();\n\t\t\t\t\t\t\ttag_editor.text(tag);\n\t\t\t\t\t\t\ttag_editor.addClass(\"editor-plaintext-has-text\");\n\t\t\t\t\t\t\ttag_editor.blur();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof tag_or_tags !== \"string\") {\n\t\t\t\t\t\t\ttag_or_tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\tadd_single_tag(tag.trim());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadd_single_tag(tag_or_tags);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @param {String} tag\n\t\t\t\t\t * @return {boolean} Whether the tag exists in the current post window's tag input\n\t\t\t\t\t */\n\t\t\t\t\ttag_exists: function(tag) {\n\n\t\t\t\t\t\tvar found = false;\n\t\t\t\t\t\ttag = tag.toLowerCase();\n\n\t\t\t\t\t\t$(\".post-form--tag-editor\").find(\".tag-label\").each(function() {\n\t\t\t\t\t\t\tvar this_tag = $(this).text();\n\t\t\t\t\t\t\tthis_tag = this_tag.toLowerCase();\n\t\t\t\t\t\t\tif (this_tag.substring(0) === \"\\\"\") {\n\t\t\t\t\t\t\t\tthis_tag = this_tag.substring(1, this_tag.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this_tag === tag) {\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn found;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Remove all tags from the current post window\n\t\t\t\t\t */\n\t\t\t\t\tremove_all_tags: function() {\n\t\t\t\t\t\t$(\".post-form--tag-editor\").find(\".tag-label\").click();\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Remove a specific tag from the current post window\n\t\t\t\t\t * @param {String} tag\n\t\t\t\t\t */\n\t\t\t\t\tremove_tag: function(tag) {\n\n\t\t\t\t\t\ttag = tag.toLowerCase();\n\n\n\t\t\t\t\t\t$(\".post-form--tag-editor\").find(\".tag-label\").each(function() {\n\n\t\t\t\t\t\t\tvar this_tag = $(this).text();\n\t\t\t\t\t\t\tthis_tag = this_tag.toLowerCase();\n\t\t\t\t\t\t\tif (this_tag.substring(0) === \"\\\"\") {\n\t\t\t\t\t\t\t\tthis_tag = this_tag.substring(1, this_tag.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this_tag === tag) {\n\t\t\t\t\t\t\t\t$(this).click();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {Object} State of the post, with keys\n\t\t\t\t\t *\tpublish: boolean - Whether the post will be published (default new post)\n\t\t\t\t\t *\tdraft: boolean - Whether the post will be drafted\n\t\t\t\t\t *\tqueue: boolean - Whether the post will be queued\n\t\t\t\t\t *\tprivate: boolean - Whether the post will be \"published privately\"\n\t\t\t\t\t */\n\t\t\t\t\tstate: function() {\n\n\t\t\t\t\t\tvar to_return = {};\n\n\t\t\t\t\t\tto_return.publish = $(\"#post_state\").val() == \"0\";\n\t\t\t\t\t\tto_return.draft = $(\"#post_state\").val() == \"1\";\n\t\t\t\t\t\tto_return.queue = $(\"#post_state\").val() == \"2\";\n\t\t\t\t\t\tto_return.private = $(\"#post_state\").val() == \"private\";\n\n\t\t\t\t\t\treturn to_return;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {Object} Description of post type, see keys in function source\n\t\t\t\t\t */\n\t\t\t\t\tpost_type: function() {\n\t\t\t\t\t\tvar post_form = $(\".post-form\");\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: post_form.hasClass(\"post-form--text\"),\n\t\t\t\t\t\t\tphoto: post_form.hasClass(\"post-form--photo\"),\n\t\t\t\t\t\t\tvideo: post_form.hasClass(\"post-form--video\"),\n\t\t\t\t\t\t\tchat: post_form.hasClass(\"post-form--chat\"),\n\t\t\t\t\t\t\tnote: post_form.hasClass(\"post-form--note\"),\t\t// Tumblr calls published answers notes\n\t\t\t\t\t\t\tquote: post_form.hasClass(\"post-form--quote\"),\n\t\t\t\t\t\t\taudio: post_form.hasClass(\"post-form--audio\"),\n\t\t\t\t\t\t\tlink: post_form.hasClass(\"post-form--link\")\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {String} Blog making the post\n\t\t\t\t\t */\n\t\t\t\t\tblog: function() {\n\n\t\t\t\t\t\treturn $(\"#channel_id\").val();\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @param {String} url - URL of blog to which to switch the post window\n\t\t\t\t\t * @return {boolean} Whether the switch succeeded\n\t\t\t\t\t */\n\t\t\t\t\tswitch_blog: function(url) {\n\n\t\t\t\t\t\t$(\"#tumblelog_choices\").find(\".option\").each(function() {\n\n\t\t\t\t\t\t\tif ($(this).attr('data-option-value') === url) {\n\t\t\t\t\t\t\t\t$(this).trigger('click');\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {boolean} Whether the post window is currently open\n\t\t\t\t\t */\n\t\t\t\t\topen: function() {\n\n\t\t\t\t\t\treturn XKit.interface.post_window_listener_window_id !== 0;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {String} Type of post, see also XKit.interface.post_window.post_type\n\t\t\t\t\t */\n\t\t\t\t\ttype: function() {\n\t\t\t\t\t\tvar types = ['text', 'photo', 'quote', 'link', 'chat', 'audio', 'video'];\n\t\t\t\t\t\tvar form = $('.post-form');\n\t\t\t\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\t\t\t\tvar type = types[i];\n\t\t\t\t\t\t\tif (form.hasClass('post-form--' + type)) {\n\t\t\t\t\t\t\t\treturn type;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Default to text\n\t\t\t\t\t\treturn 'text';\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @return {Object} Description of originality of post with boolean\n\t\t\t\t\t *                  keys is_reblog and is_original for the two cases.\n\t\t\t\t\t */\n\t\t\t\t\torigin: function() {\n\n\t\t\t\t\t\tvar to_return = {};\n\n\t\t\t\t\t\tto_return.is_reblog = $(\".post-form--header\").find(\".reblog_source\").length > 0;\n\t\t\t\t\t\tto_return.is_original = $(\".post-form--header\").find(\".reblog_source\").length <= 0;\n\n\t\t\t\t\t\treturn to_return;\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tpost_window_listener: {\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Begin running the post_window_listener\n\t\t\t\t\t */\n\t\t\t\t\trun: function() {\n\n\t\t\t\t\t\tif (XKit.interface.post_window_listener_running) { return; }\n\n\t\t\t\t\t\tXKit.interface.post_window_listener_running = true;\n\t\t\t\t\t\tXKit.interface.post_window_listener.set_listen();\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Schedule the execution of XKit.interface.post_window_listener\n\t\t\t\t\t */\n\t\t\t\t\tset_listen: function() {\n\n\t\t\t\t\t\tsetTimeout(function() { XKit.interface.post_window_listener.do(); }, 800);\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Perform the logic of the post_window_listener, running all\n\t\t\t\t\t * registered post_window_listener callbacks if there is a\n\t\t\t\t\t * newly opened post window. Otherwise schedules itself to run\n\t\t\t\t\t * later using set_listen.\n\t\t\t\t\t */\n\t\t\t\t\tdo: function() {\n\n\t\t\t\t\t\tif (!XKit.interface.post_window_listener_running) {\n\t\t\t\t\t\t\tXKit.interface.post_window_listener_window_id = 0;\n\t\t\t\t\t\t\tXKit.interface.post_window_listener.set_listen();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar post_content = $(\".post-form\");\n\t\t\t\t\t\tvar ask_form = $(\".post_ask_answer_form\");\n\n\t\t\t\t\t\tif (post_content.length <= 0 || ask_form.length > 0 || post_content.css('display') === 'none') {\n\t\t\t\t\t\t\t// No post window yet. Do nothing.\n\t\t\t\t\t\t\tXKit.interface.post_window_listener_window_id = 0;\n\t\t\t\t\t\t\tXKit.interface.post_window_listener.set_listen();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (XKit.interface.post_window_listener_window_id !== 0) {\n\t\t\t\t\t\t\t// Already ran the functions here?\n\t\t\t\t\t\t\tXKit.interface.post_window_listener.set_listen();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tXKit.interface.post_window_listener_window_id = XKit.tools.random_string();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (XKit.interface.post_window_listener_id.length === 0) {\n\t\t\t\t\t\t\t// We got not functions to run.\n\t\t\t\t\t\t\tXKit.interface.post_window_listener.set_listen();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// console.log(\"interface -> Post Window found, running attached functions. [\" + XKit.interface.post_window_listener_window_id + \"]\");\n\n\t\t\t\t\t\tfor (var i = 0; i < XKit.interface.post_window_listener_id.length; i++) {\n\n\t\t\t\t\t\t\tif (typeof XKit.interface.post_window_listener_func[i] === \"function\") {\n\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tXKit.interface.post_window_listener_func[i].call();\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t// console.log(\"interface -> post_window_listener -> can't run \\\"\" + XKit.interface.post_window_listener_id[i] + \"\\\": \" + e.message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tXKit.interface.post_window_listener.set_listen();\n\n\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Call func whenever a new create post window appears\n\t\t\t\t\t * @param {String} id - globally unique identifier of function for removal\n\t\t\t\t\t * @param {Function} func - function to call\n\t\t\t\t\t */\n\t\t\t\t\tadd: function(id, func) {\n\t\t\t\t\t\t// Call a function when the manual reblog window appears.\n\t\t\t\t\t\tXKit.interface.post_window_listener_id.push(id);\n\t\t\t\t\t\tXKit.interface.post_window_listener_func.push(func);\n\t\t\t\t\t\tXKit.interface.post_window_listener.run();\n\n\t\t\t\t\t\tif (XKit.interface.post_window.open()) {\n\t\t\t\t\t\t\t// This is one of the many reasons why nearly every extension uses\n\t\t\t\t\t\t\t// fully qualified names\n\t\t\t\t\t\t\tfunc.call();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @param {String} id - ID of function to remove as provided in\n\t\t\t\t\t *                      XKit.interface.post_window_listener.add\n\t\t\t\t\t */\n\t\t\t\t\tremove: function(id) {\n\n\t\t\t\t\t\tvar m_id = XKit.interface.post_window_listener_id.indexOf(id);\n\n\t\t\t\t\t\tif (m_id === -1) { return; }\n\n\t\t\t\t\t\tXKit.interface.post_window_listener_id.splice(m_id, 1);\n\t\t\t\t\t\tXKit.interface.post_window_listener_func.splice(m_id, 1);\n\n\n\t\t\t\t\t}\n\n\n\t\t\t\t},\n\n\t\t\t\tupdate_view: {\n\n\t\t\t\t\t// Each function here requires a Interface Post Object,\n\t\t\t\t\t// you can get using interface.post.\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Set the tags of a post\n\t\t\t\t\t * @param {Object} post_obj - Interface Post Object provided by XKit.interface.post\n\t\t\t\t\t * @param {String} tags - Comma-separated array of tags\n\t\t\t\t\t */\n\t\t\t\t\ttags: function(post_obj, tags) {\n\n\t\t\t\t\t\tvar post_div = $(\"#post_\" + post_obj.id);\n\n\t\t\t\t\t\tvar m_inner = \"\";\n\t\t\t\t\t\tvar tags_array = tags.split(\",\");\n\t\t\t\t\t\tvar added_tag_count = 0;\n\n\t\t\t\t\t\tfor (var i = 0; i < tags_array.length; i++) {\n\n\t\t\t\t\t\t\tvar formatted = encodeURIComponent(tags_array[i]);\n\n\t\t\t\t\t\t\tif (tags_array[i] === \"\" || tags_array[i] === \" \") { continue; }\n\n\t\t\t\t\t\t\tif (tags_array[i].substring(0, 1) === \" \") {\n\t\t\t\t\t\t\t\ttags_array[i] = tags_array[i].substring(1);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tm_inner = m_inner + \"<a class=\\\"post_tag\\\" href=\\\"/tagged/\" + formatted + \"\\\">#\" + tags_array[i] + \"</a>\";\n\t\t\t\t\t\t\tadded_tag_count++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (added_tag_count > 0) {\n\t\t\t\t\t\t\t$(post_div).removeClass(\"no_body\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(post_div).addClass(\"no_body\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($(post_div).find(\".post_tags\").length > 0) {\n\n\t\t\t\t\t\t\t$(post_div).find(\".post_tags\").find(\"div:first-child\").html(m_inner);\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tvar m_html = \"<div class=\\\"source-clear\\\"></div><div class=\\\"post_tags fadeable fadeable-source\\\"><div class=\\\"post_tags_inner\\\">\" +\n\t\t\t\t\t\t\t\t\t\tm_inner +\n\t\t\t\t\t\t\t\t\t\"</div>\";\n\t\t\t\t\t\t\t$(post_div).find(\".post_footer\").before(m_html);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Override parameters of a post object\n\t\t\t\t * @param {Object} tumblr_object\n\t\t\t\t * @param {Object} settings - Object with keys `tags` and/or `caption` which\n\t\t\t\t *                            will override tumblr_object's corresponding keys.\n\t\t\t\t * @return {Object} Updated tumblr_object (same as the param) or an\n\t\t\t\t *                  error object with keys `error` and `message`\n\t\t\t\t */\n\t\t\t\tedit_post_object: function(tumblr_object, settings) {\n\n\t\t\t\t\t// Used to modify a Tumblr Post Object.\n\t\t\t\t\t// NEVER edit it yourself, it might change in the\n\t\t\t\t\t// future rendering your code useless. Use this.\n\n\t\t\t\t\t// Takes the Tumblr Object (get it using Fetch below, don't modify)\n\t\t\t\t\t// and a settings object. The settings object can have the following:\n\n\t\t\t\t\t/*\n\t\t\t\t\t\t[ settings] - object\n\t\t\t\t\t\t\t|\n\t\t\t\t\t\t\t|--- tags\n\t\t\t\t\t\t\t|--- caption\n\t\t\t\t\t*/\n\n\t\t\t\t\tif (typeof tumblr_object.post === \"undefined\") {\n\t\t\t\t\t\t// Jump one object in.\n\t\t\t\t\t\ttumblr_object = {};\n\t\t\t\t\t\ttumblr_object.error = true;\n\t\t\t\t\t\ttumblr_object.message = \"Wrong/corrupt tumblr object, post object not found.\";\n\t\t\t\t\t\t// console.log(tumblr_object.message);\n\t\t\t\t\t\treturn tumblr_object;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof settings.tags !== \"undefined\") {\n\n\t\t\t\t\t\ttumblr_object.post.tags = settings.tags;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof settings.caption !== \"undefined\") {\n\n\t\t\t\t\t\tif (tumblr_object.post.type === \"link\") {\n\t\t\t\t\t\t\ttumblr_object.post.three = settings.caption;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttumblr_object.post.two = settings.caption;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn tumblr_object;\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Edit a post\n\t\t\t\t * @param {Object} tumblr_object - Tumblr information corresponding to post\n\t\t\t\t * @param {Function} func - Callback upon edit completion or error. If error,\n\t\t\t\t *                          argument has keys error:true and message:String. Otherwise\n\t\t\t\t *                          it contains JSON data of Tumblr's response to the edit.\n\t\t\t\t * @param {boolean?} retry_mode - True if this function has failed and is\n\t\t\t\t *                                attempting to retry the edit\n\t\t\t\t */\n\t\t\t\tedit: function(tumblr_object, func, retry_mode) {\n\n\t\t\t\t\t// Used to edit a post.\n\t\t\t\t\t// Takes a Tumblr Post Object (get it using Fetch.)\n\n\t\t\t\t\tvar m_object = {};\n\n\t\t\t\t\tm_object.form_key = XKit.interface.form_key();\n\t\t\t\t\tm_object.channel_id = tumblr_object.post_tumblelog.name_or_id;\n\t\t\t\t\tm_object.context_id = tumblr_object.post_tumblelog.name_or_id;\n\t\t\t\t\tm_object.post_id = tumblr_object.post.id;\n\n\t\t\t\t\tm_object.edit = true;\n\t\t\t\t\tm_object.safe_edit = true; // whatever the fuck this is.\n\t\t\t\t\tm_object.errors = false;\n\t\t\t\t\tm_object.message = \"Post edited on \" + m_object.channel_id;\n\t\t\t\t\tm_object.silent = true;\n\t\t\t\t\tm_object.post_context_page = \"dashboard\";\n\t\t\t\t\tm_object.editor_type = \"rich\";\n\n\t\t\t\t\t// m_object.post = {};\n\n\t\t\t\t\t/*\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"form_key\": \"----\", --OK\n\t\t\t\t\t\t\t\"channel_id\": \"xenix\", -- OK\n\t\t\t\t\t\t\t\"post_id\": \"58790345774\", -- OK\n\t\t\t\t\t\t\t\"edit\": true, -- OK\n\t\t\t\t\t\t\t\"safe_edit\": true, -- OK\n\t\t\t\t\t\t\t\"errors\": false, -- OK\n\t\t\t\t\t\t\t\"created_post\": true, -- OK\n\t\t\t\t\t\t\t\"context_page\": \"dashboard\", -- OK\n\t\t\t\t\t\t\t\"post_context_page\": \"dashboard\", --- OK\n\t\t\t\t\t\t\t\"message\": \"Post edited on xenix\", --- OK\n\t\t\t\t\t\t\t\"silent\": true, --- OK\n\t\t\t\t\t\t\t\"context_id\": \"xenix\", --- OK\n\t\t\t\t\t\t\t\"editor_type\": \"rich\", --- OK\n\t\t\t\t\t\t\t\"is_rich_text[one]\": \"0\",\n\t\t\t\t\t\t\t\"is_rich_text[two]\": \"1\",\n\t\t\t\t\t\t\t\"is_rich_text[three]\": \"0\",\n\t\t\t\t\t\t\t\"post[slug]\": \"\", --- OK\n\t\t\t\t\t\t\t\"post[date]\": \"Aug 20th, 2013 5:44pm\",\n\t\t\t\t\t\t\t\"MAX_FILE_SIZE\": \"10485760\",\n\t\t\t\t\t\t\t\"post[type]\": \"photo\",\t--- OK\n\t\t\t\t\t\t\t\"post[two]\": \"\", --- OK\n\t\t\t\t\t\t\t\"post[tags]\": \"omg,hahah\", --- OK\n\t\t\t\t\t\t\t\"post[state]\": \"0\", --- OK\n\t\t\t\t\t\t\t\"post[photoset_layout]\": \"1\",\n\t\t\t\t\t\t\t\"post[photoset_order]\": \"o1\",\n\t\t\t\t\t\t\t\"images[o1]\": \"\"\n\t\t\t\t\t\t}\n\n\t\t\t\t\t*/\n\n\t\t\t\t\tm_object.post = tumblr_object.post;\n\n\t\t\t\t\tm_object['post[type]'] = tumblr_object.post.type;\n\n\t\t\t\t\tif (typeof tumblr_object.post.one !== \"undefined\") {\n\t\t\t\t\t\tm_object['post[one]'] = tumblr_object.post.one;\n\t\t\t\t\t}\n\n\t\t\t\t\tm_object['post[two]'] = tumblr_object.post.two;\n\n\t\t\t\t\tif (tumblr_object.post.type !== \"photo\" && tumblr_object.post.type !== \"photoset\") {\n\t\t\t\t\t\tif (typeof tumblr_object.post.three !== \"undefined\") {\n\t\t\t\t\t\t\tm_object['post[three]'] = tumblr_object.post.three;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar m_tags = tumblr_object.post.tags;\n\t\t\t\t\tif (typeof m_tags === \"undefined\" || m_tags === \"null\") { m_tags = \"\"; }\n\n\t\t\t\t\tm_object['post[tags]'] = m_tags;\n\t\t\t\t\tm_object['post[slug]'] = tumblr_object.post.slug;\n\n\t\t\t\t\tif (tumblr_object.post.type === \"photo\" || tumblr_object.post.type === \"photoset\") {\n\n\t\t\t\t\t\t// This is retarded but it's whatever.\n\n\t\t\t\t\t\tm_object['post[photoset_layout]'] = \"\\\"\" + tumblr_object.post.photoset_layout + \"\\\"\";\n\n\t\t\t\t\t\tvar m_photos = \"\";\n\t\t\t\t\t\tfor (var photo in tumblr_object.post.photos) {\n\t\t\t\t\t\t\tif (m_photos === \"\") {\n\t\t\t\t\t\t\t\tm_photos = tumblr_object.post.photos[photo].id;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tm_photos = m_photos + \",\" + tumblr_object.post.photos[photo].id;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tm_object['images[' + tumblr_object.post.photos[photo].id + ']'] = \"\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tm_object['post[photoset_order]'] = m_photos;\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar m_state = tumblr_object.post.state;\n\t\t\t\t\tif (isNaN(tumblr_object.post.state) === false) {\n\t\t\t\t\t\tm_state = tumblr_object.post.state.toString();\n\t\t\t\t\t}\n\t\t\t\t\tm_object['post[state]'] = m_state;\n\n\t\t\t\t\t// Not sure about this part:\n\t\t\t\t\tm_object[\"is_rich_text[one]\"] = \"0\";\n\t\t\t\t\tm_object[\"is_rich_text[two]\"] = \"1\";\n\t\t\t\t\tm_object[\"is_rich_text[three]\"] = \"0\";\n\n\t\t\t\t\tm_object.created_post = tumblr_object.created_post;\n\t\t\t\t\tm_object.context_page = tumblr_object.post_context_page;\n\t\t\t\t\tm_object.post_context_page = tumblr_object.post_context_page;\n\t\t\t\t\tm_object.silent = false;\n\t\t\t\t\tm_object.errors = false;\n\n\t\t\t\t\tm_object.edit = true;\n\n\t\t\t\t\tvar to_return = {};\n\n\t\t\t\t\tto_return.error = false;\n\t\t\t\t\tto_return.error_message = \"\";\n\t\t\t\t\tto_return.status = 200;\n\t\t\t\t\tto_return.data = \"\";\n\n\t\t\t\t\tXKit.interface.kitty.get(function(kitty_data) {\n\n\t\t\t\t\t\tif (kitty_data.errors === true) {\n\n\t\t\t\t\t\t\t// We fucked up. Let's try again.\n\t\t\t\t\t\t\tif (retry_mode === false) {\n\t\t\t\t\t\t\t\tXKit.interface.edit(tumblr_object, func, true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tto_return.error = true;\n\t\t\t\t\t\t\t\tto_return.status = kitty_data.response.status;\n\n\t\t\t\t\t\t\t\tif (kitty_data.response.status === 401) {\n\t\t\t\t\t\t\t\t\tto_return.message = \"Permission Denied\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (kitty_data.response.status === 404) {\n\t\t\t\t\t\t\t\t\t\tto_return.message = \"Post Not Found\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tto_return.message = \"Unknown\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfunc(to_return);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tGM_xmlhttpRequest({\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\turl: \"http://www.tumblr.com/svc/post/update\",\n\t\t\t\t\t\t\tdata: JSON.stringify(m_object),\n\t\t\t\t\t\t\tjson: true,\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\"X-tumblr-puppies\": kitty_data.kitten,\n\t\t\t\t\t\t\t\t\"X-tumblr-form-key\": XKit.interface.form_key(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonerror: function(response) {\n\n\t\t\t\t\t\t\t\tXKit.interface.kitty.set(response.getResponseHeader(\"\"));\n\t\t\t\t\t\t\t\tto_return.error = true;\n\t\t\t\t\t\t\t\tto_return.status = response.status;\n\n\t\t\t\t\t\t\t\tif (response.status === 401) {\n\t\t\t\t\t\t\t\t\tto_return.message = \"Permission Denied\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (response.status === 404) {\n\t\t\t\t\t\t\t\t\t\tto_return.message = \"Post Not Found\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tto_return.message = \"Unknown\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfunc(to_return);\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonload: function(response) {\n\n\t\t\t\t\t\t\t\tXKit.interface.kitty.set(response.getResponseHeader(\"X-Tumblr-Kittens\"));\n\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tto_return.data = jQuery.parseJSON(response.responseText);\n\t\t\t\t\t\t\t\t\tfunc(to_return);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tto_return.error = true;\n\t\t\t\t\t\t\t\t\tto_return.error_message = \"Error parsing JSON\";\n\t\t\t\t\t\t\t\t\tfunc(to_return);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @param {Object} post_object - Interface Post Object provided by XKit.interface.post\n\t\t\t\t * @param {Function} func - Called on error or on completion with an object describing\n\t\t\t\t *                          the results of the fetch. The object has key error: true\n\t\t\t\t *                          if there is an error.\n\t\t\t\t * @param {boolean} reblog_mode - Whether the post is a reblog\n\t\t\t\t */\n\t\t\t\tfetch: function(post_object, func, reblog_mode) {\n\n\t\t\t\t\t// Fetches internal Tumblr object for a post, then calls callback (func)\n\t\t\t\t\t// You need to feed this an Interface Post Object.\n\n\t\t\t\t\tvar m_object = {};\n\n\t\t\t\t\tm_object.form_key = XKit.interface.form_key();\n\n\t\t\t\t\tif (reblog_mode === true) {\n\t\t\t\t\t\tm_object.post_type = false; // Not sure why.\n\t\t\t\t\t\tm_object.reblog_key = post_object.reblog_key;\n\t\t\t\t\t\tm_object.reblog_id = post_object.id;\n\t\t\t\t\t\tm_object.channel_id = post_object.owner;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm_object.post_type = false; // Not sure why.\n\t\t\t\t\t\tm_object.post_id = post_object.id;\n\t\t\t\t\t\tm_object.channel_id = post_object.owner;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar to_return = {};\n\n\t\t\t\t\tto_return.error = false;\n\t\t\t\t\tto_return.error_message = \"\";\n\t\t\t\t\tto_return.status = 200;\n\t\t\t\t\tto_return.data = \"\";\n\n\t\t\t\t\tGM_xmlhttpRequest({\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\turl: \"http://www.tumblr.com/svc/post/fetch\",\n\t\t\t\t\t\tdata: JSON.stringify(m_object),\n\t\t\t\t\t\tjson: true,\n\t\t\t\t\t\tonerror: function(response) {\n\n\t\t\t\t\t\t\tto_return.error = true;\n\t\t\t\t\t\t\tto_return.status = response.status;\n\n\t\t\t\t\t\t\tif (response.status === 401) {\n\t\t\t\t\t\t\t\tto_return.message = \"Permission Denied\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (response.status === 404) {\n\t\t\t\t\t\t\t\t\tto_return.message = \"Post Not Found\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tto_return.message = \"Unknown\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfunc(to_return);\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonload: function(response) {\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tto_return.data = jQuery.parseJSON(response.responseText);\n\t\t\t\t\t\t\t\tfunc(to_return);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tto_return.error = true;\n\t\t\t\t\t\t\t\tto_return.error_message = e.message;\n\t\t\t\t\t\t\t\tfunc(to_return);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Adds or removes the \"working\" animation from the control button.\n\t\t\t\t * @param {JQuery} obj\n\t\t\t\t * @param {boolean} working - Whether the button should be \"working\"\n\t\t\t\t */\n\t\t\t\tswitch_control_button: function(obj, working) {\n\n\n\t\t\t\t\tif (working) {\n\t\t\t\t\t\t$(obj).addClass(\"xkit-interface-working\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-interface-working\");\n\t\t\t\t\t}\n\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Adds or removes the \"disabled\" animation from the control button.\n\t\t\t\t * @param {JQuery} obj\n\t\t\t\t * @param {boolean} disabled - Whether the button should be \"disabled\"\n\t\t\t\t */\n\t\t\t\tdisable_control_button: function(obj, disabled) {\n\n\n\t\t\t\t\tif (disabled) {\n\t\t\t\t\t\t$(obj).addClass(\"xkit-interface-disabled\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-interface-disabled\");\n\t\t\t\t\t}\n\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Adds or removes the \"green/completed\" animation from the control button.\n\t\t\t\t * @param {JQuery} obj\n\t\t\t\t * @param {boolean} completed - Whether the button should be \"green/completed\"\n\t\t\t\t */\n\t\t\t\tcompleted_control_button: function(obj, completed) {\n\n\n\t\t\t\t\tif (completed) {\n\t\t\t\t\t\t$(obj).addClass(\"xkit-interface-completed\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-interface-completed\");\n\t\t\t\t\t}\n\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create a specification for a control button that can be added to\n\t\t\t\t * future posts using `XKit.interface.add_control_button`.\n\t\t\t\t * @param {String} class_name - CSS class of the button to be created\n\t\t\t\t * @param {String} icon - URL of the button's icon\n\t\t\t\t * @param {String} text - Hover text of the button\n\t\t\t\t * @param {EventListener} func - Function called on click of control button\n\t\t\t\t * @param {String?} ok_icon - URL of icon displayed when the button is\n\t\t\t\t *                            \"completed\" (e.g. reblog button turning green)\n\t\t\t\t */\n\t\t\t\tcreate_control_button: function(class_name, icon, text, func, ok_icon) {\n\n\t\t\t\t\tXKit.interface.added_icon.push(class_name);\n\t\t\t\t\tXKit.interface.added_icon_icon.push(icon);\n\t\t\t\t\tXKit.interface.added_icon_text.push(text);\n\n\t\t\t\t\tXKit.tools.add_css(\".\" + class_name + \":after {\" +\n\t\t\t\t\t\t\t\" background-image: url('\" + icon + \"') !important;\" +\n\t\t\t\t\t\t\t\" background-size: auto auto !important;\" +\n\t\t\t\t\t\t\t\" margin-top: -7px !important; \" +\n\t\t\t\t\t\t\t\"}\", \"xkit_interface_icon___\" + class_name);\n\n\t\t\t\t\tif (typeof ok_icon !== \"undefined\") {\n\t\t\t\t\t\tXKit.tools.add_css(\".\" + class_name + \".xkit-interface-completed:after {\" +\n\t\t\t\t\t\t\t\" background-image: url('\" + ok_icon + \"') !important;\" +\n\t\t\t\t\t\t\t\" background-size: auto auto !important;\" +\n\t\t\t\t\t\t\t\" opacity: 1 !important; \" +\n\t\t\t\t\t\t\t\"}\", \"xkit_interface_icon___completed___\" + class_name);\n\t\t\t\t\t}\n\n\t\t\t\t\t$(document).on('click', '.' + class_name, function() {\n\t\t\t\t\t\tif ($(this).hasClass(\"xkit-interface-working\") || $(this).hasClass(\"xkit-interface-disabled\")) { return; }\n\t\t\t\t\t\tif (typeof func === \"function\") { func.call(this, event); }\n\t\t\t\t\t});\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Instantiate and add a previously \"created\" button to the\n\t\t\t\t * specified post.\n\t\t\t\t * @param {Object} obj - Interface Post Object\n\t\t\t\t * @param {String} class_name - CSS class of the button to be added\n\t\t\t\t * @param {String?} additional - String inserted into the button's div tag\n\t\t\t\t */\n\t\t\t\tadd_control_button: function(obj, class_name, additional) {\n\n\t\t\t\t\tif (typeof additional == \"undefined\") {additional = \"\"; }\n\n\t\t\t\t\tif (XKit.interface.added_icon.indexOf(class_name) === -1) {\n\t\t\t\t\t\t// console.log(\"Interface -> Can't add icon, button not created, use create_control_button.\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar m_text = XKit.interface.added_icon_text[XKit.interface.added_icon.indexOf(class_name)];\n\n\t\t\t\t\tvar post_obj = XKit.interface.post(obj);\n\t\t\t\t\tvar post_id = post_obj.id;\n\t\t\t\t\tvar post_type = post_obj.type;\n\t\t\t\t\tvar post_permalink = post_obj.permalink;\n\n\t\t\t\t\tvar m_data = \"data-post-id = \\\"\" + post_id + \"\\\" data-post-type=\\\"\" + post_type + \"\\\" data-permalink=\\\"\" + post_permalink + \"\\\"\";\n\n\t\t\t\t\tvar m_html = \"<div \" + m_data + \" title=\\\"\" + m_text + \"\\\" class=\\\"xkit-interface-control-button post_control post_control_icon \" + class_name + \"\\\" \" + additional + \"></div>\";\n\n\t\t\t\t\tif ($(obj).find(\".post_controls_inner\").length > 0) {\n\t\t\t\t\t\t$(obj).find(\".post_controls_inner\").prepend(m_html);\n\t\t\t\t\t} else if (XKit.browser().mobile) {\n\t\t\t\t\t\t$(obj).find(\".mh_post_foot_control.show_notes\").after(m_html);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(obj).find(\".post_controls\").prepend(m_html);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (XKit.interface.where().search) {\n\t\t\t\t\t\tXKit.interface.trigger_reflow();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @param {String} post_id\n\t\t\t\t * @return {Object} Interface Post Object of post with given id\n\t\t\t\t */\n\t\t\t\tfind_post: function(post_id) {\n\n\t\t\t\t\t// Return a post object based on post ID.\n\n\t\t\t\t\tif ($(\"body\").find(\"#post_\" + post_id).length > 0) {\n\t\t\t\t\t\treturn XKit.interface.post($(\"#post_\" + post_id));\n\t\t\t\t\t} else if ($(\".mh_post\").length > 0) {\n\t\t\t\t\t\treturn XKit.interface.post($(\".mh_post\"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar m_error = {};\n\t\t\t\t\t\tm_error.error = true;\n\t\t\t\t\t\tm_error.error_message = \"Object not found on page.\";\n\t\t\t\t\t\treturn m_error;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @param {JQuery} obj - Post element\n\t\t\t\t * @return {Object} Interface Post Object or {error: true}\n\t\t\t\t */\n\t\t\t\tpost: function(obj) {\n\n\t\t\t\t\tvar m_return = {};\n\n\t\t\t\t\tif (typeof $(obj).attr('data-post-id') == \"undefined\" && $(\".mh_post_head_link\").length === 0) {\n\t\t\t\t\t\t// Something is wrong.\n\t\t\t\t\t\tm_return.error = true;\n\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t} else if ($(\".mh_post_head_link\").length > 0) {\n\n\t\t\t\t\t\tm_return.error = false;\n\n\t\t\t\t\t\tm_return.id = $(obj).find(\".mh_post_head_link\").attr('href').split('/')[4];\n\n\t\t\t\t\t\tm_return.permalink = $(obj).find(\".mh_post_head_link\").attr('href');\n\n\t\t\t\t\t\tif ($(obj).hasClass(\"post_type_regular\")) {\n\t\t\t\t\t\t\tm_return.type = 'regular';\n\t\t\t\t\t\t} else if ($(obj).hasClass(\"post_type_audio\")) {\n\t\t\t\t\t\t\tm_return.type = 'audio';\n\t\t\t\t\t\t} else if ($(obj).hasClass(\"post_type_quote\")) {\n\t\t\t\t\t\t\tm_return.type = 'quote';\n\t\t\t\t\t\t} else if ($(obj).hasClass(\"post_type_photo\")) {\n\t\t\t\t\t\t\tm_return.type = 'photo';\n\t\t\t\t\t\t} else if ($(obj).hasClass(\"post_type_photoset\")) {\n\t\t\t\t\t\t\tm_return.type = 'photoset';\n\t\t\t\t\t\t} else if ($(obj).hasClass(\"post_type_video\")) {\n\t\t\t\t\t\t\tm_return.type = 'video';\n\t\t\t\t\t\t} else if ($(obj).hasClass(\"post_type_panorama\")) {\n\t\t\t\t\t\t\tm_return.type = 'panorama';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn m_return;\n\t\t\t\t\t}\n\n\t\t\t\t\tm_return.error = false;\n\n\t\t\t\t\tm_return.id = $(obj).attr('data-post-id');\n\t\t\t\t\tm_return.root_id = $(obj).attr('data-root_id');\n\t\t\t\t\tm_return.reblog_key = $(obj).attr('data-reblog-key');\n\t\t\t\t\tm_return.owner = $(obj).attr('data-tumblelog-name');\n\t\t\t\t\tm_return.tumblelog_key = $(obj).attr('data-tumblelog-key');\n\n\t\t\t\t\tm_return.liked = $(obj).find(\".post_control.like\").hasClass(\"liked\");\n\t\t\t\t\tm_return.permalink = $(obj).find(\".post_permalink\").attr('href');\n\n\t\t\t\t\tm_return.type = $(obj).attr('data-type');\n\n\t\t\t\t\tif ($(obj).find(\".post_content_inner\").length > 0) {\n\t\t\t\t\t\tm_return.body = $(obj).find(\".post_content_inner\").html();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ($(obj).find(\".post_body\").length > 0) {\n\t\t\t\t\t\t\tm_return.body = $(obj).find(\".post_body\").html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tm_return.body = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tm_return.animated = $(obj).hasClass(\"is_animated\");\n\t\t\t\t\tm_return.is_reblogged = $(obj).hasClass(\"is_reblog\") || $(obj).find(\".reblog_info\").length > 0;\n\t\t\t\t\tm_return.is_mine = $(obj).hasClass(\"is_mine\");\n\t\t\t\t\tm_return.is_following = ($(obj).attr('data-following-tumblelog') === true);\n\t\t\t\t\tm_return.can_edit = $(obj).find(\".post_control.edit\").length > 0;\n\n\n\t\t\t\t\tif (m_return.is_reblogged && $(obj).attr('data-json')) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar json = $(obj).attr('data-json');\n\t\t\t\t\t\t\tvar parsedJson = JSON.parse(json);\n\t\t\t\t\t\t\tm_return.source_owner = parsedJson['tumblelog-root-data'].name;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('Error retrieving data-json attribute of post');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ($(obj).hasClass(\"has_source\")) {\n\t\t\t\t\t\t// Different pages (such as the sidebar) don't always have data-json defined,\n\t\t\t\t\t\t// so fall back to checking for source elements\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar sourceJson = $(obj).find('.post-source-link').attr('data-peepr');\n\t\t\t\t\t\t\tvar parsedSourceJson = JSON.parse(sourceJson);\n\t\t\t\t\t\t\tm_return.source_owner = parsedSourceJson.tumblelog;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('Error retrieving data-peepr attribute of post-source-link');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ($(obj).find(\".reblog_info\").length > 0) {\n\t\t\t\t\t\t// If there is no source link but there is a reblog link, then\n\t\t\t\t\t\t// the reblog source is the source\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar reblogJson = $(obj).find(\".reblog_info\").attr('data-peepr');\n\t\t\t\t\t\t\tvar parsedReblogJson = JSON.parse(reblogJson);\n\t\t\t\t\t\t\tm_return.source_owner = parsedReblogJson.tumblelog;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('Error retrieving data-peepr attribute of reblog_info');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If there is no reblog or source link, consider the\n\t\t\t\t\t\t// post owner to be the original source\n\t\t\t\t\t\tm_return.source_owner = m_return.owner;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (m_return.is_reblogged) {\n\n\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\tm_return.reblog_link = $(obj).find(\".reblog_source\").find(\"a\").first().attr('href');\n\t\t\t\t\t\t\tm_return.reblog_owner = $(obj).find(\".reblog_source\").find(\"a\").first().text();\n\t\t\t\t\t\t\tm_return.reblog_original_id = m_return.reblog_link.split('/')[4];\n\n\t\t\t\t\t\t} catch (e) {\n\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar n_count = 0;\n\n\t\t\t\t\tif ($(obj).find(\".note_link_current\").length > 0) {\n\t\t\t\t\t\tif ($(obj).find(\".note_link_current\").html() === \"\") {\n\t\t\t\t\t\t\tn_count = 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tn_count = $(obj).find(\".note_link_current\").html().replace(/\\D/g, '');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tm_return.note_count = n_count;\n\n\t\t\t\t\tm_return.avatar = $(obj).find(\".post_avatar_image\").attr('src');\n\n\t\t\t\t\tm_return.tags = \"\";\n\t\t\t\t\tif ($(obj).find(\".post_tags\").length > 0) {\n\t\t\t\t\t\tvar to_return = \"\";\n\t\t\t\t\t\t$(obj).find(\".post_tags\").find(\".post_tag\").each(function() {\n\t\t\t\t\t\t\tif ($(this).hasClass(\"post_ask_me_link\") === true) { return; }\n\t\t\t\t\t\t\tvar m_tag = $(this).text();\n\t\t\t\t\t\t\tif (m_tag[0] === \"#\") {\n\t\t\t\t\t\t\t\tm_tag = m_tag.substring(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (to_return === \"\") {\n\t\t\t\t\t\t\t\tto_return = m_tag;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tto_return = to_return + \",\" + m_tag;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tm_return.tags = to_return;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn m_return;\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {String} The current Tumblr form_key used for authentication\n\t\t\t\t */\n\t\t\t\tform_key: function() {\n\n\t\t\t\t\tvar to_return = $('meta[name=tumblr-form-key]').attr(\"content\");\n\n\t\t\t\t\tif (typeof to_return === \"undefined\" || to_return === \"\") {\n\t\t\t\t\t\t// console.log(\" --- XKit Interface: Form Key could not be fetched, using stored one.\");\n\t\t\t\t\t\tto_return = window.atob(XKit.storage.get(\"xkit_patches\", \"last_stored_form_key\", \"\"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// console.log(\" --- XKit Interface: Got form key, storing that one.\");\n\t\t\t\t\t\tXKit.storage.set(\"xkit_patches\", \"last_stored_form_key\", window.btoa(to_return));\n\t\t\t\t\t}\n\t\t\t\t\treturn to_return;\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {String} The concatentation of two form keys. Unused and likely a typo.\n\t\t\t\t */\n\t\t\t\tcheck_key: function() {\n\n\t\t\t\t\treturn $(\"body\").attr('data-form-key') + $(\"body\").attr('data-form-key');\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {Object} Various information about the current user with keys\n\t\t\t\t *\tposts: number - Number of posts\n\t\t\t\t *\tfollowers: number - Number of followers\n\t\t\t\t *\tdrafts: number - Number of drafts\n\t\t\t\t *\tprocessing: number - Number of posts \"processing\" (may be defunct)\n\t\t\t\t *\tqueue: number - Number of posts in queue\n\t\t\t\t *\tactivity: String - Activity data as a stringified array\n\t\t\t\t *\tname: String - username\n\t\t\t\t *  title: String - blog title\n\t\t\t\t */\n\t\t\t\tuser: function() {\n\n\t\t\t\t\tvar m_return = {};\n\n\t\t\t\t\t// Init variables\n\t\t\t\t\tm_return.posts = 0;\n\t\t\t\t\tm_return.followers = 0;\n\t\t\t\t\tm_return.drafts = 0;\n\t\t\t\t\tm_return.processing = 0;\n\t\t\t\t\tm_return.queue = 0;\n\t\t\t\t\tm_return.activity = '[0,0,0,0,0,0,0,0,0,0,0,0]';\n\n\t\t\t\t\t// Needs to be in a variable, otherwise account button can't be clicked. (Weird as fuck)\n\t\t\t\t\tvar m_account = $(\"#account_button\");\n\n\t\t\t\t\tm_account.click(); // Because tab must be open to steal data from it\n\n\t\t\t\t\tif ($(\".blog-list-item\").find(\".blog-list-item-info\").find(\".blog-list-item-info-name\").length > 0) {\n\t\t\t\t\t\tm_return.name = $(\".blog-list-item\").find(\".blog-list-item-info\").find(\".blog-list-item-info-name\").html().replace(\",\", \"\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm_return.name = 'ERROR';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\".blog-list-item\").find(\".blog-list-item-info\").find(\".blog-list-item-info-title\").length > 0) {\n\t\t\t\t\t\tm_return.title = $(\".blog-list-item\").find(\".blog-list-item-info\").find(\".blog-list-item-info-title\").html().replace(\",\", \"\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm_return.title = 'ERROR';\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ($(\".blog-sub-nav-details\").find(\".blog-sub-nav-item\").length > 0) {\n\t\t\t\t\t\t$(\".blog-sub-nav-details\").children(\".blog-sub-nav-item\").each(function(index, obj) {\n\t\t\t\t\t\t\tif ($(this).find(\".blog-sub-nav-item-label\").html() === 'Posts') {\n\t\t\t\t\t\t\t\tm_return.posts = parseInt($(this).find(\".blog-sub-nav-item-data\").html().replace(\",\", \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($(this).find(\".blog-sub-nav-item-label\").html() === 'Followers') {\n\t\t\t\t\t\t\t\tm_return.followers = parseInt($(this).find(\".blog-sub-nav-item-data\").html().replace(\",\", \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($(this).find(\".blog-sub-nav-item-label\").html() === 'Activity') {\n\t\t\t\t\t\t\t\t// Hax. Won't properly retrieve $(this).find(\".blog-sub-nav-item-data.sparkline\") for some reason.\n\t\t\t\t\t\t\t\tm_return.activity = $(this).find(\".blog-sub-nav-item-link\").html().slice(113).slice(0, -8);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($(this).find(\".blog-sub-nav-item-label\").html() === 'Drafts') {\n\t\t\t\t\t\t\t\tm_return.drafts = parseInt($(this).find(\".blog-sub-nav-item-data\").html().replace(\",\", \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($(this).find(\".blog-sub-nav-item-label\").html() === 'Processing') {\n\t\t\t\t\t\t\t\tm_return.processing = parseInt($(this).find(\".blog-sub-nav-item-data\").html().replace(\",\", \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($(this).find(\".blog-sub-nav-item-label\").html() === 'Queue') {\n\t\t\t\t\t\t\t\tm_return.queue = parseInt($(this).find(\".blog-sub-nav-item-data\").html().replace(\",\", \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tm_account.click();\n\t\t\t\t\t}, 500);\n\n\t\t\t\t\treturn m_return;\n\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * @return {Object} Information about the browser's current location in Tumblr with keys\n\t\t\t\t *\tinbox: boolean - Whether viewing inbox\n\t\t\t\t *\tactivity: boolean - Whether viewing activity\n\t\t\t\t *\tqueue: boolean - Whether viewing queue\n\t\t\t\t *\tchannel: boolean - Whether viewing a channel\n\t\t\t\t *\tsearch: boolean - Whether viewing a search\n\t\t\t\t *\tdrafts: boolean - Whether viewing drafts\n\t\t\t\t *\tfollowers: boolean - Whether viewing followers\n\t\t\t\t *\tchannel: boolean - Whether viewing a channel\n\t\t\t\t *\ttagged: boolean - Whether viewing tagged posts\n\t\t\t\t *\tuser_url: String - The url of the currently viewed side blog.\n\t\t\t\t *\t                   Otherwise the user's main URL\n\t\t\t\t *\tendless: boolean - Whether the current view scrolls endlessly\n\t\t\t\t *\tfollowing: boolean - Whether the viewed blog follows the user\n\t\t\t\t */\n\t\t\t\twhere: function() {\n\t\t\t\t\tvar m_return = {\n\t\t\t\t\t\tinbox: false,\n\t\t\t\t\t\tuser_url: \"\",\n\t\t\t\t\t\tactivity: false,\n\t\t\t\t\t\tqueue: false,\n\t\t\t\t\t\tchannel: false,\n\t\t\t\t\t\tsearch: false,\n\t\t\t\t\t\tdrafts: false,\n\t\t\t\t\t\tfollowers: false,\n\t\t\t\t\t\tendless: false,\n\t\t\t\t\t\tdashboard: false,\n\t\t\t\t\t\tlikes: false,\n\t\t\t\t\t\tfollowing: false,\n\t\t\t\t\t\ttagged: false,\n\t\t\t\t\t\texplore: false\n\t\t\t\t\t};\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"dashboard_messages_inbox\") === true || $(\"body\").hasClass(\"dashboard_messages_submissions\") === true) {\n\t\t\t\t\t\tm_return.inbox = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/inbox\") !== -1) {\n\t\t\t\t\t\t\tm_return.inbox = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/blog/\") !== -1) {\n\t\t\t\t\t\t\t\tvar m_array = document.location.href.split(\"/\");\n\t\t\t\t\t\t\t\tif (m_array[5] === \"messages\") {\n\t\t\t\t\t\t\t\t\tm_return.inbox = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar href_parts = document.location.href.split(\"/\");\n\t\t\t\t\tif ($(\"body\").hasClass(\"notifications_index\")) {\n\t\t\t\t\t\tm_return.activity = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/blog/\") !== -1) {\n\t\t\t\t\t\t\tif (href_parts[5] === \"activity\") {\n\t\t\t\t\t\t\t\tm_return.activity = true;\n\t\t\t\t\t\t\t\tm_return.user_url = href_parts[4].replace(\"#\", \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"dashboard_post_queue\")) {\n\t\t\t\t\t\tm_return.queue = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/blog/\") !== -1) {\n\t\t\t\t\t\t\tif (href_parts[5] === \"queue\") {\n\t\t\t\t\t\t\t\tm_return.queue = true;\n\t\t\t\t\t\t\t\tm_return.user_url = href_parts[4].replace(\"#\", \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"dashboard_drafts\")) {\n\t\t\t\t\t\tm_return.drafts = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/blog/\") !== -1) {\n\t\t\t\t\t\t\tif (href_parts[5] === \"drafts\") {\n\t\t\t\t\t\t\t\tm_return.drafts = true;\n\t\t\t\t\t\t\t\tm_return.user_url = href_parts[4].replace(\"#\", \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"dashboard_useraction_followers\")) {\n\t\t\t\t\t\tm_return.followers = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/blog/\") !== -1) {\n\t\t\t\t\t\t\tif (href_parts[5] === \"followers\") {\n\t\t\t\t\t\t\t\tm_return.followers = true;\n\t\t\t\t\t\t\t\tm_return.user_url = href_parts[4].replace(\"#\", \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"dashboard_useraction_following\")) {\n\t\t\t\t\t\tm_return.following = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"tagged_actions_display\") && document.location.href.indexOf(\"/tagged\") !== 1) {\n\t\t\t\t\t\tm_return.tagged = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (document.location.href.indexOf(\"www.tumblr.com/blog/\") !== -1) {\n\t\t\t\t\t\tif (href_parts[3] === \"blog\") {\n\t\t\t\t\t\t\tm_return.user_url = href_parts[4].replace(\"#\", \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (document.location.href.indexOf(\"tumblr.com/search/\") !== -1) {\n\t\t\t\t\t\tm_return.search = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"discover\") ||\n\t\t\t\t\t\t\tdocument.location.href.indexOf(\"tumblr.com/explore/\") !== -1) {\n\t\t\t\t\t\tm_return.explore = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(\"body\").hasClass(\"dashboard_posts_likes\") ||\n\t\t\t\t\t\t\tdocument.location.href.indexOf(\"tumblr.com/likes/\") !== -1) {\n\t\t\t\t\t\tm_return.likes = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($('link[type=\"application/rss+xml\"]').length) {\n\t\t\t\t\t\tm_return.user_url = $('link[type=\"application/rss+xml\"]').attr(\"href\").replace(/\\/rss.*$/, '');\n\t\t\t\t\t}\n\n\t\t\t\t\tm_return.dashboard = $(\"body\").hasClass(\"is_dashboard\") === true;\n\t\t\t\t\tm_return.channel = $(\"body\").hasClass(\"is_channel\") === true;\n\t\t\t\t\tm_return.endless = $(\"body\").hasClass(\"without_auto_paginate\") === false;\n\n\t\t\t\t\treturn m_return;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Whether the page is an \"official\" tumblr page like the dashboard or\n\t\t\t\t * if it is a user-styled page like a blog.\n\t\t\t\t * @return {Boolean}\n\t\t\t\t */\n\t\t\t\tis_tumblr_page: function() {\n\t\t\t\t\t// Effectively if the href is of the form https://www.tumblr.com\n\t\t\t\t\treturn !!document.location.href.match(/^https?:\\/\\/(www\\.)?tumblr\\.com/);\n\t\t\t\t},\n\n\n\t\t\t\t/**\n\t\t\t\t * Tell Tumblr to reflow the page. Used to recalculate post dimensions\n\t\t\t\t * and j/k scrolling.\n\t\t\t\t */\n\t\t\t\ttrigger_reflow: XKit.tools.debounce(function() {\n\t\t\t\t\tif (this.where().search) {\n\t\t\t\t\t\t// Found by logging calls to Tumblr.Events.trigger on the search page\n\t\t\t\t\t\t// search:post:photo_expanded is where the magic happens\n\t\t\t\t\t\tXKit.tools.add_function(function() {\n\t\t\t\t\t\t\tTumblr.Events.trigger(\"post:photo_expanded\");\n\t\t\t\t\t\t\tTumblr.Events.trigger(\"search:post:photo_expanded\");\n\t\t\t\t\t\t\tTumblr.Events.trigger(\"search:layout:updated\");\n\t\t\t\t\t\t}, true, \"\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tXKit.tools.add_function(function() {\n\t\t\t\t\t\t\tTumblr.Events.trigger(\"DOMEventor:updateRect\");\n\t\t\t\t\t\t}, true, \"\");\n\t\t\t\t\t}\n\t\t\t\t}, 250),\n\n\t\t\t\tshow_peepr_for: function(blog, post) {\n\t\t\t\t\tvar payload = {\n\t\t\t\t\t\ttumblelog_name: blog\n\t\t\t\t\t};\n\t\t\t\t\tif (post) {\n\t\t\t\t\t\tpayload.post_id = post;\n\t\t\t\t\t}\n\n\t\t\t\t\tXKit.tools.add_function(function() {\n\t\t\t\t\t\tTumblr.Events.trigger(\"peepr-open-request\", add_tag);\n\t\t\t\t\t}, true, payload);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determines whether a user is following the given blog.\n\t\t\t\t * The logged-in user must be a member of the given blog to determine this.\n\t\t\t\t * @param {String} username\n\t\t\t\t * @param {String} blog\n\t\t\t\t * @return {Promise<Boolean>}\n\t\t\t\t */\n\t\t\t\tis_following: function(username, blog) {\n\t\t\t\t\treturn $.ajax({\n\t\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\t\turl: \"https://www.tumblr.com/svc/blog/followed_by\",\n\t\t\t\t\t\tdata: \"tumblelog=\" + blog + \"&query=\" + username,\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t}).then(function(msg) {\n\t\t\t\t\t\treturn msg.response.is_friend == 1;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tXKit.post_listener = {\n\t\t\t\tcallbacks: {},\n\t\t\t\tadd: function(id, func) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (typeof XKit.post_listener.callbacks[id] === \"undefined\") {\n\t\t\t\t\t\t\tXKit.post_listener.callbacks[id] = new Array(func);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tXKit.post_listener.callbacks[id].push(func);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error(\"Could not add function to \" + id + \"'s post listener callbacks: \" + e.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tremove: function(id, func) {\n\t\t\t\t\tif (typeof func === \"undefined\") {\n\t\t\t\t\t\tdelete XKit.post_listener.callbacks[id];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar index = XKit.post_listener.callbacks[id].indexOf(func);\n\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\tXKit.post_listener.callbacks[id].splice(index);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn(\"Could not remove function from \" + id + \"'s post listener callbacks: not found.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tobserver: new MutationObserver(function(mutations) {\n\t\t\t\t\tfor (var mutation in mutations) {\n\t\t\t\t\t\tvar $target = $(mutations[mutation].target);\n\t\t\t\t\t\tif ($target.hasClass(\"posts\") || $target.parent().hasClass(\"posts\") || $(mutations[mutation].addedNodes).find(\".post\").length) {\n\t\t\t\t\t\t\tfor (var x in XKit.post_listener.callbacks) {\n\t\t\t\t\t\t\t\tfor (var i in XKit.post_listener.callbacks[x]) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tXKit.post_listener.callbacks[x][i]();\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tconsole.error(\"Could not run callback for \" + x + \": \" + e.message);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tcheck: function() {\n\t\t\t\t\tXKit.post_listener.observer.observe($(\"body\")[0], {\n\t\t\t\t\t\tchildList: true,\n\t\t\t\t\t\tsubtree: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Add an XKit notification popup (will appear in bottom left corner)\n\t\t\t * @param {String} message - Text of notification\n\t\t\t * @param {String} type - Desired CSS class of notification, see function\n\t\t\t *                        for possibilities.\n\t\t\t * @param {boolean} sticky - If true, the notification will not fade out over time.\n\t\t\t * @param {Function} callback - On click callback for notification\n\t\t\t */\n\t\t\tXKit.notifications.add = function(message, type, sticky, callback) {\n\t\t\t\tif ($(\"#xkit-notifications\").length <= 0) {\n\t\t\t\t\tsetTimeout(function() { XKit.notifications.add(message, type, sticky, callback); }, 500);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tXKit.notifications.count++;\n\n\t\t\t\tvar m_class = \"\";\n\t\t\t\tif (type === \"mail\") { m_class = \"notification-mail\"; }\n\t\t\t\tif (type === \"ok\") { m_class = \"notification-ok\"; }\n\t\t\t\tif (type === \"error\") { m_class = \"notification-error\"; }\n\t\t\t\tif (type === \"warning\") { m_class = \"notification-warning\"; }\n\t\t\t\tif (type === \"pokes\") { m_class = \"notification-pokes\"; }\n\n\t\t\t\tif (sticky === true) {\n\t\t\t\t\tm_class = m_class + \" sticky\";\n\t\t\t\t}\n\n\t\t\t\tvar m_html = \"<div class=\\\"xkit-notification \" + m_class + \"\\\" id=\\\"xkit_notification_\" + XKit.notifications.count + \"\\\">\" +\n\t\t\t\t\t\t\t\t\t\tmessage +\n\t\t\t\t\t\t\t\t\t\"</div>\";\n\n\t\t\t\t$(\"#xkit-notifications\").append(m_html);\n\n\t\t\t\t\t// console.log(\" Notification > \" + message);\n\n\t\t\t\tvar m_notification_id = XKit.notifications.count;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(\"#xkit_notification_\" + m_notification_id).slideDown('slow');\n\t\t\t\t}, 100);\n\t\t\t\t$(\"#xkit_notification_\" + m_notification_id).click(function() {\n\t\t\t\t\tif (typeof callback !== undefined) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t// Meh.\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(\"#xkit_notification_\" + m_notification_id).slideUp('slow');\n\t\t\t\t});\n\t\t\t\tif (sticky !== true) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$(\"#xkit_notification_\" + m_notification_id).slideUp('slow');\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t};\n\t\t\t\t\t\n\t\t\t/**\n\t\t\t * @param {String} extension\n\t\t\t * @return {Boolean} Whether the extension is running\n\t\t\t */\n\t\t\tXKit.installed.is_running = function(extension) {\n\t\t\t\treturn XKit.installed.check(extension) &&\n\t\t\t\t\ttypeof(XKit.extensions[extension]) !== \"undefined\" &&\n\t\t\t\t\tXKit.extensions[extension].running;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Schedule a callback to be run only if `extension` is installed and running.\n\t\t\t * Call an alternate if the extension is not running.\n\t\t\t * @param {String} extension\n\t\t\t * @param {Function} onRunning\n\t\t\t * @param {Function?} onFailure\n\t\t\t */\n\t\t\tXKit.installed.when_running = function(extension, onRunning, onFailure) {\n\t\t\t\tif (!XKit.installed.check(extension)) {\n\t\t\t\t\tif (onFailure) {\n\t\t\t\t\t\tonFailure();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Wait up to 8 seconds for the extension to begin running\n\t\t\t\tvar tries = 20;\n\t\t\t\tvar timeout = 400;\n\t\t\t\tfunction check() {\n\t\t\t\t\tif (tries < 0) {\n\t\t\t\t\t\tif (onFailure) {\n\t\t\t\t\t\t\tonFailure();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!XKit.installed.is_running(extension)) {\n\t\t\t\t\t\ttries--;\n\t\t\t\t\t\tsetTimeout(check, timeout);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// The extension exists and has been installed\n\t\t\t\t\tonRunning(XKit.extensions[extension]);\n\t\t\t\t}\n\t\t\t\tsetTimeout(check, 0);\n\t\t\t};\n\n\t\t\tXKit.toast = {\n\t\t\t\tcount: 0,\n\n\t\t\t\t/**\n\t\t\t\t * Simulates a tumblr notification (\"toast\")\n\t\t\t\t * @param {Boolean} created - true if post was not queued/drafted\n\t\t\t\t * @param {String} action - post action description (i.e. \"Reblogged to \")\n\t\t\t\t * @param {String} url - tumblr blog name (for both notification and API)\n\t\t\t\t * @param {Integer/String} id - created post id for peepr (optional)\n\t\t\t\t * @param {String} crumb - arbitrary class for \"crumb\" (optional)\n\t\t\t\t */\n\t\t\t\tadd: function(created, action, url, id, crumb) {\n\t\t\t\t\tvar toastno = XKit.toast.count;\n\t\t\t\t\tXKit.toast.count++;\n\n\t\t\t\t\tif (created) {\n\t\t\t\t\t\taction = \"<strong>\" + action;\n\t\t\t\t\t} else {\n\t\t\t\t\t\taction += \"<strong>\";\n\t\t\t\t\t}\n\n\t\t\t\t\tvar endData = \"}\";\n\t\t\t\t\tif (typeof id !== \"undefined\") {\n\t\t\t\t\t\tendData = `,\"postId\": ${id}}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof crumb === \"undefined\") {\n\t\t\t\t\t\tcrumb = \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\tvar toast =\n\t\t\t\t\t\t`<li class=\"toast blog-sub xtoast-${toastno}\" data-subview=\"toast\" data-peepr='{\"tumblelog\": \"${url}\"${endData}'>\n\t\t\t\t\t\t\t<img class=\"toaster avatar\" src=\"https://api.tumblr.com/v2/blog/${url}/avatar/128\">\n\t\t\t\t\t\t\t<div class=\"crumb ${crumb}\"></div>\n\t\t\t\t\t\t\t<span class=\"toast-bread\">\n\t\t\t\t\t\t\t\t${action}${url}</strong>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</li>`;\n\n\t\t\t\t\t$(\".toastr\").addClass(\"show-toast\");\n\t\t\t\t\t$(\".multi-toasts\").append(toast);\n\n\t\t\t\t\tvar $toast = $(\".xtoast-\" + toastno);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$toast.addClass(\"fade-out\");\n\t\t\t\t\t}, 4000);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$toast.remove();\n\t\t\t\t\t\tif (!$(\".toast\").length) {\n\t\t\t\t\t\t\t$(\".toastr\").removeClass(\"show-toast\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tXKit.tools.show_timestamps_help = function() {\n\n\t\t\t\tXKit.window.show(\"Timestamp formatting\",\n\t\t\t\t\t\"This extension allows you to format the date by using a formatting syntax. Make your own and type it in the Timestamp Format box to customize your timestamps.<br/><br/>\" +\n\t\t\t\t\t\"Please be careful while customizing the format. Improper/invalid formatting can render Timestamps unusable. \" +\n\t\t\t\t\t\"In that case, just delete the text you've entered completely and XKit will revert to its default formatting.\",\n\n\t\t\t\t\t\"info\",\n\n\t\t\t\t\t'<div class=\"xkit-button default\" id=\"xkit-view-moment-formatting\">Formatting Syntax</div>' +\n\t\t\t\t\t'<div class=\"xkit-button\" id=\"xkit-close-message\">Close</div>'\n\t\t\t\t);\n\n\t\t\t\t$(\"#xkit-view-moment-formatting\").click(function() {\n\t\t\t\t\t$(\"#xkit-view-moment-formatting\").off(\"click\");\n\t\t\t\t\tXKit.window.show(\"Timestamps Format\",\n\t\t\t\t\t\t\"You can customize your timestamps using the syntax below.<br>XKit uses <a href=\\\"https://momentjs.com/\\\" target=\\\"_blank\\\">moment.js</a>, so it uses it's syntax.\" +\n\t\t\t\t\t\t`<div class=\"two-column-table\">\n\t\t\t\t\t\t\t<div class=\"row header\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">Token</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Description</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">Example</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row separator\">\n\t\t\t\t\t\t\t\t<div class=\"column-separator\">Month</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">M</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Month number</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">6</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">Mo</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Month number</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">6th</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">MM</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Month number with leading zeros</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">06</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">MMM</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Short month name</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">Dec</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">MMMM</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Long month name</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">December</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row separator\">\n\t\t\t\t\t\t\t\t<div class=\"column-separator\">Day</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">D</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Day of month</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">1</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">Do</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Day of month</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">1st</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">DD</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Day of month with leading zeros</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">01</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row separator\">\n\t\t\t\t\t\t\t\t<div class=\"column-separator\">Day of Week</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">d</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Day of week as a number</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">0, 1, 2, .... 6</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">ddd</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Day of week as short text</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">Sun, Mon, ... Fri, Sat</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">dddd</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Day of week as long text</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">Sunday, ... Saturday</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row separator\">\n\t\t\t\t\t\t\t\t<div class=\"column-separator\">Year</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">YY</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Short Year</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">84, 94, 04</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">YYYY</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Long Year</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">1984, 1994, 2004</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row separator\">\n\t\t\t\t\t\t\t\t<div class=\"column-separator\">Time</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">A</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">AM/PM, uppercase</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">AM</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">a</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">AM/PM, lowercase</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">am</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">h</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Hour (12-hour)</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">1, 2, ... 11, 12</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">hh</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Hour with leading zeros (12-hour)</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">01, 02, ... 11, 12</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">H</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Hour (24-hour)</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">0, 1, ... 22, 23</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">HH</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Hour with leading zeros (24-hour)</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">00, 01 ... 22, 23</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">m</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Minute</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">0, 1, ... 58, 59</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">mm</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Minute with leading zeros</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">00, 01, ... 58, 59</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">s</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Second</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">0, 1, ... 58, 59</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">ss</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Second with leading zeros</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">00, 01, ... 58, 59</div>\n\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t<div class=\"row separator\">\n\t\t\t\t\t\t\t\t<div class=\"column-separator\"> Miscellaneous </div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">[ <i>text</i> ]</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Escape text, used to add text to timestamps</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">See example below</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">Z</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Timezone</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">-07:00</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\">X</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\">Unix Timestamp</div>\n\t\t\t\t\t\t\t\t<div class=\"column-3\">1360033296</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row header\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\" style=\"width: 50%\">What to type</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\" style=\"width: 50%; text-align: center\">Example</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\" style=\"width: 50%\">MMMM Do YYYY, h:mm:ss a</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\" style=\"width: 50%; text-align: center\">June 16th 2013, 1:19:00 pm</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\" style=\"width: 50%\">dddd, h:mm:ss A</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\" style=\"width: 50%; text-align: center\">Sunday, 1:19:00 PM</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"column-1\" style=\"width: 50%\">[on the day] MMM DD [around] hh:mma</div>\n\t\t\t\t\t\t\t\t<div class=\"column-2\" style=\"width: 50%; text-align: center\">on the day Jun 16 around 01:19pm</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`, \"info\",\n\t\t\t\t\t\t'<div class=\"xkit-button default\" id=\"xkit-close-message\">OK</div>',\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t};\n\t\t},\n\t\t\"7.8.1\": function() {\n\t\t\tXKit.download.github_fetch = function(path, callback) {\n\t\t\t\tvar url = 'https://new-xkit.github.io/XKit/Extensions/dist/' + path;\n\t\t\t\tGM_xmlhttpRequest({\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\turl: url,\n\t\t\t\t\tonerror: function(response) {\n\t\t\t\t\t\tconsole.log(\"Unable to download '\" + path + \"'\");\n\t\t\t\t\t\tcallback({errors: true, server_down: true});\n\t\t\t\t\t},\n\t\t\t\t\tonload: function(response) {\n\t\t\t\t\t\t// We are done!\n\t\t\t\t\t\tvar mdata = {};\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tmdata = jQuery.parseJSON(response.responseText);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// Server returned bad thingy.\n\t\t\t\t\t\t\tconsole.log(\"Unable to download '\" + path +\n\t\t\t\t\t\t\t\t\t\t\"', server returned non-json object.\" + e.message);\n\t\t\t\t\t\t\tcallback({errors: true, server_down: true});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback(mdata);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\tXKit.download.extension = function(extension_id, callback) {\n\t\t\t\tXKit.download.github_fetch(extension_id + '.json', callback);\n\t\t\t};\n\t\t\tXKit.download.page = function(page, callback) {\n\t\t\t\tif (page === 'list.php') {\n\t\t\t\t\tXKit.download.github_fetch('page/list.json', callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (page === 'gallery.php') {\n\t\t\t\t\tXKit.download.github_fetch('page/gallery.json', callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (page === 'themes/index.php') {\n\t\t\t\t\tXKit.download.github_fetch('page/themes.json', callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (page === 'paperboy/index.php') {\n\t\t\t\t\tXKit.download.github_fetch('page/paperboy.json', callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (page === 'framework_version.php') {\n\t\t\t\t\tXKit.download.github_fetch('page/framework_version.json', callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t};\n\t\t\tdelete XKit.servers;\n\t\t\tdelete XKit.download.try_count;\n\t\t\tdelete XKit.download.max_try_count;\n\t\t}\n\t},\n\n\tdestroy: function() {\n\t\t// console.log = XKit.log_back;\n\t\tXKit.tools.remove_css(\"xkit_patches\");\n\t\tthis.running = false;\n\t}\n\n});\n","file":"found","server":"up","errors":false,"css":"/* ⚠️ DEPRECATED ⚠️\n * This file is only used for pre-7.9.0 CSS fixes!\n * Use XKit.tools.add_css() at the top of xkit_patches.js now.\n * This way, it can be added to xkit.css later.\n */\n\n.xkit-notification.notification-mail {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkFERTNGRkZCMUNCMTFFMkJGQjZENkUwMjNDREIzNjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkFERTQwMDBCMUNCMTFFMkJGQjZENkUwMjNDREIzNjUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QURFM0ZGREIxQ0IxMUUyQkZCNkQ2RTAyM0NEQjM2NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QURFM0ZGRUIxQ0IxMUUyQkZCNkQ2RTAyM0NEQjM2NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvbzgrUAAAF/SURBVHjaYvz//z8DpYCJgQqA8bYymwWQzgDiACDeAMQzVO78PEGqIQvEw/LiQZyXqyYx3JDQY9hrakOSS1igLoADzY/PGFza2xk4ODiwavjx4weYvnXrFsP8+fPhhmwAuiAepuiLtgXDx48fwRgXuHfvHsOqVasYsrKyGKZNmwYO2BkgLzBxijD8tQlh2M7GxXDt2jWCBsTGxjLIyclBYgcUiKAwkD5zj0Ggs4/Bp6ycYdOmTVgNQjZAWloaJUxQgKioKENycjLD3LlzwYahA3QDUAz5+/cvw79//8BskAExMTEMAgICcIWgRPn+/XuGxYsXM5SVlcH1oCQ2kMCfP38Yurq6wLYJCQkxsLGxwTE7OztYDCQHUgNSi2HI79+/Gfr6+hiioqIYeHl5GRgZGcGKkDEzMzMDNzc3WA1ILUgPOLGBnFlYWAjOQMHBwQz8/PwMLCwseBMXSPOnT58Y1q5dixmwMEGS8w7IJUCnS1GSAWEu+UhRLqZGeQIQYADxlKlUz+/GMwAAAABJRU5ErkJggg==');\n}\n\n.xkit-notification.notification-pokes {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAAIVBMVEWwsLAwMDBIUFB4eICYSDigoMDYWDjYyPD4kDj40Dj4+Phh7PQLAAAAAXRSTlMAQObYZgAAAGdJREFUeNp10FsOgCAMRFGZUpHuf8GOUwga4v2CE17hyIrScMKlFgrUWab0vmxIRJ9E20kHvTfSREryS/UrlQQaAIIEDzEPh+bsudKAiEBmelcL46qE5qQ0s6ZSaN4GSNKKq5Kyf+EN9RkFeT+kVbYAAAAASUVORK5CYII=');\n}\n\n#xkit-window.xkit-wide-window,\n#xkit-window-old.xkit-wide-window {\n\twidth: 650px;\n}\n\n#xkit-window,\n#xkit-window-old {\n\tfont-weight: normal;\n}\n\n#xkit-window b,\n#xkit-window-old b,\n.xkit-notification b {\n\tfont-weight: bold !important;\n}\n\n#xkit-window-old input[type=\"password\"],\n#xkit-window input[type=\"password\"] {\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tborder: 1px solid rgb(190,190,190);\n\tborder-radius: 3px;\n\tmargin: 7px 0px;\n\tpadding: 5px 10px;\n\tfont-size: 13px;\n}\n\n.xkit-button.float-right {\n\tfloat: right;\n}\n\n.xkit-button.pushed{\n\tbackground-color: rgb(230,230,230);\n\tcursor: default;\n\tbox-shadow: inset 0px 1px 3px rgba(0,0,0,0.22);\n}\n\n.xkit-window-buttons {\n\tpadding-right: 5px !important;\n\tposition: relative;\n}\n\n.xkit-interface-control-button.xkit-interface-working:after {\n\tbackground-image: url(data:image/gif;base64,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) !important;\n\tcursor: default !important;\n}\n\n.xkit-interface-control-button.xkit-interface-disabled:after {\n\topacity: 0.42 !important;\n}\n\n#xkit-interface-buttons .xkit-interface-control-button.xkit-interface-disabled,\n.xkit-interface-control-button.xkit-interface-working,\n.xkit-interface-control-button.xkit-interface-disabled {\n\tcursor: default !important;\n}\n\n#xkit-interface-buttons {\n\tfloat: right;\n\theight: 32px;\n\tmargin-right: 10px;\n\tline-height: 32px;\n}\n\n#xkit-interface-buttons .xkit-interface-control-button {\n\tdisplay: inline-block;\n\theight: 32px;\n\twidth: 28px;\n\tmargin-left: 7px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50% 50%;\n\topacity: 1.0;\n\tcursor: pointer;\n}\n@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (-moz-min-device-pixel-ratio:2),only screen and (-o-min-device-pixel-ratio:2/1),only screen and (min-device-pixel-ratio:2),only screen and (min-resolution:192dpi),only screen and (min-resolution:2dppx) {\n\t#posts .post .post_controls .post_control_icon.xkit-interface-control-button {\n\t\tbackground: none !important;\n\t}\n}\n.xkit-interface-control-button {\n\tbackground: none;\n}\n\n.xkit-interface-control-button:after {\n\tcontent: \"\" !important;\n\tbackground: none !important;\n\tbackground-repeat: no-repeat !important;\n\tbackground-position: 50% -1px;\n}\n\n#xkit-interface-buttons .xkit-interface-control-button:hover {\n\topacity: 0.31;\n}\n\n#xkit-interface-buttons .xkit-interface-control-button.xkit-interface-working {\n\tbackground-image: url(data:image/gif;base64,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) !important;\n\tcursor: default !important;\n\topacity: 1;\n}\n\n#xkit-window-old {\n\tbackground-repeat: no-repeat;\n\tbackground-position: 16px 15px;\n}\n\n#xkit-window-old.error,\n#xkit-window.error {\n\tborder-top: 10px solid #c31700;\n}\n\n#xkit-window-old.warning,\n#xkit-window.warning {\n\tborder-top: 10px solid #c54e03;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAIAAACQzIFuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM4Mzc0ODMzNzM2MTFFM0E0MTFDNDE2OTFDMzA4QzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM4Mzc0ODQzNzM2MTFFM0E0MTFDNDE2OTFDMzA4QzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzgzNzQ4MTM3MzYxMUUzQTQxMUM0MTY5MUMzMDhDNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzgzNzQ4MjM3MzYxMUUzQTQxMUM0MTY5MUMzMDhDNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqwtlrwAAAIaSURBVHjaYvz//z8DzQATAy3BoDH9dzbjkSBGIEl90/9uKD35HMQAkkA2kboYiYrVb+9upAm/+QbliXAxaMx6y8AlRB23/1kcDTcaCIBsoAh1QubfvaMndu6AsNUEoYJAEaA4FUz/O9MGbrRo2w24BXBx8k3/u6vj5G0oWzi8nVFcHUhCuEBxoCwFsYoUmeaqDKydUJW/yxkhVhKMXnxu/7O+CB6ZzOlH4OJwNih61xeR4/b/L28ezdSAsM2t9ViLLwKzEoRrs+7/7179k0cvQbjW028AQ4w0t//p04CnbtbM/WiyQBGgOJpKYk3/d3wePDJVQ0qwhCyXEEgcFr1A9USb/u3dmznJ8FTIHNCNVSdQHJ46Qeq/vSPKdGBE3XoPy/QFm+Di5pIIEk0WqB5r9DJhRuad7QuhxhkIMOn6IuSU9BAkRLOuL1ANhA3UBdRLwPQ/My3gqZAl/QSKUt1IEKnshiwIVwNKnTMtMFIeEvh7adPhQAYI+r0k/j9xAKgSrgtoArIUSnp/lcwICXGsmRA5vePK0sB4Fpv7H0vI/FmaAI9M1bh2YopvROqMa0dE79IEDNO/vUNEpioDs1sFSfUnUD1QFzx64akTavrv6Y6IIiVmE1YjgAECQdgtgOkCmgM0DVHO/Lu8+Vi9H3VbA1aNm4DpFeT2f5fWUr2tATETZDqTZSq8SKIKAJoGNJPoNsFoS4/aACDAALOWN0E5TMffAAAAAElFTkSuQmCC);\n}\n\n#xkit-window-old.question,\n#xkit-window.question {\n\tborder-top: 10px solid #2b639d;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAIAAACQzIFuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM4Mzc0N0IzNzM2MTFFM0E0MTFDNDE2OTFDMzA4QzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM4Mzc0N0MzNzM2MTFFM0E0MTFDNDE2OTFDMzA4QzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Rjk1Q0NBNDM3MkUxMUUzQTQxMUM0MTY5MUMzMDhDNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzgzNzQ3QTM3MzYxMUUzQTQxMUM0MTY5MUMzMDhDNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhjPwm0AAAILSURBVHjaYvz//z8DzQATAy0BCzGKHr/9+ejtTzhXTphdVpidUtOBhk7d/Wzv+Uff3zxEk+IUkXc2lMt2lcJvDSPWcP/0/U/bxsdbdh8m6DofV9sqf1k+ThZiTb/8+FvGvJsfH10mMnD55XRnJKnrynIRNh1odFz3nt9fP5AUe6zcAotKXTAtYEILEKCrSTUaCIBagBqB2vHFKjCssQaIjZWFr5GwnhwPkH3p0Zelx15fOncKTQ1QY9tGgY4IRewhA0whnmUrMY2uTPKIthZDE1x69FX7vB2Yird3hSOnIkTIABMfpmo5dUO40UdvfQIiCBsoCJTCVI9mCMJ0YLrGVA0MEAgjY+6t9M4NQAS3wE5DAFM9miEs8GDBzDJAcPjmp4/f/gIZJy/eICZ6gYYAjYIHDtR05IyODICxd+kcgpsd6WKtxgdhrz16D6uWR5imEwPg0QvJblj9SmYZCcyQEKOBHgdmNzw5+cHrHySbbqsuAE+L+LObgigHeqzKESpRD9/80LHpMZCx+fwb/CqRjYKaDowHYKGKJyiBQbHkEWEvAg2RxTQdCIDl9ZbdOE1f3hACKaSAURrZsAaXMqAh2GMVWBXgcRS8/MNa0uIyBGE60EfAqoCSWhSoHa2qQkkzwFoGmPKw6gQGCBoDM8kCtdO19qBvzUfzWpvmLQ5qtZYYh3A7kramAwQYAGmFIizqhvHOAAAAAElFTkSuQmCC);\n}\n\n#xkit-window-old.info,\n#xkit-window.info {\n\tborder-top: 10px solid #66a820;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAIAAACQzIFuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTYwODQ5RkMzNzM4MTFFM0E0MTFDNDE2OTFDMzA4QzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTYwODQ5RkQzNzM4MTFFM0E0MTFDNDE2OTFDMzA4QzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NjA4NDlGQTM3MzgxMUUzQTQxMUM0MTY5MUMzMDhDNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NjA4NDlGQjM3MzgxMUUzQTQxMUM0MTY5MUMzMDhDNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpHGfAQAAAGnSURBVHjaYvz//z8DzQATAy0BCzGK3v+6//bXXThXmE1ZkE2RUtOBhh54VX3x6fLXD9ClRBUY9KUjHcRa8VvDiDXcv//9sON51p6jywm6zsU60kNyGiezALGmP/1+ZtlD0wcXiQ1cBX2GKPnT0pwmhE0HGj3psOmX96TFHo8gQ54tFguY0AIE6GpSjQYCoBagRqB2fKYDwxpPgFT5nZ4a/r/QezdWWaBGoHacpgNTCP5ohHhchccFlwKgdqAh2E0HJj783gdGCZC882UPHjVohiBiteEkI2a6JhUA80GD+X/03AT0ER6jgSEOTw9At/dvdcWlEmjIe8P78CwGDRnkjI4rxCEAT7hjGkVUKQYJcVqVkW2bTLNXMhJp4rtft2hYAguxqaGbDixUqWU6slFQ04GxDExMlAOgIchlMiJkgOU1/jIAzsVTHqAZgjAdWBUQkyLxp0s0QxCmA30ErAqITJFYywOgdrSqCqV8BxahU24LEl9voNUhOarv0SoplBQJlAPWMsCqgFQA1ALUiFn/0bfmo3mtTfMWB7VaS4xDuB1JW9MBAgwAbWDbDdphmmkAAAAASUVORK5CYII=);\n}\n\n.xkit-window-msg a {\n\tfont-weight: bold;\n\ttext-decoration: underline;\n\tcolor: rgb(110,110,110);\n}\n\n.tx-button .icon-wrapper.xkit-hidden:before {\n    font-size: 15px !important;\n    font-weight: 600 !important;\n}\n\n.tx-button .icon-wrapper.xkit-hidden{\n    width: 15px;\n}\n\n/* Timestamp formatting syntax (from xkit.info) */\n\n#xkit-window .two-column-table {\n\tborder: 1px solid rgb(200,200,200);\n\tborder-bottom: 0;\n\tbackground: white;\n\tmargin-top: 15px;\n\tmax-height: 393px;\n\toverflow: auto;\n}\n\n#xkit-window .two-column-table .row {\n\tborder-bottom: 1px solid rgb(200,200,200);\n\theight: 45px;\n}\n\n#xkit-window .two-column-table .row.separator {\n\theight: 25px !important;\n\tmargin-top: 0 !important;\n\tmargin-bottom: 0 !important;\n\tborder: 0 !important;\n}\n\n#xkit-window .two-column-table .row:nth-child(odd) {\n\tbackground: rgb(245,245,245);\n}\n\n#xkit-window .two-column-table .row.header {\n\tbackground: #d8e3f4 !important;\n\tfont-weight: bold;\n\tposition: sticky;\n\ttop: 0;\n}\n\n#xkit-window .two-column-table .column-separator {\n\tbackground: rgb(160,160,160);\n\tline-height: 25px; height: 25px;\n\tcolor: white;\n\tfont-size: 13px;\n\tpadding: 0px 15px;\n}\n\n#xkit-window .two-column-table .column-1,\n#xkit-window .two-column-table .column-2,\n#xkit-window .two-column-table .column-3 {\n\tborder-right: 1px solid rgb(200,200,200);\n\tdisplay: inline-block;\n\tfloat: left;\n\theight: 45px;\n\tline-height: 45px;\n\tbox-sizing:border-box;\n\t-moz-box-sizing:border-box;\n\t-webkit-box-sizing:border-box;\n\tpadding: 0px 10px;\n}\n\n#xkit-window .two-column-table .column-1 {\n\twidth: 15%; text-align: center;\n}\n\n#xkit-window .two-column-table .column-2 {\n\twidth: 55%;\n}\n\n#xkit-window .two-column-table .column-3 {\n\twidth: 30%;\n\tborder-right: 0;\n\ttext-align: center;\n}\n\n\n/* Search Page Brick Post Fix */\n\n.post_brick .post_notes .note_link_current {\n    white-space: nowrap;\n}\n\n.post_brick .post_notes {\n    display: inline;\n}\n\n.post_brick .post_controls .post_controls_inner {\n    width: 100%;\n    white-space: normal;\n    height: auto;\n}\n","title":"XKit Patches","description":"Patches framework","developer":"new-xkit","version":"7.1.1","frame":"false","beta":"false","slow":"false"}