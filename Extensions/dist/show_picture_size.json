{"id":"show_picture_size","script":"//* TITLE Show Picture Size **//\n//* VERSION 1.0.3 **//\n//* DESCRIPTION Shows the resolution of media post pictures in the upper right corner of the picture **//\n//* DEVELOPER TiMESPLiNTER **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.show_picture_size = new Object({\n\n\trunning: false,\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tif (XKit.interface.where().dashboard !== true) { return; }\n\n\t\tXKit.tools.init_css('show_picture_size');\n\n\t\tXKit.extensions.show_picture_size.post_listener();\n\n\t\tXKit.post_listener.add('show_picture_size', XKit.extensions.show_picture_size.post_listener);\n\t},\n\n\tdestroy: function() {\n\t\t$('.post.xkit-show-picture-size .show-picture-size').remove();\n\t\t$('.post.xkit-show-picture-size').removeClass('xkit-show-picture-size');\n\t\tXKit.tools.remove_css('show_picture_size');\n\t\tXKit.post_listener.remove('show_picture_size');\n\n\t\tthis.running = false;\n\t},\n\n\tpost_listener: function() {\n\t\tvar posts = XKit.interface.get_posts('xkit-show-picture-size');\n\n\t\t$(posts).each(function() {\n\t\t\tvar post = XKit.interface.post($(this));\n\n\t\t\tif (post.type === 'photo') {\n                // Photo\n\t\t\t\t$(this).find('.post_media .post_media_photo').each(function() {\n\t\t\t\t\tvar photo = $(this);\n\t\t\t\t\tvar photoLink = $(this).parent('.post_media_photo_anchor');\n\t\t\t\t\tvar tmpImg = new Image();\n\n\t\t\t\t\tif (photoLink.length == 1 && !!photoLink.attr('data-big-photo')) {\n\t\t\t\t\t\ttmpImg.src = photoLink.attr('data-big-photo');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttmpImg.src = photo.attr('src');\n\t\t\t\t\t}\n\n\t\t\t\t\t$(tmpImg).one('load', function() {\n\t\t\t\t\t\tphoto.closest('.post_media').append($('<div class=\"show-picture-size\">' + tmpImg.width + 'x' + tmpImg.height + '</div>'));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (post.type === 'photoset') {\n                // Photo set\n\t\t\t\t$(this).find('.photoset_photo').each(function() {\n\t\t\t\t\tvar photoLink = $(this);\n\n\t\t\t\t\tvar tmpImg = new Image();\n\t\t\t\t\ttmpImg.src = $(this).attr('href');\n\t\t\t\t\t$(tmpImg).one('load', function() {\n\t\t\t\t\t\tphotoLink.append($('<div class=\"show-picture-size\">' + tmpImg.width + 'x' + tmpImg.height + '</div>'));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$(this).addClass('xkit-show-picture-size');\n\t\t});\n\t}\n});\n","file":"found","server":"up","errors":false,"css":".xkit-show-picture-size .post_media { position: relative; }\n\n.xkit-show-picture-size .photoset .photoset_photo { position: relative; }\n\n.xkit-show-picture-size .post_media_photo_anchor img { display: block; }\n\n.xkit-show-picture-size .show-picture-size {\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: rgba(0,0,0,.5);\n    color: #eee;\n    padding: 2px 4px;\n    z-index: 10;\n}\n\n.xkit-show-picture-size .post_media:hover > .show-picture-size,\n.xkit-show-picture-size .photoset .photoset_photo:hover .show-picture-size {\n    display: none;\n}\n\n.photoset_row {\n\tposition: relative;\n}\n","title":"Show Picture Size","description":"Shows the resolution of media post pictures in the upper right corner of the picture","developer":"TiMESPLiNTER","version":"1.0.3","frame":"false","beta":"false","slow":"false"}