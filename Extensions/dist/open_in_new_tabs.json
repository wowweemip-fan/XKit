{"id":"open_in_new_tabs","script":"//* TITLE Open In Tabs **//\n//* VERSION 1.1.7 **//\n//* DESCRIPTION Changes links to open in new tabs **//\n//* DETAILS Open In Tabs allows you to open links on new tabs, useful if you don't like being confined to one tab. Since some links, if opened in new tabs, can break functionality, they are not effected by this extension. **//\n//* DEVELOPER STUDIOXENIX **//\n//* FRAME false **//\n//* BETA false **//\n//* SLOW true **//\n\nXKit.extensions.open_in_new_tabs = new Object({\n\n\trunning: false,\n\tslow: true,\n\t\n\tpreferences: {\n\t\t\"sep-0\": {\n\t\t\ttext: \"Options\",\n\t\t\ttype: \"separator\"\n\t\t},\n\t\t\"button_tabs\": {\n\t\t\ttext: \"Make buttons open in tabs\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"no_sidebar\": {\n\t\t\ttext: \"Open in new tab instead of blog sidebar\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t}\n\t},\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tif (XKit.extensions.open_in_new_tabs.preferences.button_tabs.value) {\n\t\t\t$(\"#content area\").attr('target', '_blank');\n\t\t\t$(document).on(\"click\", XKit.extensions.open_in_new_tabs.do_open);\n\t\t}\n\t\t\n\t\tif (document.location.href.indexOf('/mega-editor/') != -1)\n\t\t\treturn;\n\n\t\tif (XKit.extensions.open_in_new_tabs.preferences.no_sidebar.value === true) {\n\t\t\tXKit.post_listener.add(\"open_in_new_tabs\", XKit.extensions.open_in_new_tabs.do);\n\t\t\tXKit.extensions.open_in_new_tabs.do();\n\t\t}\n\n\t},\n\n\tdo_open: function(e) {\n\t\t\n\t\t//XKit.window.show(\"do_open!\", JSON.stringify(e.target), \"info\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\n\t\t//return;\n\n\t\tvar m_box = e.target;\n\n\t\tvar m_url = $(m_box).attr('href');\n\t\t\n\t\tif ($(m_box).closest('.fan_mail').length && $(m_box).hasClass('reply'))\n\t\t\treturn;\n\t\t\n\t\tif (typeof m_url === \"undefined\") {\n\t\t\tm_url = $(m_box).parent().attr('href');\n\t\t}\n\n\t\tif (m_url === \"#\") { return; }\n\t\tif (typeof $(m_box).attr('onclick') !== \"undefined\" || typeof $(m_box).parent().attr('onclick') !== \"undefined\") { return; }\n\t\tif (typeof m_url === \"undefined\") { return; }\n\t\tif ($(m_box).hasClass(\"photoset_photo\") === true) { return; }\n\n\t\ttry {\n\t\t\tvar open_new_tab = false;\n\t\t\tif (typeof $(m_box).attr('target') === \"undefined\") {\n\t\t\t\topen_new_tab = true;\n\t\t\t} else {\n\t\t\t\tif ($(m_box).attr('target').toLowerCase() !== \"_blank\") {\n\t\t\t\t\topen_new_tab = true;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($(m_box).attr('title').toLowerCase() == \"dashboard\" && XKit.interface.where().dashboard === true) {\n\t\t\t\topen_new_tab = false;\n\t\t\t}\n\t\t\t\n\t\t\tif ($(m_box).attr('title').toLowerCase() == \"inbox\" && XKit.interface.where().inbox === true) {\n\t\t\t\topen_new_tab = false;\n\t\t\t}\n\t\t\t\n\t\t\tif ($(m_box).attr('title').toLowerCase() == \"activity\" || $(m_box).attr('title').toLowerCase() == \"edit\" ) {\n\t\t\t\topen_new_tab = false;\n\t\t\t}\n\n\t\t\tif (open_new_tab === true) {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.open(m_url, \"_blank\");\n\t\t\t}\n\n\t\t} catch (err) {\n\n\t\t\tconsole.error(err.message);\n\n\t\t}\n\n\t},\n\t\n\tdo: function() {\n\n\t\t$(\"a\").off(\"click\", XKit.extensions.open_in_new_tabs.click);\n\t\t$(\"a\").on(\"click\", XKit.extensions.open_in_new_tabs.click);\n\n\t\t$(\".note_link_current\").off(\"click\", XKit.extensions.open_in_new_tabs.click_notes);\n\t\t$(\".note_link_current\").on(\"click\", XKit.extensions.open_in_new_tabs.click_notes);\n\n\t},\n\n\tclick_notes: function(e) {\n\n\t\tif ($(\".notes_container\").length === 0) {\n\t\t\tsetTimeout(function() { XKit.extensions.open_in_new_tabs.click_notes(e); }, 100);\n\t\t}\n\n\t\tXKit.extensions.open_in_new_tabs.do();\n\n\t},\n\n\tclick: function(e) {\n\n\t\tvar link = $(this).attr('href');\n\t\tif (link == \"#\" || typeof link == \"undefined\" || link === \"\")\n\t\t\treturn;\n\n\t\tvar open_in_tab = false;\n\t\tvar tmp_link = link.replace(\"http://\", \"\").replace(\"https://\", \"\");\n\t\tvar link_components = tmp_link.split(\".\");\n\n\t\tif (link_components.length == 3)\n\t\t\topen_in_tab = true;\n\n\t\tif ($(this).hasClass(\"post_info_link\") || $(this).hasClass(\"post_avatar_link\"))\n\t\t\topen_in_tab = true;\n\n\t\tif ($(this).hasClass(\"tumblelog\"))\n\t\t\topen_in_tab = true;\n\n\t\tif ($(this).hasClass(\"xoldeheader-item\") || $(this).hasClass(\"tab_anchor\"))\n\t\t\topen_in_tab = false;\n\n\t\tif (link.indexOf(\"://www.tumblr.com\") != -1)\n\t\t\topen_in_tab = false;\n\n\t\tif (open_in_tab) {\n\t\t\te.preventDefault();\n\t\t\twindow.open($(this).attr('href'));\n\t\t\treturn false;\n\t\t}\n\n\t},\n\n\tdestroy: function() {\n\t\tthis.running = false;\n\t\t$(document).off(\"click\", \"#right_column a\", XKit.extensions.open_in_new_tabs.do_open);\n\t\t$(\".note_link_current\").off(\"click\", XKit.extensions.open_in_new_tabs.click_notes);\n\t\t$(\"a\").off(\"click\", XKit.extensions.open_in_new_tabs.click);\n\t}\n\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTU5RDUwRDlDRUE0MTFFMjlGRjNBNzgwQUUxNTkwRDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTU5RDUwREFDRUE0MTFFMjlGRjNBNzgwQUUxNTkwRDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCRjMyNzBCMkNFOTcxMUUyOUZGM0E3ODBBRTE1OTBEOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNTlENTBEOENFQTQxMUUyOUZGM0E3ODBBRTE1OTBEOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ptxi4wkAAAKNSURBVHjapFa/S10xFL65hufTh0OhUBEHEUtLoe1QW3gIiosU1N2htEOhS9utQ/snFDq34Fho/QOcOugmdOji4iQ4CaKdVeQmx7ybXyfnJnkXDe+F3OTkO1/OOTk57OPmVlE3KYExBgASoLDNjaEeuB50L6VbHXwJYWScGEhuJYwcQSQN7Gx0tcBYtnFFPMk3hE4DqpPYoyg4DzIY8xQ6bm6/Bw2AcofmSrBkTAKQZWhsyNsHQhKa/kAB5j4U3ZgOYYHxr9S+lVL40zgFGKvJ0UAQZVhA62vYwJjIWzB2fG19vKRjMep8Zxasj0NSGuindWzQW+ME8mgjH4oOadZEJWETKMAS8/dnFh7O9rqjxjjkSgRDsDNwVVV/Dw7//NunPiBhvvBo7s1yv7hRezA9dWeit7W7hydLGcbc6rPHxS3ay+dPR9StEsI6BUoS6b1uJ7P/9bdN9csIdDifGOtGwhRac8ylOW0TxoIoouEPSe7ufr76+kNFya/P79sQ4jSis9x18A0uVCP9pU7JXYzn0X9+eqf6NtwhNALPJ9tG3hat/IReOnrR8kp+f/nQHl0bsxz6Yty4KXTVjzxZWVc6Z+7d3Vh68XZlcXy0c0vctf787NTk+eXF8el/pYTrEx2dnH3f3sFp1udeO4NTngknZGvqLVEZH5Acq98nxkqMHgRlOBOzKqpffLpGxLF+QOWCpSYyt7p+NAVmzPVcTVnimilAsZ8JdIiEkH2jVV2kM5/AVorCkbeeoNOyrjDyvMnaO7BOWzE7xGfwWf2LpkaqJI1WVAVA9HIS7q4qdXkCnzVIdn4/qSFz4Sh8vBXQzJg8Wpe1uacevf43KxpaVUSLg5RxRFXhaIlC63YtwADFzDLQBx2L7gAAAABJRU5ErkJggg==","title":"Open In Tabs","description":"Changes links to open in new tabs","developer":"STUDIOXENIX","version":"1.1.7","details":"Open In Tabs allows you to open links on new tabs, useful if you don't like being confined to one tab. Since some links, if opened in new tabs, can break functionality, they are not effected by this extension.","frame":"false","beta":"false","slow":"true"}