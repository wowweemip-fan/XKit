{"id":"disable_search","script":"//* TITLE Classic Search **//\n//* VERSION 1.0.5 **//\n//* DESCRIPTION Get the old search back **//\n//* DETAILS This is a very simple extension that simply redirects your search requests to the old Tumblr tag search pages. Note that features of the new search page, such as multiple tag search will not work when this extension is enabled. **//\n//* DEVELOPER new-xkit **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.disable_search = {\n\n\trunning: false,\n\n\tpreferences: {\n\t\t\"sep0\": {\n\t\t\ttext: \"Search Results\",\n\t\t\ttype: \"separator\",\n\t\t},\n\t\t\"open_in_new_tab\": {\n\t\t\ttext: \"Open search results in a new tab\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t}\n\t},\n\n\n\trun: function() {\n\n\t\tthis.running = true;\n\t\tif (!XKit.interface.is_tumblr_page()) {\n\t\t\treturn;\n\t\t}\n\t\t$('#search_form').on('submit', XKit.extensions.disable_search.do);\n\t\tvar search_result_click_handler = function(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tif (XKit.extensions.disable_search.preferences.open_in_new_tab.value) {\n\t\t\t\twindow.open(e.currentTarget.href);\n\t\t\t} else {\n\t\t\t\tdocument.location = e.currentTarget.href;\n\t\t\t}\n\t\t};\n\t\tvar mo = new MutationObserver(function(mutations) {\n\t\t\tmutations.forEach(function(mutation) {\n\t\t\t\tif (mutation.target.className === 'scrollable_container'\n\t\t\t\t\t&& mutation.addedNodes.length > 0) {\n\t\t\t\t\tfor (var i = 0; i < mutation.addedNodes.length; i++) {\n\t\t\t\t\t\tvar links_to_change = $(mutation.addedNodes[i]).find('.search_typeahead');\n\t\t\t\t\t\tfor (var j = 0; j < links_to_change.length; j++) {\n\t\t\t\t\t\t\t$(links_to_change[j]).off('click');\n\t\t\t\t\t\t\t$(links_to_change[j]).on('click', search_result_click_handler);\n\t\t\t\t\t\t\t$(links_to_change[j]).attr('href', $(links_to_change[j]).attr('href')\n\t\t\t\t\t\t\t\t.replace('/search/', '/tagged/'));\n\t\t\t\t\t\t\tif (XKit.extensions.disable_search.preferences.open_in_new_tab.value) {\n\t\t\t\t\t\t\t\t$(links_to_change[j]).attr('target', '_blank');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tmo.observe($('#search_results_container')[0], {childList: true, subtree: true});\n\n\t},\n\n\tdo: function(e) {\n\n\t\te.preventDefault();  //prevent form from submitting\n\t\tvar query = $(\"#search_query\").val();\n\t\tquery = encodeURIComponent(query).replace(/%20/g, '+').replace(/_/g, '-');\n\n\t\tvar url = \"http://www.tumblr.com/tagged/\" + query;\n\n\t\tif (XKit.extensions.disable_search.preferences.open_in_new_tab.value) {\n\t\t\twindow.open(url);\n\t\t} else {\n\t\t\tdocument.location = url;\n\t\t}\n\n\t},\n\n\tdestroy: function() {\n\t\tthis.running = false;\n\t\t$('#search_form').off('submit', XKit.extensions.disable_search.do);\n\t}\n\n};\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODA4MzkyMjM2MzU5MTQ4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NTY1ODZDMDM4QzQxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NTY1ODZCRjM4QzQxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZCN0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY3N0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+MHc+egAAA7NJREFUeNpi/BrKQFPAxMAwagF+wEJYCTcDs7wDhPn34QGGr6RawIhbzj6ZxSuPSUEPWfDfg0t/tk36c3AukRYwfo3AFnByhmxZC5nkdXFp+/fw8q9p8f8enSfCgkhM0004avcwcPMT0Pr1449ml3+PzhCyIAqVz8XB0XaTUVQOGujXjvzZMeXv2ZUQLrOmO0tQDbOWDdyO7wUS/7/9wJuKmBmQEWtQH9z0X0uqfnbY/n9yjjWkgy1jGZD8/+4eUOTXrCxY/POzxs5FMwENMX6NQ3I+pzDnjDcQ9p9Dy3/NjWJxq2KLbkV20a/ZOX+OTGUN6GQNLIOI/CjW/PfmBm4fMDHAEbMJLEK+ffq9opBJ3gZi+u8NPT87fP/smgVks6VOYeQW/7O7D6gGaoRxMLIhaIiFkRE5eqHJ5s+57Qw/XrLYNoOi4fzOP5tKQSnn1hYGbgFGERlGMc3/jw4A1bDYhIMiRsPm7x7caZ2RiRURRPB0+e4pUJxRXgdkwc3jcDV/5sdAVQJF3j2FxwSyIRgZjYkDORHBaCawOJjLxAhXwyhrzsAlwPDm4f+3N0Bq4LpQDEGPAxY4+v/4OswgLTAXFHXMhh5wBewl69mLVzPKGYK4wjJQM75/QjYEDQExwnf/nkETA7OB228eyb8H5rA4JzCrmjNkrfp7YTezZRADJw/D9y//7h5h4JFkMXCH5pU7pxhwBxEw6bDD0b8rOxm+f4ZIsMZN/P/h0e8lVUATmfVc2OI6QTZ9//JrcQXDz88sIc0MXLwQlf8v70Y2BA2BPQIHPz/9ObCYxROUj4CG/o+Z9GdZ0b+7J5hULBmFpP//+Pzv0s7/7x6weFWwWARBo/3khv8fHqMYglZUfC9URxHg4GfLWsQkAxX89+Tm38NL/17eyfDjI1AKaBOzXQyziglC/ffPP6cm/n92BbcFxdroQpLa7FlzQcFNJPj+5ee05P/PrxJORdC09PLmjw6vv3fP4zcUwebkATqIUVofaypi/F5ugjMBKJkxW4cza9shC/69eujf9UN/r+5nS53BJKWK4o/ZWf+fXUcPjx9VloQDQVCKUUDy/48vDM9vIjmcjzVpCpOUCoodc3NR1IAsqLUlv0bn4GVNnMQkqYwQ+fH1Z5snWj5gIR/9/v57UfG/53cRAXjjKJoaJjy5nCj069vvJWX/X9wDmX5xz5/NPeiR/KPViwqtH3YeRgnl/w8vYitNmVmpYMGfn/+fXMNqFDikaNuyY2SmsQUsbDS1ACDAAHFXUgQGOTnxAAAAAElFTkSuQmCC","title":"Classic Search","description":"Get the old search back","developer":"new-xkit","version":"1.0.5","details":"This is a very simple extension that simply redirects your search requests to the old Tumblr tag search pages. Note that features of the new search page, such as multiple tag search will not work when this extension is enabled.","frame":"false","beta":"false","slow":"false"}