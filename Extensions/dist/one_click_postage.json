{"id":"one_click_postage","script":"//* TITLE One-Click Postage **//\n//* VERSION 4.4.5 **//\n//* DESCRIPTION Lets you easily reblog, draft and queue posts **//\n//* DEVELOPER new-xkit **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.one_click_postage = new Object({\n\trunning: false,\n\n\tqq_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzgxMzAzQzIwRDZGMTFFM0IyOTBDRDZCRDY3Qzk1QTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzgxMzAzQzMwRDZGMTFFM0IyOTBDRDZCRDY3Qzk1QTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODEzMDNDMDBENkYxMUUzQjI5MENENkJENjdDOTVBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDODEzMDNDMTBENkYxMUUzQjI5MENENkJENjdDOTVBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpK36AkAAAFxSURBVHjalJSxS8NAFMZzJruuhSBCdHMISIcWhw4OAZfO/hHSySmFblnF2cH/wA6CDg5Oujg4dHJRUGinklWo1O/kO3h5Hkl88OOSd+++vHv3cma9XgfajDE9DEegD/ZBB8zBDDyCe6x7+rPQijlgCSjAwk7VsGBcUlkvhLrgukFEY+O7FTFmpIVeQQZiEHLM6NeCiRQrVEAe1Fuu4gtX+56qkRY6B8/gUNU3VzW0OsFYbU3bDeeOlVigtjze4PE7Ow3+ZzK+H7GPnM08CwzHXfTfAZ/fwFLF/+qsRKqhR+zO0xInnAuFbxWxs2NO2k7/VGJnYBt8gW/6liLe2VxnsQO25N/RYJnI7NY5U/AuJh6saAuxymk6pxUqwRCMOHnVIObts5SOiQi0mZU1Yt4/IBI1KkXd7PMm32MWt8PjvwB7QngKLuWX7OIXMOCX7PuUmbW/NWgjT+CkRsx7nxmRXcrMSm59gIAhuv6j7U37I8AABDEAB/datwYAAAAASUVORK5CYII=\",\n\tqq_ok_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzNGRkUyQzUwRDcwMTFFM0IyOTBDRDZCRDY3Qzk1QTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzNGRkUyQzYwRDcwMTFFM0IyOTBDRDZCRDY3Qzk1QTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODEzMDNDNDBENkYxMUUzQjI5MENENkJENjdDOTVBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3M0ZGRTJDNDBENzAxMUUzQjI5MENENkJENjdDOTVBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkDLUa4AAAG4SURBVHjalJQxSEJRFIafL/fcRNAKrIYSCsJBCWpwqK3WpgQ3IwgiQhKCJBocRBoFp5ptcwiqRYccJNxECgqkpWxsCPov/DdOh6fRgY93733n/Jx77rnXl72YdzwsAVIgCWIgBPqgAxrgGjSN4/lW5yfIr0SiIAPSIKj+hckayIIqqICedXCFcxwUwaGHkLYg/Yo7l7G4FjMZ5cCGCOiCdRDhDiKcd4WP8c9BMCrFMkooD2ZBHbyAL37rXM8rwYwVS7BGUqgg5iXQAstiraAE08gu4fLUgmJrBVWfabAExtV6QWzZxKdcHr+1Xed/Jv2TfvaRtY5HgE9laOwRvCn/mMuGtNb3EBtTtWux17R/yM+FsF3gqUk7ABPgk6fqMCtHJ2L7x9oUCICBWHsAc0Nq9qtEts8WwRNr8Q5uKfqXlcW4YcVqDN4Ee2CFNRplR2CG41dz+V1mNcngGr936kZ4CZ2IeRWvR9MvtjMQdRuIJg3zkEKsUVlkZHdVsU+Qqc8H2AZtcMP5FZ2fR2RohE6RVU9e9GOwQCGHWbVHiJganYF9CN3rx7HEDFe5xQDHDvtu6Esr7VuAAQC+Omj592980QAAAABJRU5ErkJggg==\",\n\n\tpreferences: {\n\t\t\"sep_-1\": {\n\t\t\ttext: \"Default Blog\",\n\t\t\ttype: \"separator\",\n\t\t},\n\t\t\"default_blog\": {\n\t\t\ttext: \"Default blog for One-Click Postage\",\n\t\t\tdefault: \"\",\n\t\t\tvalue: \"\",\n\t\t\ttype: \"blog\",\n\t\t},\n\t\t\"sep_0\": {\n\t\t\ttext: \"Shortcuts&emsp;<a id=\\\"xkit-ocp-keyboard-legend\\\" style=\\\"cursor: pointer;\\\">Guide</a>\",\n\t\t\ttype: \"separator\",\n\t\t},\n\t\t\"enable_keyboard_shortcuts\": {\n\t\t\ttext: \"Use keyboard shortcuts\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"enable_quick_queue\": {\n\t\t\ttext: \"Enable QuickQueue buttons on posts\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"enable_quick_blog_reblog\": {\n\t\t\ttext: \"Enable QuickReblog and QuickQueue on top right corner when I visit blogs\",\n\t\t\tdefault: false,\n\t\t\tvalue: false,\n\t\t\texperimental: true\n\t\t},\n\t\t\"sep_5\": {\n\t\t\ttext: \"AlreadyReblogged&emsp;<a id=\\\"xkit-alreadyreblogged-help\\\" style=\\\"cursor: pointer;\\\">What is this?</a>\",\n\t\t\ttype: \"separator\",\n\t\t},\n\t\t\"enable_alreadyreblogged\": {\n\t\t\ttext: \"Enable AlreadyReblogged for posts I reblog, queue or draft\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"already_reblogged_limit\": {\n\t\t\ttext: \"Remember the last <i>X</i> posts reblogged\",\n\t\t\tdefault: \"a3000\",\n\t\t\tvalue: \"a3000\",\n\t\t\ttype: \"combo\",\n\t\t\tvalues: [\n\t\t\t\t\"10,000 Posts\", \"a10000\",\n\t\t\t\t\"5,000 Posts\", \"a5000\",\n\t\t\t\t\"Default (3,000)\", \"a3000\",\n\t\t\t\t\"1,500 Posts\", \"a1500\",\n\t\t\t\t\"1,000 Posts\", \"a1000\",\n\t\t\t\t\"500 Posts\", \"a500\",\n\t\t\t\t\"250 Posts\", \"a250\",\n\t\t\t\t\"4 Posts\", \"a4\",\n\t\t\t],\n\t\t},\n\t\t\"enable_hide_alreadyreblogged\": {\n\t\t\ttext: \"Hide posts if they are AlreadyReblogged on my dashboard\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"sep_1\": {\n\t\t\ttext: \"Popup Options\",\n\t\t\ttype: \"separator\",\n\t\t},\n\t\t\"dont_scroll_quicktags\": {\n\t\t\ttext: \"Turn off scrolling on Quick Tags bundles\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"show_blog_selector\": {\n\t\t\ttext: \"Show blog selector\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"enable_popup_html\": {\n\t\t\ttext: \"Enable HTML in One-Click Postage popup\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"show_caption_remover\": {\n\t\t\ttext: \"Show the Remove Caption button\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"show_caption\": {\n\t\t\ttext: \"Show the Caption box\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"show_tag_remover\": {\n\t\t\ttext: \"Show the Clear Tags button\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"show_reverse_ui\": {\n\t\t\ttext: \"Use the Reverse UI on the popup-window (popup on top of reblog button)\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"show_small_ui\": {\n\t\t\ttext: \"Use the Slim User Interface on the pop-up window\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"show_social\": {\n\t\t\ttext: \"Show Post To Facebook and Twitter buttons\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"allow_resize\": {\n\t\t\ttext: \"Allow resizing of the caption box vertically\",\n\t\t\texperimental: true,\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"sep_2\": {\n\t\t\ttext: \"Notifications\",\n\t\t\ttype: \"separator\",\n\t\t},\n\t\t\"dim_posts_after_reblog\": {\n\t\t\ttext: \"Turn the reblog button green after a successful reblog/queue/draft\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"dont_show_notifications\": {\n\t\t\ttext: \"Turn off the notifications displayed when successfully reblogged/queued/drafted\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"use_toasts\": {\n\t\t\ttext: \"Use tumblr-style notifications instead of XKit ones\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"sep_3\": {\n\t\t\ttext: \"Tagging options\",\n\t\t\ttype: \"separator\",\n\t\t}\n\t},\n\n\talready_reblogged: [],\n\tlast_object: {},\n\tlast_icon_object: {},\n\tlast_post_id: 0,\n\tignore_box_input_blurring: false,\n\tuser_on_box: false,\n\tmenu_closer_int: 0,\n\tdefault_blog_id: \"\",\n\tcaption_height: 90,\n\n\tauto_tagger: false,\n\tauto_tagger_preferences: \"\",\n\tauto_tagger_done: false,\n\n\tquick_tags: false,\n\n\tframe_run: function() {\n\t\tif (XKit.page.blog_frame && XKit.extensions.one_click_postage.preferences.enable_quick_blog_reblog.value) {\n\t\t\tXKit.extensions.one_click_postage.in_blog();\n\t\t}\n\t},\n\n\tin_blog: function() {\n\t\tif (XKit.iframe.reblog_button().length === 0) {return; }\n\n\t\tXKit.iframe.hide_button(XKit.iframe.reblog_button());\n\n\t\tXKit.tools.init_css(\"one_click_postage\");\n\n\t\tfunction button(type, label) {\n\t\t\treturn `<a\n\t\t\t\t\t  id=\"x1cpostage_in_blog_${type}\"\n\t\t\t\t\t  class=\"tx-button--with-icon tx-icon-button xkit-in-frame-button\"\n\t\t\t\t\t  role=\"button\"\n\t\t\t\t\t  aria-label=\"${label}\"\n\t\t\t\t\t  title=\"${label}\"\n\t\t\t\t\t  tabindex=\"0\"\n\t\t\t\t\t>\n\t\t\t\t\t  <span class=\"button-label\">${label}</span>\n\t\t\t\t\t</a>`;\n\t\t}\n\n\t\tvar m_html = button(\"reblog\", \"One-Click Reblog\") +\n\t\t\t\t\t button(\"queue\",  \"One-Click Queue\") +\n\t\t\t\t\t button(\"draft\",  \"One-Click Draft\");\n\n\t\tXKit.iframe.reblog_button().after(m_html);\n\t\tXKit.iframe.size_frame_to_fit();\n\n\t\t$(\"#x1cpostage_in_blog_reblog\").click(function() {\n\t\t\tXKit.extensions.one_click_postage.in_blog_post($(this), 0, false);\n\t\t});\n\n\t\t$(\"#x1cpostage_in_blog_queue\").click(function() {\n\t\t\tXKit.extensions.one_click_postage.in_blog_post($(this), 2, false);\n\t\t});\n\n\t\t$(\"#x1cpostage_in_blog_draft\").click(function() {\n\t\t\tXKit.extensions.one_click_postage.in_blog_post($(this), 1, false);\n\t\t});\n\t},\n\n\tin_blog_post: function(obj, state, retry_mode) {\n\t\tif ($(obj).hasClass(\"xkit-button-working\") === true) { return; }\n\n\t\t$(obj).removeClass(\"xkit-button-error\");\n\t\t$(obj).removeClass(\"xkit-button-done\");\n\t\t$(obj).addClass(\"xkit-button-working\");\n\n\t\tvar post_id = parseInt(XKit.iframe.single_post_id());\n\t\tvar form_key = XKit.iframe.form_key();\n\t\tvar reblog_key = XKit.iframe.reblog_button()[0].pathname.split('/')[3];\n\n\t\tvar m_blogs = XKit.tools.get_blogs();\n\t\tvar blog_id = \"\";\n\n\t\tif (!m_blogs) {\n\t\t\tXKit.window.show(\"Error\",\n\t\t\t\t\"Can't get list of current blogs - please visit dashboard first.\",\n\t\t\t\t\"error\",\n\t\t\t\t'<div class=\"xkit-button default\" id=\"xkit-close-message\">OK</div>'\n\t\t\t);\n\t\t\treturn;\n\t\t} else {\n\t\t\tfor (var i = 0; i < m_blogs.length; i++) {\n\t\t\t\tif (m_blogs[i] !== \"\") {\n\t\t\t\t\tblog_id = m_blogs[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tXKit.extensions.one_click_postage.blogs_list = XKit.tools.get_blogs();\n\n\t\tif (XKit.extensions.one_click_postage.preferences.default_blog.value !== \"\") {\n\t\t\tif (XKit.extensions.one_click_postage.blogs_list.indexOf(XKit.extensions.one_click_postage.preferences.default_blog.value) !== -1) {\n\t\t\t\tvar channel_id = XKit.extensions.one_click_postage.preferences.default_blog.value;\n\t\t\t\tblog_id = channel_id;\n\t\t\t} else {\n\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tvar m_object = {\n\t\t\tchannel_id: blog_id,\n\t\t\treblog_id: post_id,\n\t\t\treblog_key: reblog_key,\n\t\t\tform_key: form_key,\n\t\t\tpost_type: \"\"\n\t\t};\n\n\t\tXKit.tools.Nx_XHR({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"https://www.tumblr.com/svc/post/fetch\",\n\t\t\tdata: JSON.stringify(m_object),\n\t\t\tjson: true,\n\t\t\tonerror: function(response) {\n\t\t\t\tif (response.status === 401) {\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP01-B\", state);\n\t\t\t\t} else {\n\t\t\t\t\tif (response.status === 404) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP02-B [Post Not Found]\", state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (retry_mode !== true) {\n\t\t\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.in_blog_post(obj, state, true); }, 500);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP03-\" + response.status + \"-B\", state);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\treturn;\n\t\t\t},\n\t\t\tonload: function(response) {\n\t\t\t\t// We are done!\n\t\t\t\ttry {\n\t\t\t\t\tvar mdata = JSON.parse(response.responseText);\n\t\t\t\t\tif (mdata.errors === false) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.in_blog_process(mdata, state, obj, m_object, false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP05-B\", state);\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP04-B\", state);\n\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tin_blog_process: function(data, state, obj, _m_object, retry_mode) {\n\t\tvar m_object = {};\n\n\t\tm_object.form_key = _m_object.form_key;\n\t\tm_object.channel_id = _m_object.channel_id;\n\n\t\tm_object.detached = true;\n\n\t\tm_object.reblog = true;\n\t\tm_object.reblog_id = parseInt(_m_object.reblog_id);\n\t\tm_object.reblog_key = _m_object.reblog_key;\n\n\t\tm_object.errors = false;\n\t\tm_object.created_post = data.created_post;\n\t\tm_object.context_page = data.post_context_page;\n\t\tm_object.post_context_page = data.post_context_page;\n\t\tm_object.silent = false;\n\n\t\tm_object.context_id = \"\";\n\t\tm_object.reblog_post_id = _m_object.reblog_id;\n\n\t\t// Not sure about this part:\n\t\tm_object[\"is_rich_text[one]\"] = \"0\";\n\t\tm_object[\"is_rich_text[two]\"] = \"1\";\n\t\tm_object[\"is_rich_text[three]\"] = \"0\";\n\n\t\tm_object[\"post[slug]\"] = \"\";\n\t\tm_object[\"post[draft_status]\"] = \"\";\n\t\tm_object[\"post[date]\"] = \"\";\n\n\t\tm_object[\"post[type]\"] = data.post.type;\n\n\t\tvar reblog_as_text = false;\n\n\t\tif (XKit.installed.check(\"reblog_as_text\") === true) {\n\t\t\tif (XKit.installed.enabled(\"reblog_as_text\") === true) {\n\t\t\t\treblog_as_text = true;\n\t\t\t}\n\t\t}\n\n\t\tif (reblog_as_text) {\n\t\t\ttry {\n\t\t\t\tif (data.post.can_reblog_as[0] === \"regular\") {\n\t\t\t\t\tm_object[\"post[type]\"] = \"regular\";\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(\"Can't read can_reblog_as....\");\n\t\t\t}\n\t\t}\n\n\t\tm_object[\"post[tags]\"] = \"\";\n\n\t\tif (typeof data.post.two === \"undefined\") {\n\t\t\tdata.post.two = \"\";\n\t\t}\n\n\t\tm_object[\"post[tags]\"] = this.get_auto_tagger_tags(data.post, state, false);\n\n\t\tm_object[\"post[publish_on]\"] = \"\";\n\t\tif (state === 0) {\n\t\t\tm_object[\"post[state]\"] = \"\";\n\t\t} else {\n\t\t\tm_object[\"post[state]\"] = state;\n\t\t}\n\t\tm_object.custom_tweet = \"\";\n\n\t\tXKit.interface.kitty.get(function(kitty_data) {\n\t\t\tif (kitty_data.errors === true) {\n\t\t\t\t// We fucked up for some reason.\n\t\t\t\tif (retry_mode !== true) {\n\t\t\t\t\tXKit.extensions.one_click_postage.in_blog_process(data, state, obj, m_object, true);\n\t\t\t\t} else {\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"INOCP109-SFORMKEYFAIL\", state);\n\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tXKit.tools.Nx_XHR({\n\t\t\t\tmethod: \"POST\",\n\t\t\t\turl: \"https://www.tumblr.com/svc/post/update\",\n\t\t\t\tdata: JSON.stringify(m_object),\n\t\t\t\tjson: true,\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-tumblr-puppies\": kitty_data.kitten,\n\t\t\t\t\t\"X-tumblr-form-key\": XKit.interface.form_key(),\n\t\t\t\t},\n\t\t\t\tonerror: function(response) {\n\t\t\t\t\tXKit.interface.kitty.set(\"\");\n\t\t\t\t\tif (response.status === 401) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"INOCP101\");\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (response.status === 404) {\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"INOCP104 Not Found\", state);\n\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (retry_mode !== true) {\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.in_blog_process(data, state, obj, m_object, true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"INOCP109-\" + response.status, state);\n\t\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonload: function(response) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar mdata = JSON.parse(response.responseText);\n\t\t\t\t\t\tif (mdata.errors === false) {\n\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-done\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"INOCP901\", state);\n\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"INOCP181\", state);\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\n\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * If auto_tagger is enabled use it to get tags. Otherwise return \"\"\n\t * @param {Object} post - Post object, like those returned by\n\t * XKit.interface.post and XKit.interface.find_post\n\t * @param {number} state - Post state: 0 is reblog, 1 is draft, 2 is queue\n\t * @param {Boolean} isOriginal\n\t * @return {String} tags\n\t */\n\tget_auto_tagger_tags: function(post, state, isOriginal) {\n\t\tif (!this.auto_tagger) {\n\t\t\treturn \"\";\n\t\t}\n\t\tvar auto_tagger = XKit.extensions.auto_tagger;\n\t\tif (typeof(auto_tagger) == \"undefined\") {\n\t\t\treturn \"\";\n\t\t}\n\t\t// Call Auto Tagger for tags.\n\t\tvar additional_tags = auto_tagger.return_tags(post, isOriginal);\n\t\tif (state === 2) {\n\t\t\tvar queue_tags = auto_tagger.return_tags_for_queue();\n\t\t\tadditional_tags = auto_tagger.mreturn_add(additional_tags, queue_tags);\n\t\t}\n\t\treturn additional_tags;\n\t},\n\n\t/**\n\t * Return the addition of tags based on state from the auto_tagger. Only\n\t * queue is handled by this function because state is a horrible variable\n\t * @param {String} tags - current tags\n\t * @param {number} state - Post state: 0 is reblog, 1 is draft, 2 is queue\n\t * @return {String} new tags\n\t */\n\tadd_auto_tagger_state_tags: function(tags, state) {\n\t\tif (!this.auto_tagger) {\n\t\t\treturn tags;\n\t\t}\n\n\t\tvar auto_tagger = XKit.extensions.auto_tagger;\n\t\tif (typeof(auto_tagger) == \"undefined\") {\n\t\t\treturn tags;\n\t\t}\n\n\t\tif (state !== 2) {\n\t\t\treturn tags;\n\t\t}\n\n\t\tvar queue_tags = auto_tagger.return_tags_for_queue();\n\t\treturn auto_tagger.mreturn_add(tags, queue_tags);\n\t},\n\n\tcpanel: function(obj) {\n\t\t$(obj).append(\"<div id=\\\"one_click_postage_warning_movage\\\">Tagging options are moved to a separate extension called \\\"Auto Tagger.\\\"</div>\");\n\n\t\t$(\"#xkit-alreadyreblogged-help\").click(function() {\n\t\t\tXKit.window.show(\"AlreadyReblogged\", \"AlreadyReblogged keeps the track of the posts you reblog using One-Click Postage.<br/><br/>When you queue, draft or reblog a post using One-Click postage, the next time you refresh your page, the reblog button will turn green automatically.\", \"info\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\n\t\t});\n\t\t$(\"#xkit-ocp-keyboard-legend\").click(function() {\n\t\t\tXKit.window.show(\n\t\t\t\t\"Keyboard Shortcuts\", `\n\t\t\t\t<span>Ｒ</span> Reblog<br>\n\t\t\t\t<span>Ｑ</span> Queue<br>\n\t\t\t\t<span>Ｄ</span> Draft<br>\n\t\t\t\t<br>\n\t\t\t\t<span>Ｔ</span> Tag<br>\n\t\t\t\t<br>\n\t\t\t\t<span>ESC</span> Close popup<br>\n\t\t\t\t<br>\n\t\t\t\t<span>１</span> - <span>９</span> Use a Quick Tags bundle`,\n\t\t\t\t\"info\",\n\t\t\t\t\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\"\n\t\t\t);\n\t\t\t$(\".xkit-window-msg span\").attr(\"style\", `\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tborder: 1px solid black;\n\t\t\t\tborder-radius: 3px;\n\t\t\t\tline-height: 1em;\n\t\t\t\tpadding: 5px;\n\t\t\t\ttext-align: center;\n\t\t\t\tbackground: linear-gradient(#eee, #ddd);`\n\t\t\t);\n\t\t});\n\t},\n\n\tget_autotagger: function() {\n\t\tif (XKit.installed.check(\"auto_tagger\") === false) {\n\t\t\tXKit.extensions.one_click_postage.auto_tagger = false;\n\t\t} else {\n\t\t\tif (XKit.installed.enabled(\"auto_tagger\") === true) {\n\t\t\t\tif (typeof XKit.extensions.auto_tagger === \"undefined\") {\n\t\t\t\t\t// Not booted up yet?\n\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.get_autotagger(); }, 100);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"Auto tagger installed and found\");\n\t\t\t\t\tXKit.extensions.one_click_postage.auto_tagger = true;\n\t\t\t\t\tXKit.extensions.one_click_postage.auto_tagger_preferences = XKit.extensions.auto_tagger.preferences;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tXKit.extensions.one_click_postage.auto_tagger = false;\n\t\t\t}\n\t\t}\n\t},\n\n\tget_quicktags: function() {\n\t\tif (XKit.installed.check(\"quick_tags\") === false) {\n\t\t\tXKit.extensions.one_click_postage.quick_tags = false;\n\t\t} else {\n\t\t\tif (XKit.installed.enabled(\"quick_tags\") === true) {\n\t\t\t\tif (typeof XKit.extensions.quick_tags === \"undefined\") {\n\t\t\t\t\t// Not booted up yet?\n\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.get_quicktags(); }, 100);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"Quick Tags installed and found\");\n\t\t\t\t\tXKit.extensions.one_click_postage.quick_tags = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tXKit.extensions.one_click_postage.quick_tags = false;\n\t\t\t}\n\t\t}\n\t},\n\n\trun: function() {\n\t\t//Bail on user blogs\n\t\tif (!XKit.interface.is_tumblr_page()) { return; }\n\n\t\tXKit.tools.init_css(\"one_click_postage\");\n\n\t\t// Let's first check if we have auto_tagger installed and active.\n\t\tXKit.extensions.one_click_postage.get_autotagger();\n\n\t\t// Then, check Quick Tags.\n\t\tXKit.extensions.one_click_postage.get_quicktags();\n\n\t\tif (this.preferences.allow_resize.value) {\n\t\t\tXKit.tools.add_css(\"#x1cpostage_caption { resize: vertical; }\", \"one_click_postage_resize\");\n\t\t}\n\n\t\tif (this.preferences.show_small_ui.value) {\n\t\t\tthis.caption_height = 50;\n\t\t\tvar slim_css = \"#x1cpostage_caption { height: 50px; }\" +\n\t\t\t\t\t\"#x1cpostage_reblog, #x1cpostage_queue, #x1cpostage_draft { height: 32px; }\" +\n\t\t\t\t\t\"#x1cpostage_reblog i::before, #x1cpostage_queue i::before, #x1cpostage_draft i::before { position: static; }\";\n\t\t\tXKit.tools.add_css(slim_css, \"one_click_postage_slim\");\n\t\t}\n\n\t\tXKit.blog_listener.add(\"one_click_postage\", this.init);\n\t},\n\n\tinit: function(m_blogs) {\n\n\t\tvar m_remove_button = \"<div id=\\\"x1cpostage_remove_caption\\\">remove caption</div>\";\n\n\t\tif (!this.preferences.show_caption_remover.value) {\n\t\t\tm_remove_button = \"\";\n\t\t}\n\n\t\tvar m_remove_box_style = \"\";\n\t\tif (!this.preferences.show_caption.value) {\n\t\t\tm_remove_box_style = \" style=\\\"display: none;\\\" \";\n\t\t}\n\n\t\tvar m_clear_tags_button = \"<div id=\\\"x1cpostage_clear_tags\\\">clear tags</div>\";\n\n\t\tif (this.preferences.show_tag_remover.value !== true) {\n\t\t\tm_clear_tags_button = \"\";\n\t\t}\n\n\t\tvar m_html = \"\";\n\n\t\tif (this.preferences.show_reverse_ui.value) {\n\t\t\tm_html = \"<div id=\\\"x1cpostage_box\\\">\" +\n\t\t\t\t\t\t\"<input id=\\\"x1cpostage_tags\\\" placeholder=\\\"tags (comma separated)\\\" />\" +\n\t\t\t\t\t\tm_clear_tags_button +\n\t\t\t\t\t\t\"<textarea id=\\\"x1cpostage_caption\\\" \" + m_remove_box_style + \" placeholder=\\\"caption\\\"></textarea>\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_replace\\\" \" + m_remove_box_style + \"><div>&nbsp;</div>replace caption, not append</div>\" +\n\t\t\t\t\t\tm_remove_button +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_reblog\\\"><i>&nbsp;</i></div>\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_queue\\\"><i>&nbsp;</i></div>\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_draft\\\"><i>&nbsp;</i></div>\" +\n\t\t\t\t\t\"</div>\";\n\n\t\t\tXKit.tools.add_css(\"#x1cpostage_draft { border-radius: 0px 0px 3px 0px; } #x1cpostage_reblog { border-radius: 0px 0px 0px 3px; } #x1cpostage_tags { border-radius: 3px 3px 0px 0px; border-bottom: 0; } #x1cpostage_replace { border-bottom: 0; } #x1cpostage_remove_caption { border-top: 1px solid #abafbc; border-bottom: 0; }\", \"x1cpostage_reverse_ui\");\n\t\t} else {\n\t\t\tm_html = \"<div id=\\\"x1cpostage_box\\\" class=\\\"xkit-no-nipple xkit-1xcpostage-non-reversed\\\">\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_reblog\\\"><i>&nbsp;</i></div>\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_queue\\\"><i>&nbsp;</i></div>\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_draft\\\"><i>&nbsp;</i></div>\" +\n\t\t\t\t\t\t\"<textarea id=\\\"x1cpostage_caption\\\" \" + m_remove_box_style + \" placeholder=\\\"caption\\\"></textarea>\" +\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_replace\\\" \" + m_remove_box_style + \"><div>&nbsp;</div>replace caption, not append</div>\" +\n\t\t\t\t\t\tm_remove_button +\n\t\t\t\t\t\t\"<input id=\\\"x1cpostage_tags\\\" placeholder=\\\"tags (comma separated)\\\" />\" +\n\t\t\t\t\t\tm_clear_tags_button +\n\t\t\t\t\t\"</div>\";\n\t\t}\n\n\t\t$(\"body\").append(m_html);\n\n\t\t$(document).on(\"mouseover\", \"#x1cpostage_queue\", function() {\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\n\t\t\t$(\"#x1cpostage_box\").addClass(\"xkit_x1cpostage_queue_hover\");\n\t\t});\n\n\t\t$(document).on(\"mouseout\", \"#x1cpostage_queue\", function() {\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_hover\");\n\t\t});\n\n\t\t$(document).on(\"mousedown\", \"#x1cpostage_queue\", function() {\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_hover\");\n\t\t\t$(\"#x1cpostage_box\").addClass(\"xkit_x1cpostage_queue_press\");\n\t\t});\n\n\t\t$(document).on(\"mouseup\", \"#x1cpostage_queue\", function() {\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\n\t\t});\n\n\t\tvar m_blogselector_html = \"\";\n\n\t\tXKit.extensions.one_click_postage.blogs_list = m_blogs;\n\t\tXKit.extensions.one_click_postage.default_blog_id = m_blogs[0];\n\n\t\tif (this.preferences.show_blog_selector.value) {\n\t\t\tfor (var i = 0; i < m_blogs.length; i++) {\n\t\t\t\tif (m_blogs[i] !== \"\") {\n\t\t\t\t\tvar extra_cls = \"\";\n\t\t\t\t\tif (this.preferences.default_blog.value !== \"\") {\n\t\t\t\t\t\tif (this.preferences.default_blog.value === m_blogs[i]) {\n\t\t\t\t\t\t\textra_cls = \"selected\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tm_blogselector_html = m_blogselector_html + \"<option \" + extra_cls + \" value=\\\"\" +\n\t\t\t\t\t\t\tm_blogs[i] + \"\\\">\" + m_blogs[i] + \"</option>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tm_blogselector_html = \"<select id=\\\"x1cpostage_blog\\\">\" + m_blogselector_html + \"</select>\";\n\t\t\tif (this.preferences.show_reverse_ui.value) {\n\t\t\t\t$(\"#x1cpostage_reblog\").before(m_blogselector_html);\n\t\t\t} else {\n\t\t\t\t$(\"#x1cpostage_caption\").before(m_blogselector_html);\n\t\t\t}\n\t\t}\n\n\t\tif (this.preferences.show_social.value) {\n\t\t\tvar socials_html = \"<div id=\\\"xkit-1cp-social\\\">\" +\n\t\t\t\t\t\"<div data-site=\\\"facebook\\\" id=\\\"xkit-1cp-social-facebook\\\">&nbsp;</div>\" +\n\t\t\t\t\t\"<div data-site=\\\"twitter\\\" id=\\\"xkit-1cp-social-twitter\\\">&nbsp;</div>\" +\n\t\t\t\t\t\"</div>\";\n\t\t\tif (this.preferences.show_reverse_ui.value) {\n\t\t\t\t$(\"#x1cpostage_reblog\").before(socials_html);\n\t\t\t} else {\n\t\t\t\t$(\"#x1cpostage_draft\").after(socials_html);\n\t\t\t}\n\t\t}\n\n\t\tvar share_fb = XKit.storage.get(\"one_click_postage\", \"share_on_facebook\", \"false\");\n\t\tvar share_twitter = XKit.storage.get(\"one_click_postage\", \"share_on_twitter\", \"false\");\n\n\t\tif (share_fb === \"true\") { $(\"#xkit-1cp-social-facebook\").addClass(\"selected\"); }\n\t\tif (share_twitter === \"true\") { $(\"#xkit-1cp-social-twitter\").addClass(\"selected\"); }\n\n\t\t$(\"#xkit-1cp-social-facebook, #xkit-1cp-social-twitter\").click(function() {\n\t\t\t$(this).toggleClass(\"selected\");\n\t\t\tvar m_value = \"false\";\n\t\t\tif ($(this).hasClass(\"selected\") === true) { m_value = \"true\"; }\n\t\t\tXKit.storage.set(\"one_click_postage\", \"share_on_\" + $(this).attr('data-site'), m_value);\n\t\t});\n\n\t\t$(document).on(\"mouseover\", \".reblog_button,.post_control.reblog\", function(event) {\n\t\t\tif ($(this).hasClass(\"radar_button\") === true) {return; }\n\t\t\tclearTimeout(XKit.extensions.one_click_postage.menu_closer_int);\n\t\t\tXKit.extensions.one_click_postage.user_on_box = true;\n\t\t\tXKit.extensions.one_click_postage.open_menu($(this));\n\t\t});\n\n\t\t$(document).on(\"mouseout mouseleave\", \".reblog_button,.post_control.reblog\", function() {\n\t\t\tif ($(this).hasClass(\"radar_button\") === true) {return; }\n\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\n\t\t\tXKit.extensions.one_click_postage.close_menu($(this));\n\t\t});\n\n\t\t$(document).on(\"click\", \".reblog_button,.post_control.reblog\", function() {\n\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\n\t\t\tXKit.extensions.one_click_postage.close_menu($(this), true);\n\t\t});\n\n\t\tvar cancel_menu_close = function() {\n\t\t\tclearTimeout(XKit.extensions.one_click_postage.menu_closer_int);\n\t\t\tXKit.extensions.one_click_postage.user_on_box = true;\n\t\t};\n\n\t\tvar menu_close = function() {\n\t\t\t// Only close the menu if none of its inputs have focus.\n\t\t\tif ($(\"#x1cpostage_box\").find('input:focus, textarea:focus, select:focus').length === 0) {\n\t\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\n\t\t\t\tXKit.extensions.one_click_postage.close_menu($(this));\n\t\t\t}\n\t\t};\n\n\t\t$(document).on(\"mouseover\", \"#x1cpostage_box\", cancel_menu_close);\n\t\t$(document).on(\"mouseleave\", \"#x1cpostage_box\", menu_close);\n\t\t$(document).on(\"focus\", \"#x1cpostage_box input, #x1cpostage_box textarea, #x1cpostage_box select\", cancel_menu_close);\n\t\t$(document).on(\"blur\", \"#x1cpostage_box input, #x1cpostage_box textarea, #x1cpostage_box select\", function() {\n\t\t\tif (!XKit.extensions.one_click_postage.ignore_box_input_blurring) {\n\t\t\t\tmenu_close();\n\t\t\t}\n\t\t});\n\n\t\t$(\"#x1cpostage_tags, #x1cpostage_caption\").bind(\"keydown\", function(event) {\n\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_keyboard_shortcuts.value\n\t\t\t\t\t&& event.which === 27) { // 27 = Escape\n\t\t\t\t$(this).blur();\n\t\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\n\t\t\t\tXKit.extensions.one_click_postage.close_menu($(this), true);\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tevent.stopPropagation();\n\t\t\tevent.stopImmediatePropagation();\n\t\t});\n\n\t\t$(\"#x1cpostage_remove_caption\").click(function() {\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t\t$(\"#x1cpostage_remove_caption\").css('display', 'none');\n\t\t\t\t$(\"#x1cpostage_caption\").css('display', 'none');\n\t\t\t\t$(\"#x1cpostage_replace\").css('display', 'none');\n\n\t\t\t\t// Determine where we are going to show the box.\n\t\t\t\tvar obj = XKit.extensions.one_click_postage.last_icon_object;\n\t\t\t\tvar offset = $(obj).offset();\n\n\t\t\t\t// Box position\n\t\t\t\tvar box_left = offset.left - ($(\"#x1cpostage_box\").width() / 2) + 13;\n\t\t\t\tvar box_top = (offset.top - $(\"#x1cpostage_box\").height()) - 12;\n\n\t\t\t\t$(\"#x1cpostage_box\").css(\"top\", box_top + \"px\");\n\t\t\t\t$(\"#x1cpostage_box\").css(\"left\", box_left + \"px\");\n\t\t\t} else {\n\t\t\t\t$(\"#x1cpostage_remove_caption\").slideUp('fast');\n\t\t\t\t$(\"#x1cpostage_caption\").slideUp('fast');\n\t\t\t\t$(\"#x1cpostage_replace\").slideUp('fast');\n\t\t\t}\n\n\t\t\t$(\"#x1cpostage_caption\").addClass(\"x1cpostage_remove_caption_on\");\n\t\t\t$(\"#x1cpostage_tags\").css(\"border-top\", \"1px solid #abafbc\");\n\t\t});\n\n\t\t$(\"#x1cpostage_clear_tags\").click(function() {\n\t\t\t$(\"#x1cpostage_tags\").val(\"\");\n\t\t});\n\n\t\t$(\"#x1cpostage_replace\").click(function() {\n\t\t\t$(this).toggleClass(\"selected\");\n\t\t});\n\n\t\t$(\"#x1cpostage_reblog\").click(function() {\n\t\t\tXKit.extensions.one_click_postage.post(0, false);\n\t\t});\n\n\t\t$(\"#x1cpostage_queue\").click(function() {\n\t\t\tXKit.extensions.one_click_postage.post(2, false);\n\t\t});\n\n\t\t$(\"#x1cpostage_draft\").click(function() {\n\t\t\tXKit.extensions.one_click_postage.post(1, false);\n\t\t});\n\n\t\tif (this.preferences.enable_keyboard_shortcuts.value) {\n\t\t\t$(document).on('keydown', XKit.extensions.one_click_postage.process_keydown);\n\t\t\t// Must use capture=true here to intercept Tumblr's default handlers, so we can't use jQuery's .on()\n\t\t\twindow.addEventListener('keydown', XKit.extensions.one_click_postage.suspend_tumblr_key_commands, true);\n\t\t}\n\n\t\tthis.init_keep_tags_dashboard();\n\n\t\tif (this.preferences.enable_alreadyreblogged.value) {\n\t\t\tvar m_data = XKit.storage.get(\"one_click_postage\", \"already_reblogged\", \"\");\n\n\t\t\ttry {\n\t\t\t\tXKit.extensions.one_click_postage.already_reblogged = JSON.parse(m_data);\n\t\t\t} catch (e) {\n\t\t\t\tXKit.extensions.one_click_postage.already_reblogged = [];\n\t\t\t}\n\n\t\t\tXKit.post_listener.add(\"one_click_postage\", XKit.extensions.one_click_postage.check_if_alreadyreblogged);\n\t\t\tXKit.extensions.one_click_postage.check_if_alreadyreblogged();\n\t\t}\n\n\t\tif (this.preferences.enable_quick_queue.value) {\n\t\t\tif (XKit.interface.where().drafts === true || XKit.interface.where().queue === true) { return; }\n\t\t\tif ($(\"body\").hasClass(\"is_private_channel\")) {return; }\n\n\t\t\tXKit.interface.create_control_button(\"xkit-one-click-postage-quickqueue\", this.qq_icon, \"QuickQueue\", \"\", this.qq_ok_icon);\n\t\t\tXKit.post_listener.add(\"one_click_postage\", XKit.extensions.one_click_postage.quick_queue_do_posts);\n\t\t\tXKit.extensions.one_click_postage.quick_queue_do_posts();\n\n\t\t\t$(document).on('click', '.xkit-one-click-postage-quickqueue', XKit.extensions.one_click_postage.quick_queue_button_clicked);\n\t\t}\n\n\t\tif (XKit.extensions.one_click_postage.preferences.dont_scroll_quicktags.value) {\n\t\t\tXKit.tools.add_css(\"#x1cpostage_quick_tags { max-height: 10000px !important; }\", \"one_click_postage_qtdontscroll\");\n\t\t}\n\t},\n\n\tquick_queue_button_clicked: function(e) {\n\t\tvar obj = $(e.target);\n\n\t\tif ($(obj).hasClass(\"xkit-interface-working\") === true) { return; }\n\n\t\tvar parent_box = $(e.target).parentsUntil('.post').parent();\n\n\t\tXKit.extensions.one_click_postage.last_object = parent_box;\n\t\tXKit.extensions.one_click_postage.last_icon_object = obj;\n\t\tXKit.extensions.one_click_postage.last_post_id = $(parent_box).attr('data-post-id');\n\n\t\tXKit.interface.switch_control_button($(obj), true);\n\t\tXKit.extensions.one_click_postage.post(2, false, true);\n\t},\n\n\tquick_queue_do_posts: function() {\n\t\tvar posts = XKit.interface.get_posts(\"xkit-1cp-quick-queue-done\");\n\n\t\tif (XKit.interface.where().queue === true) { return; }\n\n\t\t$(posts).each(function() {\n\t\t\t$(this).addClass(\"xkit-1cp-quick-queue-done\");\n\n\t\t\tif (XKit.interface.where().inbox === true) { return; }\n\n\t\t\tXKit.interface.add_control_button(this, \"xkit-one-click-postage-quickqueue\", \"\");\n\t\t});\n\t},\n\n\tcheck_if_alreadyreblogged: function() {\n\t\t$(\".post\").not(\".xkit_already_reblogged_check\").each(function() {\n\t\t\tvar post_id = $(this).attr('data-root_id');\n\t\t\t$(this).addClass(\"xkit_already_reblogged_check\");\n\n\t\t\tif (XKit.extensions.one_click_postage.is_alreadyreblogged(post_id)) {\n\t\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_hide_alreadyreblogged.value) {\n\t\t\t\t\tif (XKit.interface.where().dashboard === true) { $(this).remove(); }\n\t\t\t\t}\n\n\t\t\t\tXKit.extensions.one_click_postage.make_button_reblogged($(this).find(\".post_control.reblog\"));\n\t\t\t}\n\t\t});\n\t},\n\n\tmake_button_reblogged: function(m_button) {\n\t\tm_button.addClass(\"reblogged\");\n\t},\n\n\tdestroy: function() {\n\t\t$(document).off('click', '.reblog_button,.post_control.reblog', XKit.extensions.one_click_postage.process_click)\n\t\t\t.off('keydown', XKit.extensions.one_click_postage.process_keydown);\n\t\twindow.removeEventListener('keydown', XKit.extensions.one_click_postage.suspend_tumblr_key_commands);\n\t\tXKit.tools.remove_css(\"one_click_postage\");\n\t\tXKit.post_listener.remove(\"one_click_postage\");\n\t\tXKit.tools.remove_css(\"x1cpostage_reverse_ui\");\n\t\t$(\"#x1cpostage_box\").remove();\n\t\tXKit.tools.remove_css(\"one_click_postage_slim\");\n\t\tXKit.tools.remove_css(\"one_click_postage_resize\");\n\t\tXKit.tools.remove_css(\"one_click_postage_qtdontscroll\");\n\t},\n\n\tinit_keep_tags_dashboard: function() {\n\t\t$(document).on('click', '.reblog_button,.post_control.reblog', XKit.extensions.one_click_postage.process_click);\n\t},\n\n\t/**\n\t * @param {Event} e\n\t * @return {boolean} Whether e corresponds to an OCP key command\n\t */\n\tis_key_command: function(e) {\n\t\tif (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// 68 = D, 81 = Q, 82 = R, 84 = T, 49-57 = 1-9\n\t\tif (e.which !== 68 && e.which !== 81 && e.which !== 82 && e.which !== 84 && (e.which < 49 || e.which > 57)) {\n\t\t\treturn false;\n\t\t}\n\t\tif ($(e.target).is('input,textarea') || $(e.target).attr('contenteditable')) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsuspend_tumblr_key_commands: function(e) {\n\t\tif (!XKit.extensions.one_click_postage.is_key_command(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tXKit.tools.add_function(function() {Tumblr.KeyCommands.suspend();}, true, '');\n\t},\n\n\tprocess_keydown: function(e) {\n\t\tif (!XKit.extensions.one_click_postage.is_key_command(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar header_height = $(\".l-header-container\").height();\n\t\t// Tumblr puts 20 px of padding between posts in addition to the height of the header\n\t\tvar screen_pos = $(window).scrollTop() + 20 + header_height;\n\n\t\t// Find the post at the top of the screen, if there is one\n\t\t$(\".reblog_button,.post_control.reblog\").filter(':visible').each(function() {\n\t\t\tif ($(this).hasClass(\"radar_button\")) {return; }\n\t\t\tvar parent_box = $(this).parentsUntil(\".post\").parent();\n\t\t\tvar box_pos = parent_box.offset().top;\n\t\t\tif (box_pos <= screen_pos && box_pos + parent_box.innerHeight() > screen_pos) {\n\t\t\t\tif (XKit.extensions.one_click_postage.user_on_box && e.which >= 49 && e.which <= 57) { // 49-57 = 1-9\n\t\t\t\t\tvar index = e.which - 49;\n\t\t\t\t\tvar quickTags = $(\"#x1cpostage_quick_tags\").find(\".xkit-tag\");\n\t\t\t\t\t\n\t\t\t\t\tif (quickTags.length > index) {\n\t\t\t\t\t\tquickTags[index].click();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (e.which) {\n\t\t\t\t\tcase 68: // 68 = D\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), true);\n\t\t\t\t\t\tXKit.extensions.one_click_postage.post(1, false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 81: // 81 = Q\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), true);\n\t\t\t\t\t\tXKit.extensions.one_click_postage.post(2, false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 82: // 82 = R\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), true);\n\t\t\t\t\t\tXKit.extensions.one_click_postage.post(0, false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 84: // 84 = T\n\t\t\t\t\t\tXKit.extensions.one_click_postage.user_on_box = true;\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), false, true);\n\t\t\t\t\t\t$('#x1cpostage_tags').focus();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t} else if (box_pos > screen_pos) {\n\t\t\t\t// Post is too far down the screen, stop looking\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\t// re-enable tumblr's key commands since we suspended them in suspend_tumblr_key_commands\n\t\tXKit.tools.add_function(function() {Tumblr.KeyCommands.resume();}, true, '');\n\t},\n\n\t/**\n\t * Allows keep_tags to continue to work even in the post editor.\n\t * @param {Event} e\n\t */\n\tprocess_click: function(e) {\n\t\tvar parent_box = $(e.target).parentsUntil('.post').parent();\n\n\t\tif (XKit.extensions.one_click_postage.auto_tagger && typeof XKit.extensions.auto_tagger != \"undefined\") {\n\t\t\t// Call Auto Tagger for tags. Specifies that this is a reblog\n\t\t\tvar post_obj = XKit.interface.post($(parent_box));\n\t\t\tvar additional_tags = XKit.extensions.auto_tagger.return_tags(post_obj, false);\n\t\t\tif (additional_tags !== \"\") {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tXKit.extensions.auto_tagger.inject_to_window(additional_tags);\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t}\n\t},\n\n\topen_menu: function(obj, hide_ui, force_on_screen) {\n\t\tif ($(obj).attr('x1cpostage_disabled') === \"true\" || $(obj).hasClass(\"xkit-one-click-reblog-working\") === true) {\n\t\t\t// we are!\n\t\t\treturn;\n\t\t}\n\n\t\t// Get the box ID.\n\t\tvar parent_box = $(obj).parentsUntil(\".post\").parent();\n\t\tvar box_id = $(parent_box).attr('data-post-id');\n\t\tvar previous_id = $(XKit.extensions.one_click_postage.last_object).attr('data-post-id');\n\n\t\t// Let's first hide our previous box.\n\t\t// only if the current id != previous ID.\n\t\tif (box_id !== previous_id) {\n\t\t\t// It is not! Hide it.\n\t\t\t// Also, change all the settings.\n\t\t\t$(\"#x1cpostage_box\").css('display', 'none');\n\t\t\tXKit.extensions.one_click_postage.reset_box();\n\t\t} else {\n\t\t\t// Lets see if the box is already open.\n\t\t\tif ($(\"#x1cpostage_box\").css(\"display\") === \"block\") {\n\t\t\t\t// It is. Let's end.\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Re-show the caption stuff.\n\t\tif (XKit.extensions.one_click_postage.preferences.show_caption.value) {\n\t\t\t$(\"#x1cpostage_caption\").css(\"display\", \"block\");\n\t\t\t$(\"#x1cpostage_replace\").css(\"display\", \"block\");\n\t\t} else {\n\t\t\t$(\"#x1cpostage_caption\").css(\"display\", \"none\");\n\t\t\t$(\"#x1cpostage_replace\").css(\"display\", \"none\");\n\t\t}\n\n\t\t$(\"#x1cpostage_remove_caption\").css(\"display\", \"block\");\n\t\t$(\"#x1cpostage_caption\").removeClass(\"x1cpostage_remove_caption_on\");\n\t\t$(\"#x1cpostage_tags\").css(\"border-top\", \"0px\");\n\t\t$(\"#x1cpostage_caption\").css(\"height\", XKit.extensions.one_click_postage.caption_height + \"px\");\n\n\t\tif (this.preferences.show_blog_selector.value && this.preferences.default_blog.value !== \"\") {\n\t\t\t$(\"#x1cpostage_blog option:selected\").prop(\"selected\", false);\n\t\t\t$(\"#x1cpostage_blog option[value='\" + this.preferences.default_blog.value + \"']\").prop(\"selected\", true);\n\t\t}\n\n\t\t$(obj).attr('title', '');\n\n\t\t// Call Auto Tagger for tags. Will be \"\" if auto_tagger is disabled\n\t\tvar post_obj = XKit.interface.post($(parent_box));\n\t\tvar state = 0; // reblog\n\t\tvar tags = $(\"#x1cpostage_tags\").val();\n\t\tif (!XKit.extensions.one_click_postage.auto_tagger_done) {\n\t\t\tXKit.extensions.one_click_postage.auto_tagger_done = true;\n\t\t\ttags = tags + (tags ? \", \" : \"\") + this.get_auto_tagger_tags(post_obj, state, false);\n\t\t}\n\t\t$(\"#x1cpostage_tags\").val(tags);\n\n\t\t// Quick Tags?\n\t\t$(\"#x1cpostage_quick_tags\").remove();\n\t\tif (XKit.extensions.one_click_postage.quick_tags === true && typeof XKit.extensions.quick_tags != \"undefined\") {\n\t\t\t// Call Quick Tags to render our box.\n\t\t\tif (XKit.extensions.quick_tags.preferences.show_in_one_click_postage.value) {\n\t\t\t\tvar m_html = \"<div id=\\\"x1cpostage_quick_tags\\\">\" + XKit.extensions.quick_tags.return_for_one_click_postage() + \"</div>\";\n\t\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t\t\t$(\"#x1cpostage_caption\").before(m_html);\n\t\t\t\t} else {\n\t\t\t\t\t$(\"#x1cpostage_tags\").before(m_html);\n\t\t\t\t\t$(\"#x1cpostage_quick_tags\").addClass(\"xkit-no-reverse-ui\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hide_ui !== true) {\n\t\t\t// Determine where we are going to show the box.\n\t\t\tvar offset = $(obj).offset();\n\n\t\t\t// Box position\n\t\t\tvar box_left = offset.left - ($(\"#x1cpostage_box\").width() / 2) + 13;\n\t\t\tvar box_top = offset.top + 35;\n\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t\tbox_top = (offset.top - $(\"#x1cpostage_box\").height()) - 12;\n\t\t\t}\n\n\t\t\tif (force_on_screen === true) {\n\t\t\t\tvar window_top = $(window).scrollTop();\n\t\t\t\tvar window_bottom = window_top + $(window).height();\n\t\t\t\tif (box_top < window_top) {\n\t\t\t\t\tbox_top = window_top + 5;\n\t\t\t\t} else if (box_top + $(\"#x1cpostage_box\").height() > window_bottom) {\n\t\t\t\t\tbox_top = window_bottom - $(\"#x1cpostage_box\").height() - 5;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(\"#x1cpostage_box\").css(\"top\", box_top + \"px\");\n\t\t\t$(\"#x1cpostage_box\").css(\"left\", box_left + \"px\");\n\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_hover\");\n\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t\t$(\"#x1cpostage_box\").fadeIn('fast');\n\t\t\t} else {\n\t\t\t\t$(\"#x1cpostage_box\").slideDown('fast');\n\t\t\t}\n\t\t}\n\n\t\tXKit.extensions.one_click_postage.last_object = parent_box;\n\t\tXKit.extensions.one_click_postage.last_icon_object = obj;\n\t\tXKit.extensions.one_click_postage.last_post_id = $(parent_box).attr('data-post-id');\n\t},\n\n\treset_box: function() {\n\t\t$(\"#x1cpostage_caption\").val(\"\");\n\t\t$(\"#x1cpostage_tags\").val(\"\");\n\t\tXKit.extensions.one_click_postage.ignore_box_input_blurring = true;\n\t\t$(\"#x1cpostage_tags\").blur();\n\t\t$(\"#x1cpostage_caption\").blur();\n\t\tXKit.extensions.one_click_postage.ignore_box_input_blurring = false;\n\t\tXKit.extensions.one_click_postage.auto_tagger_done = false;\n\t},\n\n\tclose_menu: function(obj, force) {\n\t\tclearTimeout(XKit.extensions.one_click_postage.menu_closer_int);\n\n\t\t// I don't know what this is doing\n\t\t// but I don't want to break its current behavior\n\t\t/* eslint-disable no-undef */\n\n\t\tif (force === true) {\n\t\t\tlast_object = null;\n\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t\t$(\"#x1cpostage_box\").fadeOut('fast');\n\t\t\t} else {\n\t\t\t\t$(\"#x1cpostage_box\").slideUp('fast');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tXKit.extensions.one_click_postage.menu_closer_int = setTimeout(function() {\n\t\t\tif (XKit.extensions.one_click_postage.user_on_box === false) {\n\t\t\t\tlast_object = null;\n\t\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t\t\t$(\"#x1cpostage_box\").fadeOut('fast');\n\t\t\t\t} else {\n\t\t\t\t\t$(\"#x1cpostage_box\").slideUp('fast');\n\t\t\t\t}\n\t\t\t}\n\t\t}, 700);\n\n\t\t/* eslint-enable no-undef */\n\t},\n\n\t/**\n\t * Make a post\n\t * @param {number} state - State of post, 0 is reblog, 1 is draft, 2 is queue\n\t * @param {boolean} retry_mode - Whether the function is currently retrying\n\t * @param {boolean} quick_queue_mode - If this is from a Quick Queue button\n\t *                                     instead of the OCP ui (I think)\n\t */\n\tpost: function(state, retry_mode, quick_queue_mode) {\n\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\n\t\t\t$(\"#x1cpostage_box\").fadeOut('fast');\n\t\t} else {\n\t\t\t$(\"#x1cpostage_box\").slideUp('fast');\n\t\t}\n\n\t\tvar form_key = XKit.interface.form_key();\n\t\tvar post = XKit.interface.post(XKit.extensions.one_click_postage.last_object);\n\t\tvar post_id = post.id;\n\t\tvar reblog_key = post.reblog_key;\n\t\tvar channel_id = post.owner;\n\n\t\tif (!reblog_key || reblog_key == \"undefined\") {\n\t\t\tvar reblog_link = $(XKit.extensions.one_click_postage.last_object).find(\".post_control.reblog\").attr('href').split(\"/\");\n\t\t\treblog_key = reblog_link[reblog_link.length - 1];\n\t\t}\n\n\t\tvar root_id = post.root_id;\n\t\tvar m_object = {\n\t\t\tchannel_id: channel_id,\n\t\t\treblog_id: parseInt(post.id),\n\t\t\treblog_key: reblog_key,\n\t\t\tform_key: form_key,\n\t\t\tpost_type: post.type,\n\t\t};\n\t\tvar blog_id = XKit.extensions.one_click_postage.default_blog_id;\n\n\t\tif ($(\"#x1cpostage_blog\").length > 0) {\n\t\t\tblog_id = $(\"#x1cpostage_blog\").val();\n\t\t\tXKit.extensions.one_click_postage.default_blog_id = $(\"#x1cpostage_blog\").val();\n\t\t} else {\n\t\t\tif (XKit.extensions.one_click_postage.preferences.default_blog.value !== \"\") {\n\t\t\t\tif (XKit.extensions.one_click_postage.blogs_list.indexOf(XKit.extensions.one_click_postage.preferences.default_blog.value) !== -1) {\n\n\t\t\t\t\tblog_id = XKit.extensions.one_click_postage.preferences.default_blog.value;\n\t\t\t\t} else {\n\t\t\t\t\tXKit.window.show(\"Default blog not available\", \"<b>Your default blog is no longer available.</b><br/>This might be caused by changing the URL of the blog or logging into a different account.<br/><br/>Please change the default blog or enable \\\"Blog Selector\\\" from One-Click Postage Control Panel to continue.\", \"error\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (quick_queue_mode !== true) {\n\t\t\t$(XKit.extensions.one_click_postage.last_object).find(\".reblog_button, .post_control.reblog\").addClass(\"xkit-one-click-reblog-working\");\n\t\t}\n\n\t\tvar m_button = $(XKit.extensions.one_click_postage.last_object).find(\".reblog_button, .post_control.reblog\");\n\n\t\tif (quick_queue_mode) {\n\t\t\tm_button = $(XKit.extensions.one_click_postage.last_object).find(\".xkit-one-click-postage-quickqueue\");\n\t\t}\n\n\t\tvar caption = $(\"#x1cpostage_caption\").val();\n\t\tvar tags = $(\"#x1cpostage_tags\").val();\n\n\t\tif (quick_queue_mode) {\n\t\t\ttags = this.get_auto_tagger_tags(post, state, false);\n\t\t\tcaption = \"\";\n\t\t} else {\n\t\t\ttags = this.add_auto_tagger_state_tags(tags, state);\n\t\t}\n\n\t\tXKit.tools.Nx_XHR({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"https://www.tumblr.com/svc/post/fetch\",\n\t\t\tdata: JSON.stringify(m_object),\n\t\t\tjson: true,\n\t\t\tonerror: function(response) {\n\t\t\t\tif (response.status === 401) {\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP01\", state);\n\t\t\t\t} else {\n\t\t\t\t\tif (response.status === 404) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP02 [Post Not Found]\", state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (retry_mode !== true) {\n\t\t\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.post(state, true, quick_queue_mode); }, 500);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP03-\" + response.status, state);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\treturn;\n\t\t\t},\n\t\t\tonload: function(response) {\n\t\t\t\t// We are done!\n\t\t\t\ttry {\n\t\t\t\t\tvar mdata = JSON.parse(response.responseText);\n\n\t\t\t\t\tif (mdata.errors === false) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.process(mdata, state, form_key, blog_id, post_id, caption, tags, reblog_key, m_button, false, root_id, quick_queue_mode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP05\", state);\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP04\", state);\n\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tprocess: function(data, state, form_key, blog_id, post_id, caption, tags, reblog_key, m_button, retry_mode, root_id, quick_queue_mode) {\n\t\tvar m_object = {};\n\n\t\tif (blog_id === \"\" || typeof blog_id === \"undefined\") {\n\t\t\tvar m_blogs = XKit.tools.get_blogs();\n\t\t\tfor (var i = 0; i < m_blogs.length; i++) {\n\t\t\t\tif (m_blogs[i] !== \"\") {\n\t\t\t\t\tblog_id = m_blogs[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (blog_id === \"\" || typeof blog_id === \"undefined\") {\n\t\t\t\tif ($(\"#tab_switching\").length > 0) {\n\t\t\t\t\tvar def_blog = $(\"#tab_switching\").find(\".tab_blog.item\").not(\".tab_dashboard\").attr('id').replace(\"tab_blog_\", \"\");\n\t\t\t\t\tblog_id = def_blog;\n\t\t\t\t} else {\n\t\t\t\t\tXKit.window.show(\"Unable to process request\", \"Unable to set Blog ID. Please return to the dashboard and try again, and send me an ask if this continues.<br/><br/>The error code to report is <b>OCP30</b>. Thank you.\", \"error\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div><a href=\\\"http://new-xkit-extension.tumblr.com/ask\\\" class=\\\"xkit-button\\\">Send an ask</a>\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tm_object.form_key = form_key;\n\t\tm_object.channel_id = blog_id;\n\n\t\tm_object.detached = true;\n\n\t\tm_object.reblog = true;\n\t\tm_object.reblog_id = parseInt(post_id);\n\t\tm_object.reblog_key = reblog_key;\n\n\t\tm_object.errors = false;\n\t\tm_object.created_post = data.created_post;\n\t\tm_object.context_page = data.post_context_page;\n\t\tm_object.post_context_page = data.post_context_page;\n\t\tm_object.silent = false;\n\n\t\tm_object.context_id = \"\";\n\t\tm_object.reblog_post_id = post_id;\n\n\t\t// Not sure about this part:\n\t\tm_object[\"is_rich_text[one]\"] = \"0\";\n\t\tm_object[\"is_rich_text[two]\"] = \"1\";\n\t\tm_object[\"is_rich_text[three]\"] = \"0\";\n\n\t\tm_object[\"post[slug]\"] = \"\";\n\t\tm_object[\"post[draft_status]\"] = \"\";\n\t\tm_object[\"post[date]\"] = \"\";\n\n\t\tm_object[\"post[type]\"] = data.post.type;\n\n\t\tif (tags) {\n\t\t\tm_object[\"post[tags]\"] = tags;\n\t\t} else {\n\t\t\tm_object[\"post[tags]\"] = \"\";\n\t\t}\n\n\t\tif ($(\"#xkit-1cp-social-twitter\").hasClass(\"selected\") === true) {\n\t\t\tm_object.send_to_twitter = \"on\";\n\t\t}\n\n\t\tif ($(\"#xkit-1cp-social-facebook\").hasClass(\"selected\") === true) {\n\t\t\tm_object.send_to_fbog = \"on\";\n\t\t}\n\n\t\tif (typeof data.post.two === \"undefined\") {\n\t\t\tdata.post.two = \"\";\n\t\t}\n\n\t\tcaption = XKit.tools.replace_all(caption, \"\\n\", \"<br/>\");\n\n\t\tvar variable_to_use = \"post[two]\";\n\t\tvar current_caption = data.post.two;\n\n\t\tif (data.post.type === \"link\" || data.post.type === \"note\") {\n\t\t\tvariable_to_use = \"post[three]\";\n\t\t\tcurrent_caption = data.post.three;\n\t\t}\n\n\t\tif ($(\"#x1cpostage_caption\").hasClass(\"x1cpostage_remove_caption_on\") === true) {\n\t\t\t// User wishes to remove caption.\n\t\t\tm_object.remove_reblog_tree = true;\n\t\t\tm_object[\"post[two]\"] = \"\";\n\t\t\tm_object[\"post[three]\"] = \"\";\n\t\t} else {\n\t\t\tif (caption !== \"\" && typeof caption !== \"undefined\") {\n\t\t\t\tif ($(\"#x1cpostage_replace\").hasClass(\"selected\") === false) {\n\t\t\t\t\tif (!XKit.extensions.one_click_postage.preferences.enable_popup_html.value) {\n\t\t\t\t\t\tm_object[variable_to_use] = current_caption + \"<p>\" + caption.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;') + \"</p>\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm_object[variable_to_use] = current_caption + \"<p>\" + caption + \"</p>\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tm_object.remove_reblog_tree = true;\n\t\t\t\t\tif (!XKit.extensions.one_click_postage.preferences.enable_popup_html.value) {\n\t\t\t\t\t\tm_object[variable_to_use] = caption.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm_object[variable_to_use] = caption;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tm_object[variable_to_use] = current_caption;\n\t\t\t}\n\t\t}\n\n\t\tif (m_object[variable_to_use]) {\n\t\t\tm_object[variable_to_use] = XKit.tools.replace_all(m_object[variable_to_use], \"&lt;br&gt;\", \"<br/>\");\n\t\t\tm_object[variable_to_use] = XKit.tools.replace_all(m_object[variable_to_use], \"&lt;br/&gt;\", \"<br/>\");\n\t\t}\n\n\t\tif (tags !== \"\" && typeof tags !== \"undefined\") {\n\t\t\tm_object[\"post[tags]\"] = tags;\n\t\t} else {\n\t\t\tm_object[\"post[tags]\"] = \"\";\n\t\t}\n\n\t\tm_object[\"post[publish_on]\"] = \"\";\n\t\tif (state === 0) {\n\t\t\tm_object[\"post[state]\"] = \"\";\n\t\t} else {\n\t\t\tm_object[\"post[state]\"] = state;\n\t\t}\n\t\tm_object.custom_tweet = \"\";\n\n\t\tXKit.interface.kitty.get(function(kitty_data) {\n\t\t\tif (kitty_data.errors === true) {\n\t\t\t\t// We fucked up for some reason.\n\t\t\t\tif (retry_mode !== true) {\n\t\t\t\t\tXKit.extensions.one_click_postage.process(data, state, form_key, \"\", post_id, caption, tags, reblog_key, m_button, true, root_id, quick_queue_mode);\n\t\t\t\t} else {\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP-FORMKEYREQFAIL08\", state);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tXKit.tools.Nx_XHR({\n\t\t\t\tmethod: \"POST\",\n\t\t\t\turl: \"https://www.tumblr.com/svc/post/update\",\n\t\t\t\tdata: JSON.stringify(m_object),\n\t\t\t\tjson: true,\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-tumblr-puppies\": kitty_data.kitten,\n\t\t\t\t\t\"X-tumblr-form-key\": XKit.interface.form_key(),\n\t\t\t\t},\n\t\t\t\tonerror: function(response) {\n\t\t\t\t\tXKit.interface.kitty.set(\"\");\n\t\t\t\t\tif (response.status === 401) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP06\", state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (response.status === 404) {\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP07\", state);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (retry_mode !== true) {\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.process(data, state, form_key, \"\", post_id, caption, tags, reblog_key, m_button, true, root_id, quick_queue_mode);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP08-\" + response.status, state);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\t},\n\t\t\t\tonload: function(response) {\n\t\t\t\t\tvar mdata;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tmdata = JSON.parse(response.responseText);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP09-J\", state);\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (mdata.errors === false) {\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\t\t\tif (mdata.message === \"\" || typeof mdata.message === \"undefined\") {\n\t\t\t\t\t\t\t// No message\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_alreadyreblogged.value) {\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.add_to_alreadyreblogged(root_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_alreadyreblogged.value || XKit.extensions.one_click_postage.preferences.dim_posts_after_reblog.value) {\n\t\t\t\t\t\t\t\tif (quick_queue_mode !== true) {\n\t\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.make_button_reblogged(m_button);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tXKit.interface.switch_control_button($(m_button), false);\n\t\t\t\t\t\t\t\t\tXKit.interface.completed_control_button($(m_button), true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!XKit.extensions.one_click_postage.preferences.dont_show_notifications.value) {\n\t\t\t\t\t\t\t\tif (XKit.extensions.one_click_postage.preferences.use_toasts.value) {\n\t\t\t\t\t\t\t\t\tXKit.toast.add(mdata.created_post, mdata.verbiage, mdata.post_tumblelog.name_or_id, mdata.post.id, mdata.post_context_page);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tXKit.notifications.add(mdata.message, \"ok\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP10\", state);\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tadd_to_alreadyreblogged: function(post_id) {\n\t\tif (post_id && XKit.extensions.one_click_postage.already_reblogged.indexOf(post_id) === -1) {\n\t\t\tXKit.extensions.one_click_postage.already_reblogged.push(post_id);\n\t\t\tXKit.extensions.one_click_postage.save_alreadyreblogged();\n\t\t}\n\t},\n\n\tis_alreadyreblogged: function(post_id) {\n\t\tif (XKit.extensions.one_click_postage.already_reblogged.indexOf(post_id) === -1) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tsave_alreadyreblogged: function() {\n\t\tvar limit_count = XKit.extensions.one_click_postage.preferences.already_reblogged_limit.value;\n\n\t\tvar limit = 3000;\n\n\t\ttry {\n\t\t\tlimit = parseInt(limit_count.substring(1));\n\t\t} catch (e) {\n\n\t\t}\n\n\t\tif (XKit.extensions.one_click_postage.already_reblogged.length >= limit) {\n\t\t\t// Drop 20 posts.\n\t\t\twhile (XKit.extensions.one_click_postage.already_reblogged.length >= limit) {\n\t\t\t\tXKit.extensions.one_click_postage.already_reblogged.shift();\n\t\t\t}\n\t\t}\n\n\t\tconsole.log(\"already_reblogged length is \" + XKit.extensions.one_click_postage.already_reblogged.length);\n\t\tXKit.storage.set(\"one_click_postage\", \"already_reblogged\", JSON.stringify(XKit.extensions.one_click_postage.already_reblogged));\n\t},\n\n\tshow_error: function(code, state) {\n\t\tvar m_word = \"reblog\";\n\t\tif (state === 1) { m_word = \"draft\"; }\n\t\tif (state === 2) { m_word = \"queue\"; }\n\n\t\tvar m_causes = \"<ul class=\\\"xkit-one-click-postage-error-list\\\">\" +\n\t\t\t\t\t\"<li><b>You have used your daily post limit. (<a href=\\\"#\\\">more information</a>)</b><br/>The limit is 250 per day, set by Tumblr. Try again in 24 hours.<br/>This affects the queue too, and can't be circumvented.</li>\" +\n\t\t\t\t\t\"<li><b>You've filled up your queue.</b><br/>You can not queue more than 300 posts.</li>\" +\n\t\t\t\t\t\"<li><b>The post is deleted.</b><br/>The post you are trying to \" + m_word + \" is deleted by the user.</li>\" +\n\t\t\t\t\t\"<li><b>Your browser settings are denying XKit cookies.</b><br/>If you have disabled \\\"Third Party Cookies\\\", One-Click Postage can not work properly. Please enable them and try again.</li>\" +\n\t\t\t\t\t\"<li><b>There was a server error / change.</b><br/>Wait for a while and retry the \" + m_word + \" request.<br/>Check the XKit blog for updates.</li>\" +\n\t\t\t\t\"</ul>\";\n\n\t\tif (state === 2 && XKit.interface.user().queue >= 299) {\n\t\t\tm_causes = \"<ul class=\\\"xkit-one-click-postage-error-list\\\">\" +\n\t\t\t\t\t\"<li><b>You've filled your queue.</b><br/>You can not queue more than 300 posts.</li>\" +\n\t\t\t\t\"</ul>\";\n\t\t}\n\n\t\tXKit.window.show(\"I could not \" + m_word + \" your post.\", \"<b>One of the following might be the reason for that:</b>\" + m_causes + \"<small>Error Code: <b>\" + code + \"</b>.</small>\", \"error\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div><a href=\\\"http://new-xkit-extension.tumblr.com/\\\" class=\\\"xkit-button\\\">Visit the New XKit Blog</a><a href=\\\"http://new-xkit-extension.tumblr.com/ask\\\" class=\\\"xkit-button\\\">Send an ask</a>\");\n\t}\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACzVBMVEUAAACWySrE5k/J5k+UxyjE5E2VxyfF5E2UxieVxyiWxyjD4kzE5E3G5U+TxSeVxSeXyCmYyCnC4kvF5E7F5E+UxieUxyeVxyeVxyjE5E3F5E7F5EyTxSaUxSaUxSeUxieVxieVxiiVxyiWxyiWxymXxymXyCmXyCqYyCqZyCqZySuaySuaySyayiybyiybyi2byjCcyi2cyy2dyy6ezC+fzC+fzTCgzTCgzTGhzjGizjKizzKjzzKjzzOkzzOk0DOk0DSl0DSl0DWm0DWm0TWn0TWn0Tan0jao0jao0jep0jep0zep0ziq0USq0ziq1Dmr1Dms1Dms1Dqs1Tqt1Tqt1Tut1juu1juu1jyv1Fev1VCv1jyv1zyv1z2w1lGw1z2x1lqx1z2x1z6x11Kx2D6y1luy11Ky2D6y2D+y2T+z11yz2T+z2UC011O011y011202FS02UC02kC11W212VW12kC12kG21W622F622V622la220G220K31W631W+32V+32la32l+320K320O33EO41m+42la421e43EO43ES51nC52mC53ES53Fi53US61nG622G63Fm63UW73GK73kW73ka83GK83Vq83ka830a830e93Vq93WO93mS930e930i+3lu+3mW+30i+30q+4Ei/3ly/3ma/4Ei/4Em/4UnA3mbA31zA313A4F7A4UnA4UrB32bB32fB4F7B4UrB4V/B4krB4kvC4GfC4GjC4V/C4kvC4kzC40vD4V/D4WnD4kzD40zE4WnE4mDE40zE403E5E3F4mHF4mnF4mrF5E3F5E7G42DH42vH42zI42zI5GzJ5W3K5WzK5W3Y2NjZ2dna2tnb29vd3d3e3t7m5ubn8s3o6Ojo6eTp6enr6+vs7Ozt9s7u8Ofw+Nby8vLz8/P09PT39/f4+Pj5+fn6+vr7+/v9/f39/vv+/v7////REcRKAAAAHHRSTlMAPT09enp7e7KysrKysubm5ubm5ub9/f39/f3+7gexhgAABDxJREFUWMOVl0uu3UQQhr9ql33yQEiER1gDQmyBOUMmiM0xYAKZkGSQCMGAZbAGlIgIcuNz3V1dxaBtn3MuyY3dE9st1+uvt0B39/CUvvSYGn3pCQkkhJAAoPSFvvRICHnI6/s301gRDp88CkFCAPDk1K6ippgaaroyOxfQhHz3okh6+BPzWSQDK4PldLW7YDyf7/+S+88u1MxDBmDIA3nI6/PmHUAeMt/qYURNIcOoIzoqyRM5ZciQyaSc8OTkdtH+m2kGeXxgOkyoKV3tmA7TKukwHahdXVU+vw+J9i6PT/YDKwY3MTl/v/jWab1DQlYcFuQXqeduPUwHylDat5quDIoWCgUd2531RtRAJsHFEW8avNE36JvZzZp9sbH/+gO2nX//gNIA9kStVAC+2krPh1/GGOPICFXNSZ7w5MLmU3LKCcNw9UqlQsW3M6BKbaBWzd3/XLRJByl4cjo1FhBjO7lVmOn0FKqNQc23knZDw6B2lf7Yk5WKiSE2R4n9fSuD+wOAmZpCB1Vzoc89QewwoViRlr1FrwauhisA287APQ+ZiYlBo6VoyKzB8PGtpDrHwUxD1rK6sKEnd7ZoMK1ZqqWn9GVnHIggcxVTKUgR8pBbRtg/t5LevQcwldIXhnGg6NgKpoW1ylCvb4+DeycMxm4EDcFxxGVPMlnyRHggmjs8OcBcm7rbrZ9DuVKpXaVT76ipkjzN9erzbTr0BRy6xPHIETI5bzchX/u1Ow7HZDAxTUy7stnCIizM0NwRNahRWyjnV2+z/LN31wOC2lUkpLTQsndCd6aAhwQ4hIYhJrj4jmTKNSRInjCNoKaKLF0jDRsYhCdPrc1rpamyVLT+0y0axNILUF9b1h43xtpLk0cQ4HjdgwEVHPfQaKkstiedrXo4YkJRS1hnJE91TyQFDfykLROpqZYdjam50RKus9zYU5TnAaNSIfkSa3swmAqlgYha642e/GqHCVFjqQcEnhxxSbvSsWspcJ4L1ztKWqU2T5h6nDyzIw662kph6I7BpCwoxWtMDBxE23iDhBzfG8Bje6bfXkK0wTwpvmTjVhPSs1/mab0Kriyju2wsKOnJ02U9EAj1gGB7b0xPnoT4OtnGUg8q23IhPXoO0UI5CESJPQ5MPz+fx4GZJjTWKb1soX8G+IUJ8wojIe9vLenHX0MCNW07VGeoYmBQU/3z5YP3zCU//N7CN6zFQEmYfHG5L0jIElgstf/8e1nAPPm8L5xvIUuZskTMWYqflf0ZuHmunL1wIwAXiU1n8LfN4HFiGE1Ia9WOu7kZdroLIjx85bPcV2r16o589GCVei79Jh5vW7wkhBc6gSVb7V4DZMYDb2Yta/EipKsdLk4WeXh34bYgu0hZtDjtypeeCYnji46sSTxibnHn6oXEeogTeEHMyo6vXEDu9B+1Cjsv2Bdz4Xy3SD//5/U0Bf8BBdxZWHJNwMEAAAAASUVORK5CYII=\n","css":".post_controls .post_control.reblog.reblogged:after {\n    content: '\\2713';\n    font-size: 18px;\n    color: #56bc8a;\n    opacity: 100;\n    display: block;\n    margin-top: 0px;\n    margin-left: 0px;\n    background: white;\n    height: 10px;\n    line-height: 10px;\n}\n\n#x1cpostage_quick_tags {\n\tmax-height: 70px;\n\toverflow-y: auto;\n}\n\n#x1cpostage_quick_tags .xkit-no-tags {\n\tpadding: 8px;\n\tfont-size: 12px;\n\tbackground: rgba(228,232,238,1);\n\tcolor: #7a7f8e;\n\tborder-bottom: 0px;\n}\n\n#x1cpostage_quick_tags .xkit-tag {\n\tborder: 0px !important;\n\tmargin-top: 1px !important;\n}\n\n#x1cpostage_quick_tags.xkit-no-reverse-ui .xkit-no-tags {\n\tborder-bottom: 1px solid #abafbc;\n\tborder-top: 0px;\n}\n\n#one_click_postage_warning_movage {\n\tpadding: 15px;\n\tfont-size: 12px;\n\tcolor: rgb(80,80,80);\n}\n\n#xkit-1cp-social-twitter,\n#xkit-1cp-social-facebook {\n\tbackground: rgba(245,245,245,1);\n\tcolor: #7a7f8e;\n\tborder-bottom: 0;\n\tfont-size: 12px;\n\tfloat: left;\n\twidth: 99px;\n\ttext-align: center;\n\theight: 30px;\n\tcursor: pointer;\n}\n\n#xkit-1cp-social {\n\tmargin-top: 1px;\n}\n\n#xkit-1cp-social-twitter:hover,\n#xkit-1cp-social-facebook:hover {\n\tbackground-color: rgba(234,239,246,1);\n\tcolor: #7a7f8e;\n}\n\n#xkit-1cp-social-twitter.selected,\n#xkit-1cp-social-facebook.selected {\n\tbackground-color: #c5cdd8;\n\tbox-shadow: inset 1px 0px 0px rgba(255,255,255,0.12), inset 0px 1px 3px rgba(0,0,0,0.12);\n}\n\n#xkit-1cp-social-twitter {\n\tborder-left: 0;\twidth: 100px;\n\tmargin-left: 1px;\n}\n\n.xkit-one-click-postage-error-list {\n\tfont-size: 12px; margin: 10px 25px 4px 25px; padding: 0; color: rgb(100,100,100);\n}\n\n.xkit-one-click-postage-error-list li {\n\tmargin-bottom: 6px;\n}\n\n.xkit-one-click-postage-error-list li b {\n\tcolor: black;\n}\n\n.xkit-one-click-reblog-working:after,\n.xkit-one-click-reblog-working {\n\tbackground-image: url(data:image/gif;base64,R0lGODlhEgASAOYAAIjJ9Wmq14e42KXZ+rbo/Kz8/Lz+/KT0/OTu9pTk/ITT/OT0/Izc/Hq02XzM/Hi45pzs/LT9/HTE/JbH6Mz+/HapysT+/IjD6jyMxGeky9T+/Eyc1DSEvGy89ESNu9zq9Ie+5ix8tHWt2FSl3GS17LzZ7CR1rNzz/JTN9cTb7Fyt5ESVzLfc99Ts/Mvj9Oz2/KTs/JTc/IzT/KTk/KTL6K3j/Jzc/Lzy/JfB3Jzj/Kzz/FydxMT0/Kzs/FSUvLTx/EyVxHzD9Fyj1JTV/Mz0/MTs/FSbzGScxOz+/OT+/Nz+/ESSxCx6rDSCtFyq3FSi1Oz6/PT6/EyazPz6/DyKvGSy5OT6/NTq9Mze7Gy67DR+tDyGvGy27Mzi7NTm9GSu41SWxHTC9PT2/HS+9FyezJzW/FSe1HzG/Nzu/FyWxNzm9MTW5EyRvOzy9ESOxDR6rD+GtGyy5HzB6szu/KzT77TQ5OTy9J3Q88nm/FSaxNTy/Fym3NTi7PT+/Pz+/P///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQB/ACwAAAAAEgASAAAHtYB/gn9+KRVwJoOKix87IUwmiYuLWFRNISEmTJOKH0tbHFsCH1Ocgn4BGBh5H6aKLksYKwiug34gK0A0tX69qBsbL7x+fX0jI061gn1IfU4jVcp/zEkPKl9RvElJSHdVJHi1fUpKSC0kWQB+pn7kSn1+AGESA+uLfkkUFErrCw7/NhbYm0bBggUNfQadUMCQwYwbNwxEMGCAApJFL2wwSJAAwoECBSJQSDjJz4kbMDyKRDLwTyAAIfkECQkAfwAsAAAAABIAEgAAB7OAf4J/fikNbE0hHhUug45/HxkYHFohTCYmBo+CLlIYkxyJTBybfwhmK0tLOB9TUwgam34NGxsBCKWPLiMjT7i5jhNOI3TAjw8qKi/GjlwkDcyOWR1h0X7XAGESUcZ+fX1+AxISc919SH1oDg4xfrl+SPHXNgoMBO6P8ElJSO5QDAwS9LCC708fJQiVFFyQIAGEAxEsUJhIQYOSPo+g/HhYIIIBAxI1YJRlhUIEjxaU9HMUCAAh+QQJCQB/ACwAAAAAEgASAAAHtoB/gn9+XQJGVBxsFSl+g48IIisYGBwcISEmPmqPf14jGytLGFRbTUwmJl+PC06gZhMffn5qOFtLj34grgELnX9tfY8tKipfvr+/dx0kLMnJAB0dL8+/EhJn1b8O3NqdMg4KwtWOgjUKMnras7MnDAwz5b9+fX3sNQkJN/KD9Ej1jqBAgHDAABJ5fpIkQXJwkJUDBwpEsKChogYlCvn96WNAogEDFChcTKJRkB8kFCxYEJnE3qNAACH5BAkJAH8ALAAAAAARABIAAAe1gH+Cf34uIEJLbmANKX6DgwsPGxsrSxyXWjsfj1dfT0+UlVscIUxaKYILXCpOTjQffn4IOFQmJm9qfgAkVQ8Ij4JtPiZVfS0dyG3Agy8GggMSYSzL1DIOElDUywoOMtrbMgzfwDYMMX3jgwQMCSfpgkkJEDqO1LGCfj8HBxb1j7H3/kDRUaCABST+/PRB0idgkggRDBigoCSJxSQM/f3pY8GABQsUNCip2HCZHyRKNIRUknFQIAAh+QQJCQB/ACwAAAAAEgASAAAHuIB/gn9+VxNxTxtCAlh+g48LFyoqiVIrGBgZH49/aGMkVSojiZdUHFRYgwtnHR1cdAtTfnY0QBxNTZt+ZRISAAucfy87ISFpficOyi/BgmIeJiZrBAoKRc2DddEVOQwKUdiCUTkUfwkJOeHBEAkH6pw9EAeO74I8BwdJ9YJJBQUG9N75sRAhgoaA6voYMGBBQ5+AfhAOQmLBAgUKSpIgQdLnYbM+GihoUJKR40OJgvz0SZJR48lHgQAAIfkECQkAfwAsAAAAABIAEgAAB7KAf4J/fi0DciQqcTh4foOPL0MSHVmJI08bIh+PfycKDhJhHSRfmBsrUl2DUAwKnywLU34vdE9LGEubfjUMDEMvnH8vARhUGX5WCcrAwX9iUk0cKTwQCUTNg3VNIRU6Bwd92IJTHCEeBQcF4oM+TEwFBRHrgmAmTBYRBo7rERJgGgYMJJk3CIkBCxT2zfOjgQKFJArX9dFAEWJEbBOVKEmCpI+fi5z8JOHY0ePCPiU/NgsEACH5BAkJAH8ALAAAAAASABIAAAe4gH+Cf34nNTISY0F3V36Dj1AzCgoSEh0kVU4PCI9/VjkMDAoOiSQqTiN7XYNIMAkJDAQvfn4vLF8bG2acfjcQEDBQnX8vDVIrAX5JBQcHYsOCYkJLGFgUBQUa0IMlGBgCBhERfduCU24cUgbr5YNkTRwW8u2CO01NFBYUjuV+WyEelFCggKSdFxMhKvTRoEEJP2gzTJhY40eJkiRIHg7TkIzQxSR9aNEjhBFJyJGE+qjU2I6WyHKBAAAh+QQJCQB/ACwAAAAAEgASAAAHtoB/gn9+CwQxCg4OAy1+g49QBAkMCokSHVkXC49/SQcQk5QOlyRVVVeDfQWfEEUvfn4vLFlOtQiEFgUFP32cfy9yI08NfkgRx0i+glEBGxsuGgYGSsqDJRtLAhQWBr3Vf1NAS2TbFN+DGRgYFBQa54IZHBhKGhqO334eHGlJSkre1fiECCGij5IkSO758rNjYIpiCPsofITDhIk0joohkThREJIQbz4M8tNHYjUKKTjB6viOpbJAACH5BAkJAH8ALAAAAAASABIAAAe4gH+Cf35WPDAxDDE1aH6Dj30GBxAJDAwKDhIoC49/SBEFk5QMDpkdYy2DkaAFFFB+flB4QR1cXJx+FAa7fZ1/UQAqKiB+fRYWBr2+vw8jIy5KFBZJy4MuziAaGhSO1YRPGwHaSt6DIitSSkrU5X8BKytJ8t3VflIYO31JSPTLXhxURPhBgqRPv0d+MnDgkKKYwYOC/AgIoWWHI1gQ/yw4YiJEkw+DMhIKYUJLinaDJPgAiVKQwUeBAAAh+QQJCQB/ACwAAAAAEgASAAAHrIB/gn9+SBQRBzAwNyd+g499hxEFBxAJCQwDL49/fRYWBpM6MJgMCgong5EUoEpIfn5RcwwOtQuEShoUFH2cf1FlEmEAfn25Go6+vw5ZWS1ISq7Kg3gkJHdJ2cnTfiROD0jh048PTk7hveOCDyMjfe/byn5CGwGwsOotK1Ig+Op+IpYscaFOkB8cGDDYK+glQxMOSz6oa+CBSYgmVLAUXMHE4g6JBaXAqZAiXiAAIfkECQkAfwAsAAAAABIAEgAAB7GAf4J/fn1KFgYRBhZWfoOPfkoUFogRBQcHP1CPf4YaFBQGiZcQOQkLg35JShoaSX1+hRowCQwxm35ISauOnH0wDAo2sUi6vZydMQAOJ319SH3Ijy0ODgOFsNKpZx0AscfafwAdEuHIFyRc5pBcKg/rgx9OKhPwhA0bIy7wfhMbGw3ACcom6IOIJSueIJA2Ak6GDGA4YMAgZR8yDSZMMGHSpAmGDB+0XakAhyObBljABQIAIfkECQkAfwAsAAAAABIAEgAAB62Af4J/fn1JGhQWFhpIfoOPfklKiIkGEQUGfY+ESZKTlZcFB1aDfkhInUh9foVKEQcQM0iEfX2njpt9PxAJPayFq5uDfbwMJ7+4woJ6MgoEysp+Cgoy0MplDg7WwkMSEtuQQR0A4INoJFl35YQXJCRem1PCfjQjTiDJfyQ+WMkfDRvsIXikwIQJJh4yiCCzZEVAeI/U+GASIgQHDhiWLBExcF4KEWw4UDEioEu+QAAh+QQJCQB/ACwBAAAAEQASAAAHtoB/gn5+SEoaiEpIfoKNf4VJSYcUFBYGFH2Ofn1ISJJKlAYGERFIg5uci4R9SaMFBaaPfX2Mjn99BgcHP7WEto1+OhAQC7/GJwkJN8a/fgkMOcy/MzIK0rY2CtbXgwpnMtyCCxISA4IaUcx+AB0dLX8KJhlTzXQkJAB+H0wmJmBYtf58AOFEBZdif1JoYRKiCRARDTJseDLiyxVHH3aE4MABA4YVGzY8QKgpRQMwGJYIAeEi4J9AACH5BAkJAH8ALAAAAAASABIAAAe1gH+Cf35+fUhJSUpJfX6Dj4V9h4lKGhQafY+DkYhJGpYUFkiagoWmfkihBgaZpKR+FAYRFo6umn4GBQWjtppJBQcWvbcHBzrDmj8QEMiPPQkJf0owYsN+MQw5FSYmdcMLCgoEa9xsUbZ+ZQ4KJ35pISEV57cDEmdljh8cIRxkXbV/EKDo0OHMgkFY4HCggoFMAxBxnFQhMeaKpg8ZMGBYIWXDExUqLhx81UWAEClPAky4AvBPIAAh+QQJCQB/ACwAAAAAEgASAAAHs4B/goN/fn59iH1+hIyChn1ISElJi42Eh5JJSkp9loOGh5saGp2el0oUFBqVpo4aFhZIrYRIBgYaYB0FrJZ+BhEWTCZas38WEQXCcMUGBQUeIVpirX46BwUVIU11rVYQEDwpHBx5UZ5+NQkJVn4ZHBgNU41+BAwMNYsfSxgrAV6sC2woUMAAyqAuUlZs2BDgwgQ5YSQ4ULCAEYIAG56MUEEiS4cwNl706oIjDkc5A1rIGxQIACH5BAkJAH8ALAAAAAASABIAAAexgH+Cg4R+hn6EiYmGfX2Iiop+jUhIfZCLfkhJm4h+ARSXf5lKSkl+ayYmCqF+pBp9Fak4oX99FBRKHiFMCLR+txRNIVS0ghoWFhxNHsV/FAYGYBxUYr4GEQYCGBgltEgFERRY2wFRl343BwWmASsrII+FPBAQN4gnZhtPD1fxCzUJEhyAMsjLkxFOVARBUQaFAgUMcixIhOCBiipVOkiQ8HAGwUhXUAQZI0FGjRPx/gQCACH5BAkJAH8ALAAAAAASABIAAAe2gH+Cg4SDfoWIhX6LhSlJiX9+fX2Hgh9vHH2Ii31ISId+aSYmAYmSnp8pTCZaH5B+SElKfRUhITiQgn1KSklAHE0IuZFKGkpUHG7DgkoUFBhUQMt/Gs5kGEtRw34WFhQCKyslw0gGBhouQBtfU68WERGfDRsjIJWEfhQFBRaHCE4jVFxAcw/KDwgHCiAZdOWLChIdHAwYEINBAggwFhRacAGiBAcOFFjsAcVUiwEAQsYgsODen0AAIfkECQkAfwAsAAAAABIAEgAAB7CAf4J/fn6Dh4iDHz4OiY5/KVomTI+EiltMk0SOhYZ+RyEhbB+cfaZ+KRxNW6SlfUh+AhwcOJWESElIRhgYdrZ+ScErS1K2gklKSlIrZsZ/yBoBG2ZRvxoUSiBPTym2SBTYLiMjD9WcFBYWsA8qVShTiX4aBgYUhgtcVVkAJ4aCSBYKRDDQZ1CLDh0kOJBRg8AMCAcEIkG0AIVCBwoYJIBoYGI8NDViMIgx44YVf4ICAQA7) !important;\n\tbackground-repeat: no-repeat !important;\n\tbackground-position: 50% 50% !important;\n\tbackground-size: auto auto !important;\n\tcursor: default !important;\n}\n\n#x1cpostage_caption {\n\twidth: 200px;\n\theight: 90px;\n\tpadding: 10px;\n\tresize: none;\n\tborder: 0;\n\tbox-shadow: 0px 1px 0px white;\n\tmargin: 0; display: block;\n\tvertical-align: middle;\n\tbackground: white;\n\tmargin-top: 1px;\n\tborder-radius: 0;\n}\n\n#x1cpostage_clear_tags:hover,\n#x1cpostage_remove_caption:hover {\n\tbackground: -moz-linear-gradient(top,  #ffffff 0%, #dddddd 100%); /* FF3.6+ */\n\tbackground: -webkit-linear-gradient(top,  #ffffff 0%,#dddddd 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: linear-gradient(to bottom,  #ffffff 0%,#dddddd 100%); /* W3C */\n\tcolor: rgb(80,80,80);\n}\n\n#x1cpostage_clear_tags:active,\n#x1cpostage_remove_caption:active {\n\tcolor: black;\n\tbackground: -moz-linear-gradient(top,  #D1D1D1 0%, #ffffff 100%); /* FF3.6+ */\n\tbackground: -webkit-linear-gradient(top,  #D1D1D1 0%,#ffffff 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: linear-gradient(to bottom,  #D1D1D1 0%,#ffffff 100%); /* W3C */\n}\n\n#x1cpostage_clear_tags,\n#x1cpostage_remove_caption {\n\tbackground: #ffffff; /* Old browsers */\n\tbackground: -moz-linear-gradient(top,  #ffffff 0%, #D1D1D1 100%); /* FF3.6+ */\n\tbackground: -webkit-linear-gradient(top,  #ffffff 0%,#D1D1D1 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: linear-gradient(to bottom,  #ffffff 0%,#D1D1D1 100%); /* W3C */\n\n\twidth: 200px;\n\tpadding: 5px 10px;\n\ttext-align: center;\n\tresize: none;\n\tfont-size: 12px;\n\tcolor: rgb(130,130,130);\n\tborder-top: 0;\n\tmargin: 0;\n\tposition: relative;\n\tcursor: pointer;\n}\n\n#x1cpostage_clear_tags {\n\tborder-top: 1px solid #abafbc;\n}\n\n#x1cpostage_replace {\n\twidth: 200px;\n\tpadding: 5px 10px;\n\tpadding-left: 22px;\n\tresize: none;\n\tbackground: rgba(255,255,255,0.86);\n\tfont-size: 12px;\n\tcolor: #7a7f8e;\n\tborder-top: 0;\n\tmargin: 0;\n\tmargin-top: 2px;\n\tposition: relative;\n\tcursor: pointer;\n}\n\n#x1cpostage_replace.selected div {\n\tbackground: #4c990d;\n}\n\n#x1cpostage_replace div {\n\tposition: absolute;\n\ttop: 8px; left: 8px;\n\twidth: 10px; height: 10px;\n\tborder: 1px solid #abafbc;\n\tborder-radius: 10px;\n}\n\n#x1cpostage_reblog,\n#x1cpostage_queue,\n#x1cpostage_draft {\n\tbackground: rgba(245,245,245,1);\n\tcolor: #7a7f8e;\n\tborder-bottom: 0;\n\tline-height: 30px;\n\tfont-size: 12px;\n\tfloat: left;\n\twidth: 68px;\n\ttext-align: center;\n\theight: 40px;\n\tcursor: pointer;\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\tmargin-top: 1px;\n\tposition: relative;\n}\n\n.xkit-1xcpostage-non-reversed #x1cpostage_reblog,\n.xkit-1xcpostage-non-reversed #x1cpostage_queue,\n.xkit-1xcpostage-non-reversed #x1cpostage_draft {\n\tmargin-top: 0; margin-bottom: 1px;\n}\n\n#x1cpostage_reblog:hover,\n#x1cpostage_queue:hover,\n#x1cpostage_draft:hover {\n\tbackground-color: rgba(234,239,246,1);\n\tcolor: #7a7f8e;\n}\n\n#x1cpostage_reblog:active,\n#x1cpostage_queue:active,\n#x1cpostage_draft:active {\n\tbackground-color: #bdc1c6;\n\tbox-shadow: inset 0px 1px 2px rgba(0,0,0,0.42);\n\tcolor: #7a7f8e;\n}\n\n#x1cpostage_queue,\n#x1cpostage_draft {\n\tborder-left: 0;\n\twidth: 64px;\n}\n\n#x1cpostage_reblog,\n#x1cpostage_draft {\n\twidth: 65px;\n}\n\n#x1cpostage_queue {\n\tmargin-left: 1px; margin-right: 1px; width: 68px;\n}\n\n#x1cpostage_reblog {\n\tborder-radius: 3px 0px 0px 0px;\n}\n\n#x1cpostage_blog {\n\twidth: 100%;\n\t-webkit-appearance: none;\n\tmargin: 0; padding: 5px 10px;\n\tborder-radius: 0;\n\tbox-sizing:border-box;\n\t-moz-box-sizing:border-box; /* Firefox */\n\t-webkit-box-sizing:border-box; /* Safari */\n\n\tborder: 0;\n\twidth: 200px;\n\tpadding: 5px 10px;\n\tresize: none;\n\tborder-bottom: 0;\n\tmargin: 1px 0px 0px 0px;\n\tbackground: white;\n}\n\n#x1cpostage_draft {\n\tborder-radius: 0px 3px 0px 0px;\n}\n\n#x1cpostage_reblog:hover i,\n#x1cpostage_queue:hover i,\n#x1cpostage_draft:hover i {\n\topacity: 0.8;\n}\n\n#x1cpostage_reblog i::before,\n#x1cpostage_queue i::before,\n#x1cpostage_draft i::before,\n#xkit-1cp-social-facebook::before,\n#xkit-1cp-social-twitter::before {\n\tfont-family: tumblr-icons, Blank;\n\tfont-size: 2em;\n\tmargin-left: 2px;\n\tvertical-align: middle;\n\tposition: relative;\n}\n\n#x1cpostage_reblog i::before,\n#x1cpostage_queue i::before,\n#x1cpostage_draft i::before {\n\ttop: 4px;\n}\n\n#x1cpostage_reblog i::before { content: \"\\EA8F\"; }\n#x1cpostage_queue i::before { content: \"\\EA8E\"; }\n#x1cpostage_draft i::before { content: \"\\EA25\"; }\n#xkit-1cp-social-twitter::before {\n\tcontent: \"\\EAA5\";\n\tbottom: 1px;\n}\n#xkit-1cp-social-facebook::before {\n\tcontent: \"\\EA40\";\n\tbackground: #7a7f8e;\n\tfont-size: 1.2em;\n\tcolor: rgba(245,245,245,1);\n\tborder-radius: 2px;\n\tpadding: 5px 0 0 5px;\n\ttop: 8px; left: 2px;\n}\n\n#x1cpostage_tags {\n\twidth: 200px;\n\tpadding: 5px 10px;\n\tresize: none;\n\tborder-top: 0;\n\tborder-radius: 0px 0px 3px 3px;\n\tmargin: 0; border: 0;\n\tbackground: white;\n}\n\n#x1cpostage_box *{\n\tbox-sizing:border-box;\n\t-moz-box-sizing:border-box; /* Firefox */\n\t-webkit-box-sizing:border-box; /* Safari */\n}\n\n#x1cpostage_box {\n\twidth: 200px;\n\tposition: absolute;\n\tz-index: 1000;\n\ttop:0; left:0;\n\tdisplay: none;\n\tbackground-color: #bcbcbc;\n\tbox-shadow: 0 4px 9px rgba(0,0,0,0.35);\n\tborder-radius: 4px;\n\tpadding: 1px;\n}\n\n#x1cpostage_box:after, #x1cpostage_box:before {\n\ttop: 100%;\n\tborder: solid transparent;\n\tcontent: \" \";\n\theight: 0;\n\twidth: 0;\n\tposition: absolute;\n\tpointer-events: none;\n}\n\n#x1cpostage_box:after {\n\tborder-color: rgba(245, 245, 245, 0);\n\tborder-top-color: rgb(245,245,245);\n\tborder-width: 10px;\n\tleft: 50%;\n\tmargin-left: -10px;\n\tmargin-top: -1px;\n}\n\n#x1cpostage_box.xkit_x1cpostage_queue_hover:after {\n\tborder-top-color: rgba(234,239,246,1);\n}\n\n#x1cpostage_box.xkit_x1cpostage_queue_press:after {\n\tborder-top-color: #bdc1c6;\n}\n\n#x1cpostage_box:before {\n\tborder-color: rgba(0, 0, 0, 0);\n\tborder-top-color: #bcbcbc;\n\tborder-width: 11px;\n\tleft: 50%;\n\tmargin-left: -11px;\n\tmargin-top: -1px;\n}\n\n#x1cpostage_box.xkit-no-nipple:after,\n#x1cpostage_box.xkit-no-nipple:before {\n\tdisplay: none;\n}\n\n\n/* in-frame styles */\n\n#iframe_controls, #dashboard_iframe {\n\twidth: auto !important;\n}\n\n.xkit-in-frame-button:before {\n\tcontent: '';\n\tdisplay: inline-block;\n\tvertical-align: bottom;\n\tbackground-size: contain;\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\theight: 24px;\n\tmargin-top: 2px;\n\twidth: 24px;\n}\n\n.xkit-in-frame-button.xkit-button-done {\n\tbackground-color: #59982a !important;\n}\n\n.xkit-in-frame-button.xkit-button-error {\n\tbackground-color: #982a2a !important;\n}\n\n#x1cpostage_in_blog_reblog:before {\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAACsUlEQVQ4y92TXWyLURzGn7etbu20xUJ1GJtMZW1iFuIrSgmJjNiNLLIlEty4IkEkE4lIuJL5uhGyBIkLmW8mFUFkpqMTEjSI1FekLOuqW9v14z3ncVFm64fI7njOzXn/Ob83z//8nwP8x1LylzV/gWqhHzXsm/2oedm0UXr+tiYhPLsbK0cFc61kmvcONzn/cOhpQ+A2I4xQHbEkBSmopnu66xbDUAAOHpQsIEmSyUTHKZiHE7rf28k7AQIyZy4q9BIU8U+vuyAK9ZaQTKnv3ACNvxfADWSaD06YqtZrC/YcOppIXdsEU3ZdGGX07dJt1lximEd/Q0/V8uNnV1V8dXUOFbW1k2ps1aVNhji8A5eDl75gIG/P1Vdg2VG95IChHT/hMv208pUrnG7HXIt9bMrmcz223Lrz/HMon+/iffXJmCAP/XK1sOrIwYBfiLRKUqpqIuq5vqsBpqysz9KUlnu2JyOCJKM8zXM3NkyZv3dL4FWSJHmG9ylJhmP3zruX1WlH2NYquqnWujFmBQBKsBUo+lApnO4ZdgVheHESXYjDgHHG6QtWv9B528VwGLqkfQ5AKABBSNvj9Wq1Q0CHZ9iDl0MeS6yuSiX7ORWPaXDcPJCWkmyVNtqBvsb4VUmyj5cJgnGSZIqxY1FD1m0n0hdeyfMTlHnNiV5zEEEgHtH3kYoyHusyvwcASEQgmDMqoO1NW4uvzPw589URsn5fKjXaQfgyOYADQCjUpdXkgwGE65uRzGwvhl1cnNCVeLERwES0ogXA94Cnu0gWjOnQFE2bV3quD8QG+YSd9PETSf+71v22mbM1v665sFK9/caYkcXGSn2Fvgyi573fe+luu/d1r8jJdl6Z3LWrF7nKa5wDHzr7Pd03O4IfoebJdl5FjQ91XkVDTZoaWSQtIijxr+sHu+9s31zLlM0AAAAASUVORK5CYII=);\n}\n\n#x1cpostage_in_blog_queue:before {\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAADaUlEQVQ4y9VVW0xcVRRd59wHM5cBpjIwRJgyoiYtHZmH0ik2FUihNW3apqmhqcTYNPphjIkx/fDDHw1pTIz+SjTRYn2kjTU+UNRYA0FeJnUo0UiqTmEEKnXAYbjDnce9d/sxWGY6Q+pv988+5+Sss/ZZZ+99gDvSWOFKJ9/Dd/Lt3M6SdJVC5oh5wSSzGFgsWKlUPRm/2eh8TBCtptmvT2tXaBKR28fBd3nPnlb/1g3DzJBBOqV0be3ytxfPPNEKW+F2IRf6gqfzyWBXTb3AGONg4BC4KNXc2xCE3BgbmoOxKe0u71uvZ3STipmmf/9x577NmBkcPceCXc7qHAVpQ06Ri/Z6PjYdW4VZAO4UnM0njvke4QAwrn3w+3K5U7TmsljLSsRwOB6JpXLumXV7eIff/+j6SV8qLza+vBAyAECjbkoDgIwq90MtXeV5+mbdTt7isijZsVEK4KeBz3+ZQ4I8/EP15HqQNp+v1VbknbdzZ4WxPuGnyMqef/adsUlIPAy8NHz4qR0zS8p0w3yVtFoEbCfxAT07IVZNzyR+Vc6yQQDMW//XPUNqQ9k19t1SVJ2iIuAk2SzGRsLKvDcax0cWyeve2+5p2+F3SVWusvGpsfJrqeTs0i1qHxFrO9j9Av8PL+Lnyjr9auzpU4+f3N3m2CI6ZO6qCwRKa6yJ0QgyeYKFaFw107khxRdDUnf7kaO1jZyLYh98jIuyLbj3wOH2wEGeBx4xX7tgJnMvZEzciDZ1uLfJ+Adf4TnEkQRgV+qD+1rahPw65Nh68YyW2kjI3w6+0bEYzehEl8hDArlpjYiI4trIu6OWPGYyEfn0my/OmzfJXSvdJXdpggD48Qrkm1lZmvBeaWIF9XzucoPFoTx8iMkygBJaWVPsCjG2BYcggiFLZ1YkJc0sLMn00NzCkiNZIgpWyaKeezsuBbbWcq5hAn0QcADVANLG4Mz81+eNW8GAEf5jbDocvrGcyoQGe5a3OR/0CfIwjmMFaUjYD2B5vvf9yNSPZtE2NDOL6N2j99msfy6yyYGJpubW3XI/MpDhBKClB/r6hyuM/9EdXZWnj098thrT05QkSqcSK+/1nGjeIGS3wZe1B5qPuuvURGIxEJ2hVz+5Pgt98+6Zb6ryQ68qpWq4r/TNha6FCuO6eWf+MTn2L9VJbUlYLARpAAAAAElFTkSuQmCC);\n}\n\n#x1cpostage_in_blog_draft:before {\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAACNElEQVQ4y+WUy0vUURTHv/enM2qJqaNGJmY+ImzTRGBQoA1GkES0iTa1aVO7oBbhLvoD2rRoGxEktWgRIpklpUamqBlCpGE4mA9kHNDR8Tfz+7Tw0S/n56PaBJ3N5XDO57zuuVf6jwXzd3gYB4NDOuAHDLATGN8ObJPAkMTCwVqB/QDbqA3jNrNj5QSwsEjbPPMo857NLMvQn0ziKu+X6c3dJlKjrzbCXgo2h7M2GgkZW2fuZHhDmyf8Sy6MWe+SVlV0oaS+KGgl9rcPPf3+OKzoT2O6Cx3QqM65yWJ/aWnoZHUoN2hV+kxh94nuXS2tvV+nvEpb33HasYq7d0Y+JZJ2AsC247FXLY2XlO8FtzHg1qt2N14Z+RgH4BGtJIHowrumhrOrHpbL+5QOu+GG/YdCZdV+RfVS99WhRaGczH3B2pAXPKgOl+YLlgePgtSvG+qXreVZZhcdr9HWMn15KeY4MMMTDnKTORwgMR+b40xKZjoZc8N2fCkdI+XrvAKylCkjKWktxL3KrlO5RCE+iQKs1xO9PU5CsjWoiMIaFpKiM11dpjl12hEiWHyRWMTHhPYQi8fgDcWIPK6xBHzru37LY0kUVaFxKJEUk6U8zWqy83NN7ZHMB7LlV7F8Gh3vaWt/kQJjTJkkmSzJ5EvKkFVRc/F0RvRAsD6gXCUXpsamP7S1Pu9fe3tr/8Ntj62JzL8NT85GEjmBQEE8OTp2r+nhs+Y+LW7jqlxRsqmj8reQf1l+APx4N+s7sBEuAAAAAElFTkSuQmCC);\n}\n\n.iframe-controls-container--stroked-buttons #x1cpostage_in_blog_reblog:before {\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAD7klEQVQ4y9WUT2xUVRTGf/e+9+Z/C9PpHzopRV5LK1JDAROQaghlEsBoIkZijImGjSESl4aFG9dqognGkLgwbogYdGH8Fx2LiFbAYk0BKy19pUAFBjqd6XRmOu/Ne9fF2HbaBV177+6e893z3fOd+8H/comVEhISOSsjZVRSrQBOiCUnAp3gXNj216YpYi+HV6UmNAKE0JELRzpBIk9u2tT74edyhAxZSklvEaEtQA1W0UQzDcSoo44odTSwhqYd3c8fLjGuXBcD1yxb3uLd81VX0UoLkaq6AoEOEcMvXn0xHDvVODfCKBOkl9BOCMK0H3xp677uNtD8S94lFEJ4uN71W6+fyP8RuMRY0qnE5H/1I9S3d27r0oN6UMjqjRACJTFkS/zQE15dNbcKbYMIkV37BQqllqunXKl7eN5U+k9LzuGgloPD6KBwvGPvfjcanSfuiXJ67sj2Z494nDzzXl/0dmCcFM6yhgFcON3d+/7HX48FC9OzKAQCiYZxYvjp0tvH+lPRu/zDBNOLamsApoaBP157ZfLTs7s7O9T1y6S4T4a8q7kxo+nMUHugvSYQSBdTuVDRdC23GuzhUB649eukufa1V9aW+74hRZpcCdW6cfvOnqd69u7u2kZcb3SCU/jyZrGitQZgKdND2bHNe44fba5Lj38/gZ8aL0rXrucO9e7rbA77hV+Yse1tMp4NTma1++22pRYmrFG703nk5TcOBwKS2EM9rQf2ztZfXLO5+9CejrghNPEJGbFe+PTmOi9yxdVGyVnlxYZJJ/7wjmBQALp/wy6IzawKP9r9yBrJNL9xnHMUCFJvdK3r2notad9jbn5IsF0ym00qEiqlPC833lna0uwCgxzl3IImsdBjTXqcSEIs0L7t1abO/2yrri1CjPa/9cGFX06PHTA3ROubBatZz0ngTQwgJLN3Lg6VrpO11ILON+Y6Bk4F/DUHDt4rXJ1hCpkpFvNKCRHlGQAClbmhoFwXhVoyJNjFwXc+Cjfk7jJLkfBwLlTYqKQo8jsAf7EJmCyNUM5jo6r+M1jKdIMzP1y7+Ldxmzvo2dUh8/EWQz/LC+RpwGUvMJT5Yrjwk7qRLCytDA7TtefLPlwcCtO+y7EvG/Zv3On7CgcfTcCFmaR1cyA0IWeXOAmAheVapfZismjZZslXzoi0pmTI16a36XEKuUupb4cH+90f9VEKlloGnr8CwHLMsmHfLQ0VJvP5qVrn6mjfzc8GB854fcYVZipO9gDrTWhEvFa5Tm/0+XzSVbbtpMtj8ibZeRN8oG8nNELEWE0NfhxmSXOf/KJ/rmz6Oj4CSFxK2MlydWxFMEBCIlDVjl1Z/wI8QJgZAEdE3gAAAABJRU5ErkJggg==);\n}\n\n.iframe-controls-container--stroked-buttons #x1cpostage_in_blog_queue:before {\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAEHUlEQVQ4y6WUXUxbZRzGn/c9Hz39LqXY8dXykSFsOOjmZAjOgR9MAtFoIhpjJDHZjZE744UmJt55sV34ES8WExezLLsgijGLLlM3dTOjVKYTEDJGyWCsBdq10NPTnvOe40UpbbepS3yvznvy/t7z/z/Pc/7A/1jkH95y4EDBwKDDuH+YQoQZZpjAgSEFBSoYNBh3X3InzMEqVIgVoksyc7yuGuvZhJxKp5BCBuqdOF+yE2BHW+WBjtYu3/A+gerGVxPB+YvToRmEEUMc6VKcFD2JcNV1vdj/1pDLSqETCgOarmmX/vx99vT4RBALiEIrLTOPmuA+1Pnsy4OHGj08IYSCgIInItdQGWhhEp+diyJZKl8eFlHmO/jc0Dsv+Jz0LlkEuscvWv5KrS5CA4NeCvNwYNcbg4M9ta4iBY1CUwKRrB7hp0h2A0qh9BwsCV5/93Bvz0MUQPLqzHfhmLtckIq/b7OY+CurkWUtAaXgKkBEyeHpbnv64dxNi78EPu88NTPPALDM2XeZmuvL5+1sbXFuN5qHXeYHKvbWW01b1dqJgMUT46E1TXntSF/wi6NbspgfbWyTCh0DPFBnFj2O6g4n2zL9wYFJR+Djj74Wp0OmkxGY3rs+/6kWJSL1qNKtdWQKevOA02TYqaXWuwUbJldr/2h4ZPToeRhwO3w2X0jf64oa83I2PgXw4MC2YQuXoQYTObYdG8o/M/LB+isnSXZHY1dbR6CzrpkX3Ofmgle41pC8uYBUTnEOqBHUMlJ9eJfbw5M8z2OljEc48fpLI32DrVVWm91EdpZ3N1kqZWH2NpLQYAAUUDNKIh37La2yYmuiiVlb/1Ov9jT5OSJwJ9BOOM5iPhwYOrjzEbEC4pbakWw8Hl/+8IKWLU790lxEOdDV4hcRxxm8iSQUAOWmPc297RYHBBCAAkt6dPPW0sTl49+ki2IvR3Ybz+9nBjCJtyFvS1xb3ltjE0HzPsPIsBi7dvryZxf0rTNKMqN0SI4sT4EA3oe4ba+Ysc87tNw2Zy2DjNVQsEaqdg20U47HH+OqKarpVsMgpAyD4EGQSytv0TklWwwbyCAGfWwzSkEeryrfoVnS0kT8h4WBZkrSCEJFGtPYDUAzbnhZBgxG4Zc0oCGNxNL05HJDy69XLy5G5fPRGvtjDQL/M4aQQBYC+gCsrB07E74kb0BHccyhQ4MaW4lNXaf19tFvb68yrcrrq/DTJzCMI3gSTqS0T8ZOnZWv6UrxMMgvBrYQnwv+OL5xE/G1VFJ1S1VuH61lNZykycqxL8e+vxHS13MBvdfcpqAAGEQ4Ud+0r7u3wZtUEnF/IsKOn5OncBMbOcHuPfQLKbWaXGQ/4Wyczzy9woXTMZZEOu/bv8G5tkSIuTyBQS2d3v8Fl54x7uP0/a6/AViNn6QcB67OAAAAAElFTkSuQmCC);\n}\n\n.iframe-controls-container--stroked-buttons #x1cpostage_in_blog_draft:before {\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAD0ElEQVQ4y9WUS2xUVRjHf+c+5047bbBaOyDWPmiVAmIlIqjQkAuRiqESAi40bDRxaXDTmBASF+DCjYaoCdFETNAY6zugMFFeEtNi0pAWbVXEQqbQ2tdM53XP3HtcTMtMH9G1d3POzfl+9/99/+87F/6Xj5jduAILRX5hSCz4D9gVdjS3EskwqTnnGgETsfS/JuCG3T0TKlBb96tgxx6lOvYqtW23UntfUsr72w0vTmkzq0VtRClFVCEjqEw5qEpI3QdmFdWu5Qol5sOzaTtsFRuQaoTBQt1ReziHzdrTh6C9XYtXxeNj86s3Zlaf+BcvWpHtm/kFD2AYIMLyZCpSduIEpK/vXOtOxNRiMPg7XwZyZGLebSc0kicvPdEcrYHwcqIk5najCPPNES+1a8ecvLJm91F5VFKx4n45ho3u+qXaJfDz+6fkPEcC+Re3sO5a9fYx2LoODeECsx/QipHvdH72xpz2CTQEkvyomok1MDHQXDHXbYsWWjQR9NEf88AVCAT6pC1rNtXfu7EyGi3vO99z+dK1pgny+ChUTJWk/emh1Oi+F263UENPlNl1m9ta2h5oXVmjhLXa6qk43fvznXEkPgGqRFlbFSj66Y95rkDDSDpG49PPdbQ3NgSYGkg/kGe6v+v68mT9TTzyBCXKH3bakd07Z2rVMWX0sbaO7XUrdHSOU80W3dQfXW9N/5qUX6NQc9ze9/rtAdIwMFsbWzY1NupM0cO7bGEjDpV2/aoNI+dOFdIucfuTw8cPAKJQb7JsZcO6NUpBL6/Qi6RgeWXV4w9hY6GjlcC7Op99bcYsgR5RG+zmGl2D1RxgGbNjFzYeaTrsYqAjirD4+OBXb2FiYRPCIZRE6krAHTxDFRohBOBraSkNdHS02ZoF4X3vY9KwfslAYlKsqb4iT1nyT7fB0iT9THCD32lCMJa8MPjej2iIorJOddfBrlf1hs5jk03fnh285/OPzjvb6vIB/MRTXOEkb5IHEokf+ubPdkAul3PCvucsAd8zMMOhXDp1Yqp9Wav+ARKLpZgMTJ653NcdDghQxSHRrKXeg9iMkAEMbJygUtY2rnty9cPRpU7ICtTk9M3E95fPn4tfdEZJkiKrF+CrqnaaIf7gBiOMMs44E2LcGB4aGpi+FVSU312e838bO3Lx7LlkrzNOhhwe/oL/ErgCAxObMGHKiFBes8RtvjZ+4ToZpkmSIk2aHHJxWEPHIkQIBweHEDrgkyVDhgxZsnj4+kL4KvXFF0VAHo8sGdKkyZAlR65wrxZRLhhYuByYWBjoaECATx4PWUBjwT8deoM/6Yn/8gAAAABJRU5ErkJggg==);\n}\n\n.xkit-in-frame-button.xkit-button-working:before {\n\tbackground-image: url(data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDZEMUIyMTQ0MDFDMTFFM0I3QjRGNERGODZCRDlCN0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDZEMUIyMTU0MDFDMTFFM0I3QjRGNERGODZCRDlCN0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNkQxQjIxMjQwMUMxMUUzQjdCNEY0REY4NkJEOUI3QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNkQxQjIxMzQwMUMxMUUzQjdCNEY0REY4NkJEOUI3QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkQAAEALAAAAAAQABAAAAIVjI+py+0Po3QAmHptwoHzCYbiSDIFACH5BAkQAAEALAcABwAGAAIAAAIFBBJmaAUAIfkECRAAAQAsCwAHAAIAAgAAAgKEUQAh+QQFEAABACwAAAAAAQABAAACAkwBACH5BAUQAAEALAMABwACAAIAAAIChFEAIfkEBRAAAQAsBwAHAAIAAgAAAgKEUQAh+QQFEAABACwAAAAAAQABAAACAkwBADs=) !important;\n}\n","title":"One-Click Postage","description":"Lets you easily reblog, draft and queue posts","developer":"new-xkit","version":"4.4.5","frame":"false","beta":"false","slow":"false"}