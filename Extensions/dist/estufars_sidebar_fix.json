{"id":"estufars_sidebar_fix","script":"//* TITLE Old Sidebar **//\n//* VERSION 1.2.3 **//\n//* DESCRIPTION Get the sidebar back **//\n//* DEVELOPER estufar **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.estufars_sidebar_fix = new Object({\n\n\trunning: false,\n\n\tdone: false,\n\n\tpreferences: {\n\t\t\"dashonly\": {\n\t\t\ttext: \"Only run on the dashboard\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t}\n\t},\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tvar version = XKit.tools.parse_version(XKit.version);\n\t\tif (XKit.browser().firefox && version.major === 7 && version.minor < 8) {\n\t\t\tconsole.warn(\"Refusing to run Old Sidebar on pre-58 Firefox due to pinned-target bug\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (XKit.extensions.estufars_sidebar_fix.preferences.dashonly.value) {\n\t\t\tif (document.location.href.indexOf('://www.tumblr.com/dashboard') === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tvar disallowedurls = [\n\t\t\t\t\"://www.tumblr.com/explore\",\n\t\t\t\t\"://www.tumblr.com/search\",\n\t\t\t\t\"://www.tumblr.com/following\",\n\t\t\t\t\"/reblog\",\n\t\t\t\t\"://www.tumblr.com/help\",\n\t\t\t\t\"://www.tumblr.com/support\",\n\t\t\t\t\"://www.tumblr.com/docs\",\n\t\t\t\t\"://www.tumblr.com/developers\",\n\t\t\t\t\"://www.tumblr.com/about\",\n\t\t\t\t\"://www.tumblr.com/themes\",\n\t\t\t\t\"://www.tumblr.com/policy\",\n\t\t\t\t\"://www.tumblr.com/jobs\",\n\t\t\t\t\"://www.tumblr.com/apps\",\n\t\t\t\t\"://www.tumblr.com/logo\",\n\t\t\t\t\"://www.tumblr.com/business\",\n\t\t\t\t\"://www.tumblr.com/buttons\",\n\t\t\t\t\"://www.tumblr.com/press\",\n\t\t\t\t\"://www.tumblr.com/security\"\n\t\t\t];\n\t\t\tfor (var i = 0; i < disallowedurls.length; i++) {\n\t\t\t\tif (document.location.href.indexOf(disallowedurls[i]) !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tXKit.tools.init_css(\"estufars_sidebar_fix\");\n\n\t\tfunction movesidebar() {\n\t\t\tvar popover = $(\".popover--account-popover\")[0];\n\t\t\tvar sidebar = document.getElementById(\"right_column\");\n\t\t\tpopover.childNodes[0].classList.add(\"estufars_sidebar_fix\");\n\t\t\tsidebar.insertBefore(popover.childNodes[0], sidebar.firstChild);\n\t\t\tvar account = document.getElementById(\"account_button\");\n\t\t\taccount.style.display = \"none\";\n\t\t\t// wait and then let tumblr know the menu is no longer active\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tdocument.querySelector(\".tab_nav_account.active\").click();\n\t\t\t}, 250);\n\t\t}\n\n\t\tif (!$(\".popover--account-popover\").length) {\n\t\t\tvar observer = new MutationObserver(function(mutations) {\n\t\t\t\tmutations.forEach(function(mutation) {\n\t\t\t\t\tvar popover = $(\".popover--account-popover\")[0];\n\t\t\t\t\tif (mutation.addedNodes[0] == popover) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tmovesidebar();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tobserver.observe(document.body, {childList: true});\n\t\t\tvar account = document.getElementById(\"account_button\");\n\t\t\taccount.click();\n\t\t} else {\n\t\t\tmovesidebar();\n\t\t}\n\n\t\tthis.done = true;\n\t},\n\n\tdestroy: function() {\n\t\tXKit.tools.remove_css(\"estufars_sidebar_fix\");\n\t\tthis.running = false;\n\t\tif (!this.done) { return; }\n\t\tthis.done = false;\n\t\tvar account = document.getElementById(\"account_button\");\n\t\tvar sidebar = document.getElementsByClassName(\"estufars_sidebar_fix\")[0];\n\t\taccount.style.display = \"inline-block\";\n\t\tvar popover = $(\".popover--account-popover\")[0];\n\t\tpopover.insertBefore(sidebar, popover.firstChild);\n\t\taccount.click();\n\t\tpopover.style.opacity = \"0\";\n\t\tpopover.style.display = \"block\";\n\t\taccount.click();\n\t\twindow.setTimeout(function() {\n\t\t\tpopover.style.opacity = \"1\";\n\t\t}, 500);\n\t}\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAL8SURBVHjatFbJkRRBDFRqyg1wgPdGYAM81xTemIAp+9tYJzCA4LEfHAAPRClTqu6BYKY+9ERPH1WtIyWlhPefX+x/HgOwyBsYr7xANzy4aIh8E1qfG7gtkO/1r51Af7Aeh5lzWz629PWl5Sp3ozWm9OAeSCtKbe4sa3r/NCkGUgLoRy54mYPenitR0rHOTx/ePT68+RcsT19/fHn5JrnOP4TnrTmML9KXeUJ2oF6hD8cN6fN4fHirjdPNYRJn7STlxAJiWS4olzN3D5ermBAtx3UThYvcWOGTpoXc3aPNHlJlJ7in6fPnygIZ3VnDuG7pmHYr/qM1VZp4ylZmVCqli6nET3nrGw6klITIXBoq56RGWuO4OlMuYN5peTcGc1OiMJwfW4mXsDjL4D6a3b7GRhTcU/o8h13obwRUDJXoKEmMyzQiDtyBzSAzcplFsSLQVIFAi0qXFHUTXEdR35RPu6fZozQRY2NciLeFlATzhmlLAomNAFcd6PPRFTHvRRqsr2Du0FSik3JpkrzZ8MCd2M4gXzwaI4leNYfmofIxSFXTotiqA1Xt9IAuNAdjUeeRSQvyqPqI7UJ2xoD4o0m2v1883QHKpfPLe0GWzSPvOrdVfIUGKuJB5UV9yYMB38tSVz+gByKFjGVl02JWU+7Q9i6RvSALj1loQFnLr09N78yCR5e0Pca+VHEqyMyPo8y6DVdVoTFE9zRsBZnuDxYEuqMzdYsgBN6f/L5HdUlGMk2FhgY8FjTFsUtis5TbVldTH0sPsuSOIcP+qoMz9Wj42Cq0Ls7syW2ZVQhrxqj6Q+si+27XwSKIIeK21W4KjnJLKe9HR7pOrw2URoMdODigZyx0Fwq7Cvh2HZAsciICGHTORawxTUFcZH9F1WM/Pr/+vCH9+fUX6Tr9x8en7+e1uJpKC//jJFmXM3GGLeyaII/ht1tx5aQfA4omVmcMxOK+ooRuRT3I9ni6xttmtNE8IHuObdaEdEylmvgYkZLIQSk6BUqOqDFqKPktwACwoUhAKRqCTgAAAABJRU5ErkJggg==","css":".popover--account-popover {\n\tdisplay: none;\n}\n\n.right_column:after {\n\tbackground: none!important;\n}\n\n.right_column .popover_menu {\n\twidth: auto!important;\n\tbox-shadow: none!important;\n\tbackground: transparent!important;\n\tz-index: 0;\n\tposition: static;\n}\n\n.right_column .popover .popover_inner_list .selected:not(.popover_menu_sublist) {\n\tbackground-color: transparent!important;\n}\n\n.right_column .popover_inner {\n\tborder-radius: 0!important;\n\tbox-shadow: none!important;\n\tpadding: 0!important;\n\tbackground: transparent!important;\n}\n\n.right_column .popover_header {\n\tborder-radius: 0;\n\tbackground: transparent;\n\tcolor: rgba(255,255,255,.3);\n\tpadding: 0 10px;\n\tborder-bottom: 1px solid rgba(255,255,255,.13);\n\tfont-size: 12px;\n}\n\n.right_column .popover_header:not(:first-child) {\n\tpadding-top: 18px;\n}\n\n.right_column .popover_menu_item:hover {\n\tbackground-color: transparent;\n}\n\n.right_column .popover_menu_item_anchor:hover, .right_column .popover_menu_list .popover_menu_sublist .blog-sub-nav-item:hover, .right_column .blog-list-item:hover {\n\tbackground-color: #3c4b61!important;\n\tbackground-color: rgba(255,255,255,.05)!important;\n\tbox-shadow: none!important;\n}\n\n.right_column .blog-list-item:hover .blog-list-item-info-name {\n\tcolor: rgba(255,255,255,.5)!important;\n}\n\n.right_column .popover_menu_item a, .right_column .blog-sub-nav-item-label {\n\tcolor: rgba(255,255,255,.5)!important;\n\tpadding-left: 0;\n}\n\n.right_column .popover_item_suffix, .right_column .blog-sub-nav-item-data, .right_column .blog-list-item-info-title {\n\tcolor: rgba(255,255,255,.3)!important;\n}\n\n.right_column .popover .selected:not(.popover_menu_sublist) {\n\tbackground-color: rgba(255,255,255,.08)!important;\n\tbox-shadow: none!important;\n}\n\n.right_column .popover_menu_item_blog {\n\tpadding: 0;\n}\n\n.right_column .blog-list-item {\n\tpadding-left: 10px;\n}\n\n.right_column .blog-sub-nav-item {\n\tpadding: 0!important;\n}\n\n.right_column .popover_menu_item, .right_column .blog-sub-nav-item {\n\tborder-top: 1px solid rgba(255,255,255,.08);\n}\n\n.right_column .blog-sub-nav-item a {\n\tpadding: 10px!important;\n}\n\n.right_column .popover_menu_item {\n\tpadding: 0;\n}\n\n.right_column .popover_menu_item .popover_menu_item_anchor {\n\tdisplay: block;\n\tpadding: 10px;\n}\n\n.right_column .popover_menu_item_anchor_icon {\n\tpadding-right: 10px;\n}\n\n.right_column .popover_menu_item_anchor, .right_column .blog-sub-nav-item-label {\n\tfont-weight: bold;\n}\n\n.right_column .tx-scrollbar-track {\n\tdisplay: none;\n}\n\n/* icon styles are from tumblr, they weren't getting applied when the menu is relocated */\n\n.right_column .popover_menu_item_anchor_icon {\n\tfont-family: \"tumblr-icons\",\"Blank\";\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tfont-style: normal;\n\tfont-variant: normal;\n\tfont-weight: 400;\n\ttext-decoration: none;\n\ttext-transform: none;\n}\n\n.right_column .popover_menu_item_anchor_icon.like-icon::before {\n\tcontent: \"\\EA4F\";\n}\n\n.right_column .popover_menu_item_anchor_icon.following-icon::before {\n\tcontent: \"\\EA44\";\n}\n\n.right_column .popover_menu_item_anchor_icon.settings-icon::before {\n\tcontent: \"\\EA9B\";\n}\n\n.right_column .popover_menu_item_anchor_icon.help-icon::before {\n\tcontent: \"\\EA4B\";\n}\n\n.right_column .tx-scroll {\n\tborder-radius: 0!important;\n}\n\n.right_column .popover_menu_item_blog_details {\n\toverflow: hidden;\n}\n\n.right_column .popover_menu+#dashboard_controls_open_blog {\n\tdisplay: none;\n}\n","title":"Old Sidebar","description":"Get the sidebar back","developer":"estufar","version":"1.2.3","frame":"false","beta":"false","slow":"false"}